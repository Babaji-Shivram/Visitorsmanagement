(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function Hm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xc={exports:{}},El={},Zc={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var is=Symbol.for("react.element"),qm=Symbol.for("react.portal"),Qm=Symbol.for("react.fragment"),Km=Symbol.for("react.strict_mode"),Ym=Symbol.for("react.profiler"),Gm=Symbol.for("react.provider"),Jm=Symbol.for("react.context"),Xm=Symbol.for("react.forward_ref"),Zm=Symbol.for("react.suspense"),ef=Symbol.for("react.memo"),tf=Symbol.for("react.lazy"),Eo=Symbol.iterator;function nf(e){return e===null||typeof e!="object"?null:(e=Eo&&e[Eo]||e["@@iterator"],typeof e=="function"?e:null)}var eu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tu=Object.assign,nu={};function or(e,t,n){this.props=e,this.context=t,this.refs=nu,this.updater=n||eu}or.prototype.isReactComponent={};or.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};or.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ru(){}ru.prototype=or.prototype;function Ni(e,t,n){this.props=e,this.context=t,this.refs=nu,this.updater=n||eu}var ji=Ni.prototype=new ru;ji.constructor=Ni;tu(ji,or.prototype);ji.isPureReactComponent=!0;var Po=Array.isArray,su=Object.prototype.hasOwnProperty,bi={current:null},lu={key:!0,ref:!0,__self:!0,__source:!0};function au(e,t,n){var s,l={},a=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)su.call(t,s)&&!lu.hasOwnProperty(s)&&(l[s]=t[s]);var c=arguments.length-2;if(c===1)l.children=n;else if(1<c){for(var o=Array(c),d=0;d<c;d++)o[d]=arguments[d+2];l.children=o}if(e&&e.defaultProps)for(s in c=e.defaultProps,c)l[s]===void 0&&(l[s]=c[s]);return{$$typeof:is,type:e,key:a,ref:i,props:l,_owner:bi.current}}function rf(e,t){return{$$typeof:is,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ki(e){return typeof e=="object"&&e!==null&&e.$$typeof===is}function sf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Lo=/\/+/g;function Yl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sf(""+e.key):t.toString(36)}function $s(e,t,n,s,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case is:case qm:i=!0}}if(i)return i=e,l=l(i),e=s===""?"."+Yl(i,0):s,Po(l)?(n="",e!=null&&(n=e.replace(Lo,"$&/")+"/"),$s(l,t,n,"",function(d){return d})):l!=null&&(ki(l)&&(l=rf(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Lo,"$&/")+"/")+e)),t.push(l)),1;if(i=0,s=s===""?".":s+":",Po(e))for(var c=0;c<e.length;c++){a=e[c];var o=s+Yl(a,c);i+=$s(a,t,n,o,l)}else if(o=nf(e),typeof o=="function")for(e=o.call(e),c=0;!(a=e.next()).done;)a=a.value,o=s+Yl(a,c++),i+=$s(a,t,n,o,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ys(e,t,n){if(e==null)return e;var s=[],l=0;return $s(e,s,"","",function(a){return t.call(n,a,l++)}),s}function lf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},_s={transition:null},af={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:_s,ReactCurrentOwner:bi};function iu(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:ys,forEach:function(e,t,n){ys(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ys(e,function(){t++}),t},toArray:function(e){return ys(e,function(t){return t})||[]},only:function(e){if(!ki(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=or;X.Fragment=Qm;X.Profiler=Ym;X.PureComponent=Ni;X.StrictMode=Km;X.Suspense=Zm;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=af;X.act=iu;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=tu({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=bi.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)su.call(t,o)&&!lu.hasOwnProperty(o)&&(s[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){c=Array(o);for(var d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}return{$$typeof:is,type:e.type,key:l,ref:a,props:s,_owner:i}};X.createContext=function(e){return e={$$typeof:Jm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Gm,_context:e},e.Consumer=e};X.createElement=au;X.createFactory=function(e){var t=au.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:Xm,render:e}};X.isValidElement=ki;X.lazy=function(e){return{$$typeof:tf,_payload:{_status:-1,_result:e},_init:lf}};X.memo=function(e,t){return{$$typeof:ef,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=_s.transition;_s.transition={};try{e()}finally{_s.transition=t}};X.unstable_act=iu;X.useCallback=function(e,t){return $e.current.useCallback(e,t)};X.useContext=function(e){return $e.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};X.useEffect=function(e,t){return $e.current.useEffect(e,t)};X.useId=function(){return $e.current.useId()};X.useImperativeHandle=function(e,t,n){return $e.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return $e.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return $e.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return $e.current.useMemo(e,t)};X.useReducer=function(e,t,n){return $e.current.useReducer(e,t,n)};X.useRef=function(e){return $e.current.useRef(e)};X.useState=function(e){return $e.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return $e.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return $e.current.useTransition()};X.version="18.3.1";Zc.exports=X;var h=Zc.exports;const ou=Hm(h);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var of=h,cf=Symbol.for("react.element"),uf=Symbol.for("react.fragment"),df=Object.prototype.hasOwnProperty,mf=of.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ff={key:!0,ref:!0,__self:!0,__source:!0};function cu(e,t,n){var s,l={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)df.call(t,s)&&!ff.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:cf,type:e,key:a,ref:i,props:l,_owner:mf.current}}El.Fragment=uf;El.jsx=cu;El.jsxs=cu;Xc.exports=El;var r=Xc.exports,uu={exports:{}},Je={},du={exports:{}},mu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,V){var A=T.length;T.push(V);e:for(;0<A;){var F=A-1>>>1,Y=T[F];if(0<l(Y,V))T[F]=V,T[A]=Y,A=F;else break e}}function n(T){return T.length===0?null:T[0]}function s(T){if(T.length===0)return null;var V=T[0],A=T.pop();if(A!==V){T[0]=A;e:for(var F=0,Y=T.length,L=Y>>>1;F<L;){var K=2*(F+1)-1,ae=T[K],re=K+1,E=T[re];if(0>l(ae,A))re<Y&&0>l(E,ae)?(T[F]=E,T[re]=A,F=re):(T[F]=ae,T[K]=A,F=K);else if(re<Y&&0>l(E,A))T[F]=E,T[re]=A,F=re;else break e}}return V}function l(T,V){var A=T.sortIndex-V.sortIndex;return A!==0?A:T.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,c=i.now();e.unstable_now=function(){return i.now()-c}}var o=[],d=[],x=1,v=null,y=3,p=!1,g=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(T){for(var V=n(d);V!==null;){if(V.callback===null)s(d);else if(V.startTime<=T)s(d),V.sortIndex=V.expirationTime,t(o,V);else break;V=n(d)}}function w(T){if(b=!1,f(T),!g)if(n(o)!==null)g=!0,J(j);else{var V=n(d);V!==null&&H(w,V.startTime-T)}}function j(T,V){g=!1,b&&(b=!1,m(R),R=-1),p=!0;var A=y;try{for(f(V),v=n(o);v!==null&&(!(v.expirationTime>V)||T&&!O());){var F=v.callback;if(typeof F=="function"){v.callback=null,y=v.priorityLevel;var Y=F(v.expirationTime<=V);V=e.unstable_now(),typeof Y=="function"?v.callback=Y:v===n(o)&&s(o),f(V)}else s(o);v=n(o)}if(v!==null)var L=!0;else{var K=n(d);K!==null&&H(w,K.startTime-V),L=!1}return L}finally{v=null,y=A,p=!1}}var N=!1,P=null,R=-1,z=5,M=-1;function O(){return!(e.unstable_now()-M<z)}function D(){if(P!==null){var T=e.unstable_now();M=T;var V=!0;try{V=P(!0,T)}finally{V?ee():(N=!1,P=null)}}else N=!1}var ee;if(typeof u=="function")ee=function(){u(D)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,B=G.port2;G.port1.onmessage=D,ee=function(){B.postMessage(null)}}else ee=function(){S(D,0)};function J(T){P=T,N||(N=!0,ee())}function H(T,V){R=S(function(){T(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,J(j))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(o)},e.unstable_next=function(T){switch(y){case 1:case 2:case 3:var V=3;break;default:V=y}var A=y;y=V;try{return T()}finally{y=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,V){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var A=y;y=T;try{return V()}finally{y=A}},e.unstable_scheduleCallback=function(T,V,A){var F=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?F+A:F):A=F,T){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=A+Y,T={id:x++,callback:V,priorityLevel:T,startTime:A,expirationTime:Y,sortIndex:-1},A>F?(T.sortIndex=A,t(d,T),n(o)===null&&T===n(d)&&(b?(m(R),R=-1):b=!0,H(w,A-F))):(T.sortIndex=Y,t(o,T),g||p||(g=!0,J(j))),T},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(T){var V=y;return function(){var A=y;y=V;try{return T.apply(this,arguments)}finally{y=A}}}})(mu);du.exports=mu;var hf=du.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pf=h,Ge=hf;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fu=new Set,Ur={};function En(e,t){Jn(e,t),Jn(e+"Capture",t)}function Jn(e,t){for(Ur[e]=t,e=0;e<t.length;e++)fu.add(t[e])}var It=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sa=Object.prototype.hasOwnProperty,xf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ro={},To={};function gf(e){return Sa.call(To,e)?!0:Sa.call(Ro,e)?!1:xf.test(e)?To[e]=!0:(Ro[e]=!0,!1)}function yf(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vf(e,t,n,s){if(t===null||typeof t>"u"||yf(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _e(e,t,n,s,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new _e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new _e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new _e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new _e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new _e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new _e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new _e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new _e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new _e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Si=/[\-:]([a-z])/g;function Ci(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Si,Ci);Re[t]=new _e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Si,Ci);Re[t]=new _e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Si,Ci);Re[t]=new _e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new _e(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new _e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ei(e,t,n,s){var l=Re.hasOwnProperty(t)?Re[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vf(t,n,l,s)&&(n=null),s||l===null?gf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Dt=pf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vs=Symbol.for("react.element"),In=Symbol.for("react.portal"),An=Symbol.for("react.fragment"),Pi=Symbol.for("react.strict_mode"),Ca=Symbol.for("react.profiler"),hu=Symbol.for("react.provider"),pu=Symbol.for("react.context"),Li=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Pa=Symbol.for("react.suspense_list"),Ri=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),xu=Symbol.for("react.offscreen"),Io=Symbol.iterator;function gr(e){return e===null||typeof e!="object"?null:(e=Io&&e[Io]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,Gl;function Cr(e){if(Gl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gl=t&&t[1]||""}return`
`+Gl+e}var Jl=!1;function Xl(e,t){if(!e||Jl)return"";Jl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var l=d.stack.split(`
`),a=s.stack.split(`
`),i=l.length-1,c=a.length-1;1<=i&&0<=c&&l[i]!==a[c];)c--;for(;1<=i&&0<=c;i--,c--)if(l[i]!==a[c]){if(i!==1||c!==1)do if(i--,c--,0>c||l[i]!==a[c]){var o=`
`+l[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=i&&0<=c);break}}}finally{Jl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Cr(e):""}function wf(e){switch(e.tag){case 5:return Cr(e.type);case 16:return Cr("Lazy");case 13:return Cr("Suspense");case 19:return Cr("SuspenseList");case 0:case 2:case 15:return e=Xl(e.type,!1),e;case 11:return e=Xl(e.type.render,!1),e;case 1:return e=Xl(e.type,!0),e;default:return""}}function La(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case An:return"Fragment";case In:return"Portal";case Ca:return"Profiler";case Pi:return"StrictMode";case Ea:return"Suspense";case Pa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pu:return(e.displayName||"Context")+".Consumer";case hu:return(e._context.displayName||"Context")+".Provider";case Li:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ri:return t=e.displayName||null,t!==null?t:La(e.type)||"Memo";case _t:t=e._payload,e=e._init;try{return La(e(t))}catch{}}return null}function Nf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return La(t);case 8:return t===Pi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jf(e){var t=gu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){s=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ws(e){e._valueTracker||(e._valueTracker=jf(e))}function yu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=gu(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function tl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ra(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ao(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=tn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vu(e,t){t=t.checked,t!=null&&Ei(e,"checked",t,!1)}function Ta(e,t){vu(e,t);var n=tn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ia(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ia(e,t.type,tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ia(e,t,n){(t!=="number"||tl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Er=Array.isArray;function Wn(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+tn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Aa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oo(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Er(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tn(n)}}function wu(e,t){var n=tn(t.value),s=tn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Fo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Nu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ma(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Nu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ns,ju=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ns=Ns||document.createElement("div"),Ns.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bf=["Webkit","ms","Moz","O"];Object.keys(Rr).forEach(function(e){bf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rr[t]=Rr[e]})});function bu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Rr.hasOwnProperty(e)&&Rr[e]?(""+t).trim():t+"px"}function ku(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=bu(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var kf=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oa(e,t){if(t){if(kf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Fa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Da=null;function Ti(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Va=null,Hn=null,qn=null;function Do(e){if(e=us(e)){if(typeof Va!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Il(t),Va(e.stateNode,e.type,t))}}function Su(e){Hn?qn?qn.push(e):qn=[e]:Hn=e}function Cu(){if(Hn){var e=Hn,t=qn;if(qn=Hn=null,Do(e),t)for(e=0;e<t.length;e++)Do(t[e])}}function Eu(e,t){return e(t)}function Pu(){}var Zl=!1;function Lu(e,t,n){if(Zl)return e(t,n);Zl=!0;try{return Eu(e,t,n)}finally{Zl=!1,(Hn!==null||qn!==null)&&(Pu(),Cu())}}function Br(e,t){var n=e.stateNode;if(n===null)return null;var s=Il(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var $a=!1;if(It)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){$a=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{$a=!1}function Sf(e,t,n,s,l,a,i,c,o){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(x){this.onError(x)}}var Tr=!1,nl=null,rl=!1,_a=null,Cf={onError:function(e){Tr=!0,nl=e}};function Ef(e,t,n,s,l,a,i,c,o){Tr=!1,nl=null,Sf.apply(Cf,arguments)}function Pf(e,t,n,s,l,a,i,c,o){if(Ef.apply(this,arguments),Tr){if(Tr){var d=nl;Tr=!1,nl=null}else throw Error(I(198));rl||(rl=!0,_a=d)}}function Pn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ru(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vo(e){if(Pn(e)!==e)throw Error(I(188))}function Lf(e){var t=e.alternate;if(!t){if(t=Pn(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return Vo(l),e;if(a===s)return Vo(l),t;a=a.sibling}throw Error(I(188))}if(n.return!==s.return)n=l,s=a;else{for(var i=!1,c=l.child;c;){if(c===n){i=!0,n=l,s=a;break}if(c===s){i=!0,s=l,n=a;break}c=c.sibling}if(!i){for(c=a.child;c;){if(c===n){i=!0,n=a,s=l;break}if(c===s){i=!0,s=a,n=l;break}c=c.sibling}if(!i)throw Error(I(189))}}if(n.alternate!==s)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function Tu(e){return e=Lf(e),e!==null?Iu(e):null}function Iu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Iu(e);if(t!==null)return t;e=e.sibling}return null}var Au=Ge.unstable_scheduleCallback,$o=Ge.unstable_cancelCallback,Rf=Ge.unstable_shouldYield,Tf=Ge.unstable_requestPaint,ve=Ge.unstable_now,If=Ge.unstable_getCurrentPriorityLevel,Ii=Ge.unstable_ImmediatePriority,Mu=Ge.unstable_UserBlockingPriority,sl=Ge.unstable_NormalPriority,Af=Ge.unstable_LowPriority,Ou=Ge.unstable_IdlePriority,Pl=null,Nt=null;function Mf(e){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Pl,e,void 0,(e.current.flags&128)===128)}catch{}}var dt=Math.clz32?Math.clz32:Df,Of=Math.log,Ff=Math.LN2;function Df(e){return e>>>=0,e===0?32:31-(Of(e)/Ff|0)|0}var js=64,bs=4194304;function Pr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ll(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var c=i&~l;c!==0?s=Pr(c):(a&=i,a!==0&&(s=Pr(a)))}else i=n&~l,i!==0?s=Pr(i):a!==0&&(s=Pr(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-dt(t),l=1<<n,s|=e[n],t&=~l;return s}function Vf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $f(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-dt(a),c=1<<i,o=l[i];o===-1?(!(c&n)||c&s)&&(l[i]=Vf(c,t)):o<=t&&(e.expiredLanes|=c),a&=~c}}function Ua(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fu(){var e=js;return js<<=1,!(js&4194240)&&(js=64),e}function ea(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function os(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dt(t),e[t]=n}function _f(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-dt(n),a=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~a}}function Ai(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-dt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var le=0;function Du(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vu,Mi,$u,_u,Uu,za=!1,ks=[],qt=null,Qt=null,Kt=null,Wr=new Map,Hr=new Map,zt=[],Uf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _o(e,t){switch(e){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":Kt=null;break;case"pointerover":case"pointerout":Wr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hr.delete(t.pointerId)}}function vr(e,t,n,s,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[l]},t!==null&&(t=us(t),t!==null&&Mi(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function zf(e,t,n,s,l){switch(t){case"focusin":return qt=vr(qt,e,t,n,s,l),!0;case"dragenter":return Qt=vr(Qt,e,t,n,s,l),!0;case"mouseover":return Kt=vr(Kt,e,t,n,s,l),!0;case"pointerover":var a=l.pointerId;return Wr.set(a,vr(Wr.get(a)||null,e,t,n,s,l)),!0;case"gotpointercapture":return a=l.pointerId,Hr.set(a,vr(Hr.get(a)||null,e,t,n,s,l)),!0}return!1}function zu(e){var t=fn(e.target);if(t!==null){var n=Pn(t);if(n!==null){if(t=n.tag,t===13){if(t=Ru(n),t!==null){e.blockedOn=t,Uu(e.priority,function(){$u(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ba(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Da=s,n.target.dispatchEvent(s),Da=null}else return t=us(n),t!==null&&Mi(t),e.blockedOn=n,!1;t.shift()}return!0}function Uo(e,t,n){Us(e)&&n.delete(t)}function Bf(){za=!1,qt!==null&&Us(qt)&&(qt=null),Qt!==null&&Us(Qt)&&(Qt=null),Kt!==null&&Us(Kt)&&(Kt=null),Wr.forEach(Uo),Hr.forEach(Uo)}function wr(e,t){e.blockedOn===t&&(e.blockedOn=null,za||(za=!0,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,Bf)))}function qr(e){function t(l){return wr(l,e)}if(0<ks.length){wr(ks[0],e);for(var n=1;n<ks.length;n++){var s=ks[n];s.blockedOn===e&&(s.blockedOn=null)}}for(qt!==null&&wr(qt,e),Qt!==null&&wr(Qt,e),Kt!==null&&wr(Kt,e),Wr.forEach(t),Hr.forEach(t),n=0;n<zt.length;n++)s=zt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<zt.length&&(n=zt[0],n.blockedOn===null);)zu(n),n.blockedOn===null&&zt.shift()}var Qn=Dt.ReactCurrentBatchConfig,al=!0;function Wf(e,t,n,s){var l=le,a=Qn.transition;Qn.transition=null;try{le=1,Oi(e,t,n,s)}finally{le=l,Qn.transition=a}}function Hf(e,t,n,s){var l=le,a=Qn.transition;Qn.transition=null;try{le=4,Oi(e,t,n,s)}finally{le=l,Qn.transition=a}}function Oi(e,t,n,s){if(al){var l=Ba(e,t,n,s);if(l===null)ua(e,t,s,il,n),_o(e,s);else if(zf(l,e,t,n,s))s.stopPropagation();else if(_o(e,s),t&4&&-1<Uf.indexOf(e)){for(;l!==null;){var a=us(l);if(a!==null&&Vu(a),a=Ba(e,t,n,s),a===null&&ua(e,t,s,il,n),a===l)break;l=a}l!==null&&s.stopPropagation()}else ua(e,t,s,null,n)}}var il=null;function Ba(e,t,n,s){if(il=null,e=Ti(s),e=fn(e),e!==null)if(t=Pn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ru(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return il=e,null}function Bu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(If()){case Ii:return 1;case Mu:return 4;case sl:case Af:return 16;case Ou:return 536870912;default:return 16}default:return 16}}var Wt=null,Fi=null,zs=null;function Wu(){if(zs)return zs;var e,t=Fi,n=t.length,s,l="value"in Wt?Wt.value:Wt.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===l[a-s];s++);return zs=l.slice(e,1<s?1-s:void 0)}function Bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ss(){return!0}function zo(){return!1}function Xe(e){function t(n,s,l,a,i){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ss:zo,this.isPropagationStopped=zo,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),t}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=Xe(cr),cs=ge({},cr,{view:0,detail:0}),qf=Xe(cs),ta,na,Nr,Ll=ge({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nr&&(Nr&&e.type==="mousemove"?(ta=e.screenX-Nr.screenX,na=e.screenY-Nr.screenY):na=ta=0,Nr=e),ta)},movementY:function(e){return"movementY"in e?e.movementY:na}}),Bo=Xe(Ll),Qf=ge({},Ll,{dataTransfer:0}),Kf=Xe(Qf),Yf=ge({},cs,{relatedTarget:0}),ra=Xe(Yf),Gf=ge({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jf=Xe(Gf),Xf=ge({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zf=Xe(Xf),eh=ge({},cr,{data:0}),Wo=Xe(eh),th={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rh[e])?!!t[e]:!1}function Vi(){return sh}var lh=ge({},cs,{key:function(e){if(e.key){var t=th[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vi,charCode:function(e){return e.type==="keypress"?Bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ah=Xe(lh),ih=ge({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ho=Xe(ih),oh=ge({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vi}),ch=Xe(oh),uh=ge({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),dh=Xe(uh),mh=ge({},Ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fh=Xe(mh),hh=[9,13,27,32],$i=It&&"CompositionEvent"in window,Ir=null;It&&"documentMode"in document&&(Ir=document.documentMode);var ph=It&&"TextEvent"in window&&!Ir,Hu=It&&(!$i||Ir&&8<Ir&&11>=Ir),qo=" ",Qo=!1;function qu(e,t){switch(e){case"keyup":return hh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mn=!1;function xh(e,t){switch(e){case"compositionend":return Qu(t);case"keypress":return t.which!==32?null:(Qo=!0,qo);case"textInput":return e=t.data,e===qo&&Qo?null:e;default:return null}}function gh(e,t){if(Mn)return e==="compositionend"||!$i&&qu(e,t)?(e=Wu(),zs=Fi=Wt=null,Mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hu&&t.locale!=="ko"?null:t.data;default:return null}}var yh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ko(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yh[e.type]:t==="textarea"}function Ku(e,t,n,s){Su(s),t=ol(t,"onChange"),0<t.length&&(n=new Di("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ar=null,Qr=null;function vh(e){ld(e,0)}function Rl(e){var t=Dn(e);if(yu(t))return e}function wh(e,t){if(e==="change")return t}var Yu=!1;if(It){var sa;if(It){var la="oninput"in document;if(!la){var Yo=document.createElement("div");Yo.setAttribute("oninput","return;"),la=typeof Yo.oninput=="function"}sa=la}else sa=!1;Yu=sa&&(!document.documentMode||9<document.documentMode)}function Go(){Ar&&(Ar.detachEvent("onpropertychange",Gu),Qr=Ar=null)}function Gu(e){if(e.propertyName==="value"&&Rl(Qr)){var t=[];Ku(t,Qr,e,Ti(e)),Lu(vh,t)}}function Nh(e,t,n){e==="focusin"?(Go(),Ar=t,Qr=n,Ar.attachEvent("onpropertychange",Gu)):e==="focusout"&&Go()}function jh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rl(Qr)}function bh(e,t){if(e==="click")return Rl(t)}function kh(e,t){if(e==="input"||e==="change")return Rl(t)}function Sh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ht=typeof Object.is=="function"?Object.is:Sh;function Kr(e,t){if(ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!Sa.call(t,l)||!ht(e[l],t[l]))return!1}return!0}function Jo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xo(e,t){var n=Jo(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jo(n)}}function Ju(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ju(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xu(){for(var e=window,t=tl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=tl(e.document)}return t}function _i(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ch(e){var t=Xu(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ju(n.ownerDocument.documentElement,n)){if(s!==null&&_i(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(s.start,l);s=s.end===void 0?a:Math.min(s.end,l),!e.extend&&a>s&&(l=s,s=a,a=l),l=Xo(n,a);var i=Xo(n,s);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Eh=It&&"documentMode"in document&&11>=document.documentMode,On=null,Wa=null,Mr=null,Ha=!1;function Zo(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ha||On==null||On!==tl(s)||(s=On,"selectionStart"in s&&_i(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Mr&&Kr(Mr,s)||(Mr=s,s=ol(Wa,"onSelect"),0<s.length&&(t=new Di("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=On)))}function Cs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fn={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},aa={},Zu={};It&&(Zu=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function Tl(e){if(aa[e])return aa[e];if(!Fn[e])return e;var t=Fn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Zu)return aa[e]=t[n];return e}var ed=Tl("animationend"),td=Tl("animationiteration"),nd=Tl("animationstart"),rd=Tl("transitionend"),sd=new Map,ec="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rn(e,t){sd.set(e,t),En(t,[e])}for(var ia=0;ia<ec.length;ia++){var oa=ec[ia],Ph=oa.toLowerCase(),Lh=oa[0].toUpperCase()+oa.slice(1);rn(Ph,"on"+Lh)}rn(ed,"onAnimationEnd");rn(td,"onAnimationIteration");rn(nd,"onAnimationStart");rn("dblclick","onDoubleClick");rn("focusin","onFocus");rn("focusout","onBlur");rn(rd,"onTransitionEnd");Jn("onMouseEnter",["mouseout","mouseover"]);Jn("onMouseLeave",["mouseout","mouseover"]);Jn("onPointerEnter",["pointerout","pointerover"]);Jn("onPointerLeave",["pointerout","pointerover"]);En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));En("onBeforeInput",["compositionend","keypress","textInput","paste"]);En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function tc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Pf(s,t,void 0,e),e.currentTarget=null}function ld(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var c=s[i],o=c.instance,d=c.currentTarget;if(c=c.listener,o!==a&&l.isPropagationStopped())break e;tc(l,c,d),a=o}else for(i=0;i<s.length;i++){if(c=s[i],o=c.instance,d=c.currentTarget,c=c.listener,o!==a&&l.isPropagationStopped())break e;tc(l,c,d),a=o}}}if(rl)throw e=_a,rl=!1,_a=null,e}function ue(e,t){var n=t[Ga];n===void 0&&(n=t[Ga]=new Set);var s=e+"__bubble";n.has(s)||(ad(t,e,2,!1),n.add(s))}function ca(e,t,n){var s=0;t&&(s|=4),ad(n,e,s,t)}var Es="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[Es]){e[Es]=!0,fu.forEach(function(n){n!=="selectionchange"&&(Rh.has(n)||ca(n,!1,e),ca(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Es]||(t[Es]=!0,ca("selectionchange",!1,t))}}function ad(e,t,n,s){switch(Bu(t)){case 1:var l=Wf;break;case 4:l=Hf;break;default:l=Oi}n=l.bind(null,t,n,e),l=void 0,!$a||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ua(e,t,n,s,l){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var c=s.stateNode.containerInfo;if(c===l||c.nodeType===8&&c.parentNode===l)break;if(i===4)for(i=s.return;i!==null;){var o=i.tag;if((o===3||o===4)&&(o=i.stateNode.containerInfo,o===l||o.nodeType===8&&o.parentNode===l))return;i=i.return}for(;c!==null;){if(i=fn(c),i===null)return;if(o=i.tag,o===5||o===6){s=a=i;continue e}c=c.parentNode}}s=s.return}Lu(function(){var d=a,x=Ti(n),v=[];e:{var y=sd.get(e);if(y!==void 0){var p=Di,g=e;switch(e){case"keypress":if(Bs(n)===0)break e;case"keydown":case"keyup":p=ah;break;case"focusin":g="focus",p=ra;break;case"focusout":g="blur",p=ra;break;case"beforeblur":case"afterblur":p=ra;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Kf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ch;break;case ed:case td:case nd:p=Jf;break;case rd:p=dh;break;case"scroll":p=qf;break;case"wheel":p=fh;break;case"copy":case"cut":case"paste":p=Zf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ho}var b=(t&4)!==0,S=!b&&e==="scroll",m=b?y!==null?y+"Capture":null:y;b=[];for(var u=d,f;u!==null;){f=u;var w=f.stateNode;if(f.tag===5&&w!==null&&(f=w,m!==null&&(w=Br(u,m),w!=null&&b.push(Gr(u,w,f)))),S)break;u=u.return}0<b.length&&(y=new p(y,g,null,n,x),v.push({event:y,listeners:b}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",y&&n!==Da&&(g=n.relatedTarget||n.fromElement)&&(fn(g)||g[At]))break e;if((p||y)&&(y=x.window===x?x:(y=x.ownerDocument)?y.defaultView||y.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=d,g=g?fn(g):null,g!==null&&(S=Pn(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(b=Bo,w="onMouseLeave",m="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(b=Ho,w="onPointerLeave",m="onPointerEnter",u="pointer"),S=p==null?y:Dn(p),f=g==null?y:Dn(g),y=new b(w,u+"leave",p,n,x),y.target=S,y.relatedTarget=f,w=null,fn(x)===d&&(b=new b(m,u+"enter",g,n,x),b.target=f,b.relatedTarget=S,w=b),S=w,p&&g)t:{for(b=p,m=g,u=0,f=b;f;f=Rn(f))u++;for(f=0,w=m;w;w=Rn(w))f++;for(;0<u-f;)b=Rn(b),u--;for(;0<f-u;)m=Rn(m),f--;for(;u--;){if(b===m||m!==null&&b===m.alternate)break t;b=Rn(b),m=Rn(m)}b=null}else b=null;p!==null&&nc(v,y,p,b,!1),g!==null&&S!==null&&nc(v,S,g,b,!0)}}e:{if(y=d?Dn(d):window,p=y.nodeName&&y.nodeName.toLowerCase(),p==="select"||p==="input"&&y.type==="file")var j=wh;else if(Ko(y))if(Yu)j=kh;else{j=jh;var N=Nh}else(p=y.nodeName)&&p.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(j=bh);if(j&&(j=j(e,d))){Ku(v,j,n,x);break e}N&&N(e,y,d),e==="focusout"&&(N=y._wrapperState)&&N.controlled&&y.type==="number"&&Ia(y,"number",y.value)}switch(N=d?Dn(d):window,e){case"focusin":(Ko(N)||N.contentEditable==="true")&&(On=N,Wa=d,Mr=null);break;case"focusout":Mr=Wa=On=null;break;case"mousedown":Ha=!0;break;case"contextmenu":case"mouseup":case"dragend":Ha=!1,Zo(v,n,x);break;case"selectionchange":if(Eh)break;case"keydown":case"keyup":Zo(v,n,x)}var P;if($i)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Mn?qu(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Hu&&n.locale!=="ko"&&(Mn||R!=="onCompositionStart"?R==="onCompositionEnd"&&Mn&&(P=Wu()):(Wt=x,Fi="value"in Wt?Wt.value:Wt.textContent,Mn=!0)),N=ol(d,R),0<N.length&&(R=new Wo(R,e,null,n,x),v.push({event:R,listeners:N}),P?R.data=P:(P=Qu(n),P!==null&&(R.data=P)))),(P=ph?xh(e,n):gh(e,n))&&(d=ol(d,"onBeforeInput"),0<d.length&&(x=new Wo("onBeforeInput","beforeinput",null,n,x),v.push({event:x,listeners:d}),x.data=P))}ld(v,t)})}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ol(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=Br(e,n),a!=null&&s.unshift(Gr(e,a,l)),a=Br(e,t),a!=null&&s.push(Gr(e,a,l))),e=e.return}return s}function Rn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nc(e,t,n,s,l){for(var a=t._reactName,i=[];n!==null&&n!==s;){var c=n,o=c.alternate,d=c.stateNode;if(o!==null&&o===s)break;c.tag===5&&d!==null&&(c=d,l?(o=Br(n,a),o!=null&&i.unshift(Gr(n,o,c))):l||(o=Br(n,a),o!=null&&i.push(Gr(n,o,c)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Th=/\r\n?/g,Ih=/\u0000|\uFFFD/g;function rc(e){return(typeof e=="string"?e:""+e).replace(Th,`
`).replace(Ih,"")}function Ps(e,t,n){if(t=rc(t),rc(e)!==t&&n)throw Error(I(425))}function cl(){}var qa=null,Qa=null;function Ka(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ya=typeof setTimeout=="function"?setTimeout:void 0,Ah=typeof clearTimeout=="function"?clearTimeout:void 0,sc=typeof Promise=="function"?Promise:void 0,Mh=typeof queueMicrotask=="function"?queueMicrotask:typeof sc<"u"?function(e){return sc.resolve(null).then(e).catch(Oh)}:Ya;function Oh(e){setTimeout(function(){throw e})}function da(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),qr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);qr(t)}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),wt="__reactFiber$"+ur,Jr="__reactProps$"+ur,At="__reactContainer$"+ur,Ga="__reactEvents$"+ur,Fh="__reactListeners$"+ur,Dh="__reactHandles$"+ur;function fn(e){var t=e[wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[At]||n[wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=lc(e);e!==null;){if(n=e[wt])return n;e=lc(e)}return t}e=n,n=e.parentNode}return null}function us(e){return e=e[wt]||e[At],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Il(e){return e[Jr]||null}var Ja=[],Vn=-1;function sn(e){return{current:e}}function de(e){0>Vn||(e.current=Ja[Vn],Ja[Vn]=null,Vn--)}function ce(e,t){Vn++,Ja[Vn]=e.current,e.current=t}var nn={},Oe=sn(nn),We=sn(!1),vn=nn;function Xn(e,t){var n=e.type.contextTypes;if(!n)return nn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function He(e){return e=e.childContextTypes,e!=null}function ul(){de(We),de(Oe)}function ac(e,t,n){if(Oe.current!==nn)throw Error(I(168));ce(Oe,t),ce(We,n)}function id(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(I(108,Nf(e)||"Unknown",l));return ge({},n,s)}function dl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nn,vn=Oe.current,ce(Oe,e),ce(We,We.current),!0}function ic(e,t,n){var s=e.stateNode;if(!s)throw Error(I(169));n?(e=id(e,t,vn),s.__reactInternalMemoizedMergedChildContext=e,de(We),de(Oe),ce(Oe,e)):de(We),ce(We,n)}var Ct=null,Al=!1,ma=!1;function od(e){Ct===null?Ct=[e]:Ct.push(e)}function Vh(e){Al=!0,od(e)}function ln(){if(!ma&&Ct!==null){ma=!0;var e=0,t=le;try{var n=Ct;for(le=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Ct=null,Al=!1}catch(l){throw Ct!==null&&(Ct=Ct.slice(e+1)),Au(Ii,ln),l}finally{le=t,ma=!1}}return null}var $n=[],_n=0,ml=null,fl=0,tt=[],nt=0,wn=null,Et=1,Pt="";function un(e,t){$n[_n++]=fl,$n[_n++]=ml,ml=e,fl=t}function cd(e,t,n){tt[nt++]=Et,tt[nt++]=Pt,tt[nt++]=wn,wn=e;var s=Et;e=Pt;var l=32-dt(s)-1;s&=~(1<<l),n+=1;var a=32-dt(t)+l;if(30<a){var i=l-l%5;a=(s&(1<<i)-1).toString(32),s>>=i,l-=i,Et=1<<32-dt(t)+l|n<<l|s,Pt=a+e}else Et=1<<a|n<<l|s,Pt=e}function Ui(e){e.return!==null&&(un(e,1),cd(e,1,0))}function zi(e){for(;e===ml;)ml=$n[--_n],$n[_n]=null,fl=$n[--_n],$n[_n]=null;for(;e===wn;)wn=tt[--nt],tt[nt]=null,Pt=tt[--nt],tt[nt]=null,Et=tt[--nt],tt[nt]=null}var Ye=null,Ke=null,fe=!1,ut=null;function ud(e,t){var n=rt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function oc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ye=e,Ke=Yt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ye=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wn!==null?{id:Et,overflow:Pt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ye=e,Ke=null,!0):!1;default:return!1}}function Xa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Za(e){if(fe){var t=Ke;if(t){var n=t;if(!oc(e,t)){if(Xa(e))throw Error(I(418));t=Yt(n.nextSibling);var s=Ye;t&&oc(e,t)?ud(s,n):(e.flags=e.flags&-4097|2,fe=!1,Ye=e)}}else{if(Xa(e))throw Error(I(418));e.flags=e.flags&-4097|2,fe=!1,Ye=e}}}function cc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ye=e}function Ls(e){if(e!==Ye)return!1;if(!fe)return cc(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ka(e.type,e.memoizedProps)),t&&(t=Ke)){if(Xa(e))throw dd(),Error(I(418));for(;t;)ud(e,t),t=Yt(t.nextSibling)}if(cc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ke=Yt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=Ye?Yt(e.stateNode.nextSibling):null;return!0}function dd(){for(var e=Ke;e;)e=Yt(e.nextSibling)}function Zn(){Ke=Ye=null,fe=!1}function Bi(e){ut===null?ut=[e]:ut.push(e)}var $h=Dt.ReactCurrentBatchConfig;function jr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var s=n.stateNode}if(!s)throw Error(I(147,e));var l=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var c=l.refs;i===null?delete c[a]:c[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function Rs(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function uc(e){var t=e._init;return t(e._payload)}function md(e){function t(m,u){if(e){var f=m.deletions;f===null?(m.deletions=[u],m.flags|=16):f.push(u)}}function n(m,u){if(!e)return null;for(;u!==null;)t(m,u),u=u.sibling;return null}function s(m,u){for(m=new Map;u!==null;)u.key!==null?m.set(u.key,u):m.set(u.index,u),u=u.sibling;return m}function l(m,u){return m=Zt(m,u),m.index=0,m.sibling=null,m}function a(m,u,f){return m.index=f,e?(f=m.alternate,f!==null?(f=f.index,f<u?(m.flags|=2,u):f):(m.flags|=2,u)):(m.flags|=1048576,u)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function c(m,u,f,w){return u===null||u.tag!==6?(u=va(f,m.mode,w),u.return=m,u):(u=l(u,f),u.return=m,u)}function o(m,u,f,w){var j=f.type;return j===An?x(m,u,f.props.children,w,f.key):u!==null&&(u.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===_t&&uc(j)===u.type)?(w=l(u,f.props),w.ref=jr(m,u,f),w.return=m,w):(w=Gs(f.type,f.key,f.props,null,m.mode,w),w.ref=jr(m,u,f),w.return=m,w)}function d(m,u,f,w){return u===null||u.tag!==4||u.stateNode.containerInfo!==f.containerInfo||u.stateNode.implementation!==f.implementation?(u=wa(f,m.mode,w),u.return=m,u):(u=l(u,f.children||[]),u.return=m,u)}function x(m,u,f,w,j){return u===null||u.tag!==7?(u=gn(f,m.mode,w,j),u.return=m,u):(u=l(u,f),u.return=m,u)}function v(m,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return u=va(""+u,m.mode,f),u.return=m,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case vs:return f=Gs(u.type,u.key,u.props,null,m.mode,f),f.ref=jr(m,null,u),f.return=m,f;case In:return u=wa(u,m.mode,f),u.return=m,u;case _t:var w=u._init;return v(m,w(u._payload),f)}if(Er(u)||gr(u))return u=gn(u,m.mode,f,null),u.return=m,u;Rs(m,u)}return null}function y(m,u,f,w){var j=u!==null?u.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return j!==null?null:c(m,u,""+f,w);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case vs:return f.key===j?o(m,u,f,w):null;case In:return f.key===j?d(m,u,f,w):null;case _t:return j=f._init,y(m,u,j(f._payload),w)}if(Er(f)||gr(f))return j!==null?null:x(m,u,f,w,null);Rs(m,f)}return null}function p(m,u,f,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(f)||null,c(u,m,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vs:return m=m.get(w.key===null?f:w.key)||null,o(u,m,w,j);case In:return m=m.get(w.key===null?f:w.key)||null,d(u,m,w,j);case _t:var N=w._init;return p(m,u,f,N(w._payload),j)}if(Er(w)||gr(w))return m=m.get(f)||null,x(u,m,w,j,null);Rs(u,w)}return null}function g(m,u,f,w){for(var j=null,N=null,P=u,R=u=0,z=null;P!==null&&R<f.length;R++){P.index>R?(z=P,P=null):z=P.sibling;var M=y(m,P,f[R],w);if(M===null){P===null&&(P=z);break}e&&P&&M.alternate===null&&t(m,P),u=a(M,u,R),N===null?j=M:N.sibling=M,N=M,P=z}if(R===f.length)return n(m,P),fe&&un(m,R),j;if(P===null){for(;R<f.length;R++)P=v(m,f[R],w),P!==null&&(u=a(P,u,R),N===null?j=P:N.sibling=P,N=P);return fe&&un(m,R),j}for(P=s(m,P);R<f.length;R++)z=p(P,m,R,f[R],w),z!==null&&(e&&z.alternate!==null&&P.delete(z.key===null?R:z.key),u=a(z,u,R),N===null?j=z:N.sibling=z,N=z);return e&&P.forEach(function(O){return t(m,O)}),fe&&un(m,R),j}function b(m,u,f,w){var j=gr(f);if(typeof j!="function")throw Error(I(150));if(f=j.call(f),f==null)throw Error(I(151));for(var N=j=null,P=u,R=u=0,z=null,M=f.next();P!==null&&!M.done;R++,M=f.next()){P.index>R?(z=P,P=null):z=P.sibling;var O=y(m,P,M.value,w);if(O===null){P===null&&(P=z);break}e&&P&&O.alternate===null&&t(m,P),u=a(O,u,R),N===null?j=O:N.sibling=O,N=O,P=z}if(M.done)return n(m,P),fe&&un(m,R),j;if(P===null){for(;!M.done;R++,M=f.next())M=v(m,M.value,w),M!==null&&(u=a(M,u,R),N===null?j=M:N.sibling=M,N=M);return fe&&un(m,R),j}for(P=s(m,P);!M.done;R++,M=f.next())M=p(P,m,R,M.value,w),M!==null&&(e&&M.alternate!==null&&P.delete(M.key===null?R:M.key),u=a(M,u,R),N===null?j=M:N.sibling=M,N=M);return e&&P.forEach(function(D){return t(m,D)}),fe&&un(m,R),j}function S(m,u,f,w){if(typeof f=="object"&&f!==null&&f.type===An&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case vs:e:{for(var j=f.key,N=u;N!==null;){if(N.key===j){if(j=f.type,j===An){if(N.tag===7){n(m,N.sibling),u=l(N,f.props.children),u.return=m,m=u;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===_t&&uc(j)===N.type){n(m,N.sibling),u=l(N,f.props),u.ref=jr(m,N,f),u.return=m,m=u;break e}n(m,N);break}else t(m,N);N=N.sibling}f.type===An?(u=gn(f.props.children,m.mode,w,f.key),u.return=m,m=u):(w=Gs(f.type,f.key,f.props,null,m.mode,w),w.ref=jr(m,u,f),w.return=m,m=w)}return i(m);case In:e:{for(N=f.key;u!==null;){if(u.key===N)if(u.tag===4&&u.stateNode.containerInfo===f.containerInfo&&u.stateNode.implementation===f.implementation){n(m,u.sibling),u=l(u,f.children||[]),u.return=m,m=u;break e}else{n(m,u);break}else t(m,u);u=u.sibling}u=wa(f,m.mode,w),u.return=m,m=u}return i(m);case _t:return N=f._init,S(m,u,N(f._payload),w)}if(Er(f))return g(m,u,f,w);if(gr(f))return b(m,u,f,w);Rs(m,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,u!==null&&u.tag===6?(n(m,u.sibling),u=l(u,f),u.return=m,m=u):(n(m,u),u=va(f,m.mode,w),u.return=m,m=u),i(m)):n(m,u)}return S}var er=md(!0),fd=md(!1),hl=sn(null),pl=null,Un=null,Wi=null;function Hi(){Wi=Un=pl=null}function qi(e){var t=hl.current;de(hl),e._currentValue=t}function ei(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Kn(e,t){pl=e,Wi=Un=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ze=!0),e.firstContext=null)}function lt(e){var t=e._currentValue;if(Wi!==e)if(e={context:e,memoizedValue:t,next:null},Un===null){if(pl===null)throw Error(I(308));Un=e,pl.dependencies={lanes:0,firstContext:e}}else Un=Un.next=e;return t}var hn=null;function Qi(e){hn===null?hn=[e]:hn.push(e)}function hd(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,Qi(t)):(n.next=l.next,l.next=n),t.interleaved=n,Mt(e,s)}function Mt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ut=!1;function Ki(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gt(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,te&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Mt(e,n)}return l=s.interleaved,l===null?(t.next=t,Qi(s)):(t.next=l.next,l.next=t),s.interleaved=t,Mt(e,n)}function Ws(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Ai(e,n)}}function dc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xl(e,t,n,s){var l=e.updateQueue;Ut=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,c=l.shared.pending;if(c!==null){l.shared.pending=null;var o=c,d=o.next;o.next=null,i===null?a=d:i.next=d,i=o;var x=e.alternate;x!==null&&(x=x.updateQueue,c=x.lastBaseUpdate,c!==i&&(c===null?x.firstBaseUpdate=d:c.next=d,x.lastBaseUpdate=o))}if(a!==null){var v=l.baseState;i=0,x=d=o=null,c=a;do{var y=c.lane,p=c.eventTime;if((s&y)===y){x!==null&&(x=x.next={eventTime:p,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var g=e,b=c;switch(y=t,p=n,b.tag){case 1:if(g=b.payload,typeof g=="function"){v=g.call(p,v,y);break e}v=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,y=typeof g=="function"?g.call(p,v,y):g,y==null)break e;v=ge({},v,y);break e;case 2:Ut=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,y=l.effects,y===null?l.effects=[c]:y.push(c))}else p={eventTime:p,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},x===null?(d=x=p,o=v):x=x.next=p,i|=y;if(c=c.next,c===null){if(c=l.shared.pending,c===null)break;y=c,c=y.next,y.next=null,l.lastBaseUpdate=y,l.shared.pending=null}}while(!0);if(x===null&&(o=v),l.baseState=o,l.firstBaseUpdate=d,l.lastBaseUpdate=x,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);jn|=i,e.lanes=i,e.memoizedState=v}}function mc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(I(191,l));l.call(s)}}}var ds={},jt=sn(ds),Xr=sn(ds),Zr=sn(ds);function pn(e){if(e===ds)throw Error(I(174));return e}function Yi(e,t){switch(ce(Zr,t),ce(Xr,e),ce(jt,ds),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ma(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ma(t,e)}de(jt),ce(jt,t)}function tr(){de(jt),de(Xr),de(Zr)}function xd(e){pn(Zr.current);var t=pn(jt.current),n=Ma(t,e.type);t!==n&&(ce(Xr,e),ce(jt,n))}function Gi(e){Xr.current===e&&(de(jt),de(Xr))}var pe=sn(0);function gl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fa=[];function Ji(){for(var e=0;e<fa.length;e++)fa[e]._workInProgressVersionPrimary=null;fa.length=0}var Hs=Dt.ReactCurrentDispatcher,ha=Dt.ReactCurrentBatchConfig,Nn=0,xe=null,be=null,Se=null,yl=!1,Or=!1,es=0,_h=0;function Te(){throw Error(I(321))}function Xi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ht(e[n],t[n]))return!1;return!0}function Zi(e,t,n,s,l,a){if(Nn=a,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hs.current=e===null||e.memoizedState===null?Wh:Hh,e=n(s,l),Or){a=0;do{if(Or=!1,es=0,25<=a)throw Error(I(301));a+=1,Se=be=null,t.updateQueue=null,Hs.current=qh,e=n(s,l)}while(Or)}if(Hs.current=vl,t=be!==null&&be.next!==null,Nn=0,Se=be=xe=null,yl=!1,t)throw Error(I(300));return e}function eo(){var e=es!==0;return es=0,e}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?xe.memoizedState=Se=e:Se=Se.next=e,Se}function at(){if(be===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=Se===null?xe.memoizedState:Se.next;if(t!==null)Se=t,be=e;else{if(e===null)throw Error(I(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Se===null?xe.memoizedState=Se=e:Se=Se.next=e}return Se}function ts(e,t){return typeof t=="function"?t(e):t}function pa(e){var t=at(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var s=be,l=s.baseQueue,a=n.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}s.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,s=s.baseState;var c=i=null,o=null,d=a;do{var x=d.lane;if((Nn&x)===x)o!==null&&(o=o.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var v={lane:x,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};o===null?(c=o=v,i=s):o=o.next=v,xe.lanes|=x,jn|=x}d=d.next}while(d!==null&&d!==a);o===null?i=s:o.next=c,ht(s,t.memoizedState)||(ze=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=o,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do a=l.lane,xe.lanes|=a,jn|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xa(e){var t=at(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);ht(a,t.memoizedState)||(ze=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function gd(){}function yd(e,t){var n=xe,s=at(),l=t(),a=!ht(s.memoizedState,l);if(a&&(s.memoizedState=l,ze=!0),s=s.queue,to(Nd.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||Se!==null&&Se.memoizedState.tag&1){if(n.flags|=2048,ns(9,wd.bind(null,n,s,l,t),void 0,null),Ce===null)throw Error(I(349));Nn&30||vd(n,t,l)}return l}function vd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wd(e,t,n,s){t.value=n,t.getSnapshot=s,jd(t)&&bd(e)}function Nd(e,t,n){return n(function(){jd(t)&&bd(e)})}function jd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ht(e,n)}catch{return!0}}function bd(e){var t=Mt(e,1);t!==null&&mt(t,e,1,-1)}function fc(e){var t=vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:e},t.queue=e,e=e.dispatch=Bh.bind(null,xe,e),[t.memoizedState,e]}function ns(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function kd(){return at().memoizedState}function qs(e,t,n,s){var l=vt();xe.flags|=e,l.memoizedState=ns(1|t,n,void 0,s===void 0?null:s)}function Ml(e,t,n,s){var l=at();s=s===void 0?null:s;var a=void 0;if(be!==null){var i=be.memoizedState;if(a=i.destroy,s!==null&&Xi(s,i.deps)){l.memoizedState=ns(t,n,a,s);return}}xe.flags|=e,l.memoizedState=ns(1|t,n,a,s)}function hc(e,t){return qs(8390656,8,e,t)}function to(e,t){return Ml(2048,8,e,t)}function Sd(e,t){return Ml(4,2,e,t)}function Cd(e,t){return Ml(4,4,e,t)}function Ed(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pd(e,t,n){return n=n!=null?n.concat([e]):null,Ml(4,4,Ed.bind(null,t,e),n)}function no(){}function Ld(e,t){var n=at();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Xi(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Rd(e,t){var n=at();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Xi(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Td(e,t,n){return Nn&21?(ht(n,t)||(n=Fu(),xe.lanes|=n,jn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ze=!0),e.memoizedState=n)}function Uh(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var s=ha.transition;ha.transition={};try{e(!1),t()}finally{le=n,ha.transition=s}}function Id(){return at().memoizedState}function zh(e,t,n){var s=Xt(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Ad(e))Md(t,n);else if(n=hd(e,t,n,s),n!==null){var l=Ve();mt(n,e,s,l),Od(n,t,s)}}function Bh(e,t,n){var s=Xt(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ad(e))Md(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,c=a(i,n);if(l.hasEagerState=!0,l.eagerState=c,ht(c,i)){var o=t.interleaved;o===null?(l.next=l,Qi(t)):(l.next=o.next,o.next=l),t.interleaved=l;return}}catch{}finally{}n=hd(e,t,l,s),n!==null&&(l=Ve(),mt(n,e,s,l),Od(n,t,s))}}function Ad(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function Md(e,t){Or=yl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Od(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Ai(e,n)}}var vl={readContext:lt,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},Wh={readContext:lt,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:hc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qs(4194308,4,Ed.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qs(4194308,4,e,t)},useInsertionEffect:function(e,t){return qs(4,2,e,t)},useMemo:function(e,t){var n=vt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=vt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=zh.bind(null,xe,e),[s.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:fc,useDebugValue:no,useDeferredValue:function(e){return vt().memoizedState=e},useTransition:function(){var e=fc(!1),t=e[0];return e=Uh.bind(null,e[1]),vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=xe,l=vt();if(fe){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),Ce===null)throw Error(I(349));Nn&30||vd(s,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,hc(Nd.bind(null,s,a,e),[e]),s.flags|=2048,ns(9,wd.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=vt(),t=Ce.identifierPrefix;if(fe){var n=Pt,s=Et;n=(s&~(1<<32-dt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=es++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_h++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Hh={readContext:lt,useCallback:Ld,useContext:lt,useEffect:to,useImperativeHandle:Pd,useInsertionEffect:Sd,useLayoutEffect:Cd,useMemo:Rd,useReducer:pa,useRef:kd,useState:function(){return pa(ts)},useDebugValue:no,useDeferredValue:function(e){var t=at();return Td(t,be.memoizedState,e)},useTransition:function(){var e=pa(ts)[0],t=at().memoizedState;return[e,t]},useMutableSource:gd,useSyncExternalStore:yd,useId:Id,unstable_isNewReconciler:!1},qh={readContext:lt,useCallback:Ld,useContext:lt,useEffect:to,useImperativeHandle:Pd,useInsertionEffect:Sd,useLayoutEffect:Cd,useMemo:Rd,useReducer:xa,useRef:kd,useState:function(){return xa(ts)},useDebugValue:no,useDeferredValue:function(e){var t=at();return be===null?t.memoizedState=e:Td(t,be.memoizedState,e)},useTransition:function(){var e=xa(ts)[0],t=at().memoizedState;return[e,t]},useMutableSource:gd,useSyncExternalStore:yd,useId:Id,unstable_isNewReconciler:!1};function ot(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ti(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ol={isMounted:function(e){return(e=e._reactInternals)?Pn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ve(),l=Xt(e),a=Rt(s,l);a.payload=t,n!=null&&(a.callback=n),t=Gt(e,a,l),t!==null&&(mt(t,e,l,s),Ws(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ve(),l=Xt(e),a=Rt(s,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Gt(e,a,l),t!==null&&(mt(t,e,l,s),Ws(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),s=Xt(e),l=Rt(n,s);l.tag=2,t!=null&&(l.callback=t),t=Gt(e,l,s),t!==null&&(mt(t,e,s,n),Ws(t,e,s))}};function pc(e,t,n,s,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,i):t.prototype&&t.prototype.isPureReactComponent?!Kr(n,s)||!Kr(l,a):!0}function Fd(e,t,n){var s=!1,l=nn,a=t.contextType;return typeof a=="object"&&a!==null?a=lt(a):(l=He(t)?vn:Oe.current,s=t.contextTypes,a=(s=s!=null)?Xn(e,l):nn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ol,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function xc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Ol.enqueueReplaceState(t,t.state,null)}function ni(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ki(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=lt(a):(a=He(t)?vn:Oe.current,l.context=Xn(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ti(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Ol.enqueueReplaceState(l,l.state,null),xl(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function nr(e,t){try{var n="",s=t;do n+=wf(s),s=s.return;while(s);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function ga(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ri(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Qh=typeof WeakMap=="function"?WeakMap:Map;function Dd(e,t,n){n=Rt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Nl||(Nl=!0,fi=s),ri(e,t)},n}function Vd(e,t,n){n=Rt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){ri(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ri(e,t),typeof s!="function"&&(Jt===null?Jt=new Set([this]):Jt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function gc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Qh;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=ip.bind(null,e,t,n),t.then(e,e))}function yc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vc(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Rt(-1,1),t.tag=2,Gt(n,t,1))),n.lanes|=1),e)}var Kh=Dt.ReactCurrentOwner,ze=!1;function De(e,t,n,s){t.child=e===null?fd(t,null,n,s):er(t,e.child,n,s)}function wc(e,t,n,s,l){n=n.render;var a=t.ref;return Kn(t,l),s=Zi(e,t,n,s,a,l),n=eo(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ot(e,t,l)):(fe&&n&&Ui(t),t.flags|=1,De(e,t,s,l),t.child)}function Nc(e,t,n,s,l){if(e===null){var a=n.type;return typeof a=="function"&&!uo(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,$d(e,t,a,s,l)):(e=Gs(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:Kr,n(i,s)&&e.ref===t.ref)return Ot(e,t,l)}return t.flags|=1,e=Zt(a,s),e.ref=t.ref,e.return=t,t.child=e}function $d(e,t,n,s,l){if(e!==null){var a=e.memoizedProps;if(Kr(a,s)&&e.ref===t.ref)if(ze=!1,t.pendingProps=s=a,(e.lanes&l)!==0)e.flags&131072&&(ze=!0);else return t.lanes=e.lanes,Ot(e,t,l)}return si(e,t,n,s,l)}function _d(e,t,n){var s=t.pendingProps,l=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Bn,Qe),Qe|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(Bn,Qe),Qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,ce(Bn,Qe),Qe|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,ce(Bn,Qe),Qe|=s;return De(e,t,l,n),t.child}function Ud(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function si(e,t,n,s,l){var a=He(n)?vn:Oe.current;return a=Xn(t,a),Kn(t,l),n=Zi(e,t,n,s,a,l),s=eo(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ot(e,t,l)):(fe&&s&&Ui(t),t.flags|=1,De(e,t,n,l),t.child)}function jc(e,t,n,s,l){if(He(n)){var a=!0;dl(t)}else a=!1;if(Kn(t,l),t.stateNode===null)Qs(e,t),Fd(t,n,s),ni(t,n,s,l),s=!0;else if(e===null){var i=t.stateNode,c=t.memoizedProps;i.props=c;var o=i.context,d=n.contextType;typeof d=="object"&&d!==null?d=lt(d):(d=He(n)?vn:Oe.current,d=Xn(t,d));var x=n.getDerivedStateFromProps,v=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function";v||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==s||o!==d)&&xc(t,i,s,d),Ut=!1;var y=t.memoizedState;i.state=y,xl(t,s,i,l),o=t.memoizedState,c!==s||y!==o||We.current||Ut?(typeof x=="function"&&(ti(t,n,x,s),o=t.memoizedState),(c=Ut||pc(t,n,c,s,y,o,d))?(v||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=o),i.props=s,i.state=o,i.context=d,s=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,pd(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:ot(t.type,c),i.props=d,v=t.pendingProps,y=i.context,o=n.contextType,typeof o=="object"&&o!==null?o=lt(o):(o=He(n)?vn:Oe.current,o=Xn(t,o));var p=n.getDerivedStateFromProps;(x=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==v||y!==o)&&xc(t,i,s,o),Ut=!1,y=t.memoizedState,i.state=y,xl(t,s,i,l);var g=t.memoizedState;c!==v||y!==g||We.current||Ut?(typeof p=="function"&&(ti(t,n,p,s),g=t.memoizedState),(d=Ut||pc(t,n,d,s,y,g,o)||!1)?(x||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,g,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,g,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=g),i.props=s,i.state=g,i.context=o,s=d):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),s=!1)}return li(e,t,n,s,a,l)}function li(e,t,n,s,l,a){Ud(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return l&&ic(t,n,!1),Ot(e,t,a);s=t.stateNode,Kh.current=t;var c=i&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=er(t,e.child,null,a),t.child=er(t,null,c,a)):De(e,t,c,a),t.memoizedState=s.state,l&&ic(t,n,!0),t.child}function zd(e){var t=e.stateNode;t.pendingContext?ac(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ac(e,t.context,!1),Yi(e,t.containerInfo)}function bc(e,t,n,s,l){return Zn(),Bi(l),t.flags|=256,De(e,t,n,s),t.child}var ai={dehydrated:null,treeContext:null,retryLane:0};function ii(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bd(e,t,n){var s=t.pendingProps,l=pe.current,a=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(l&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ce(pe,l&1),e===null)return Za(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,a?(s=t.mode,a=t.child,i={mode:"hidden",children:i},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Vl(i,s,0,null),e=gn(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ii(n),t.memoizedState=ai,e):ro(t,i));if(l=e.memoizedState,l!==null&&(c=l.dehydrated,c!==null))return Yh(e,t,i,s,c,l,n);if(a){a=s.fallback,i=t.mode,l=e.child,c=l.sibling;var o={mode:"hidden",children:s.children};return!(i&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=o,t.deletions=null):(s=Zt(l,o),s.subtreeFlags=l.subtreeFlags&14680064),c!==null?a=Zt(c,a):(a=gn(a,i,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,i=e.child.memoizedState,i=i===null?ii(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=ai,s}return a=e.child,e=a.sibling,s=Zt(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function ro(e,t){return t=Vl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ts(e,t,n,s){return s!==null&&Bi(s),er(t,e.child,null,n),e=ro(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yh(e,t,n,s,l,a,i){if(n)return t.flags&256?(t.flags&=-257,s=ga(Error(I(422))),Ts(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,l=t.mode,s=Vl({mode:"visible",children:s.children},l,0,null),a=gn(a,l,i,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&er(t,e.child,null,i),t.child.memoizedState=ii(i),t.memoizedState=ai,a);if(!(t.mode&1))return Ts(e,t,i,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var c=s.dgst;return s=c,a=Error(I(419)),s=ga(a,s,void 0),Ts(e,t,i,s)}if(c=(i&e.childLanes)!==0,ze||c){if(s=Ce,s!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,Mt(e,l),mt(s,e,l,-1))}return co(),s=ga(Error(I(421))),Ts(e,t,i,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=op.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,Ke=Yt(l.nextSibling),Ye=t,fe=!0,ut=null,e!==null&&(tt[nt++]=Et,tt[nt++]=Pt,tt[nt++]=wn,Et=e.id,Pt=e.overflow,wn=t),t=ro(t,s.children),t.flags|=4096,t)}function kc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ei(e.return,t,n)}function ya(e,t,n,s,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=l)}function Wd(e,t,n){var s=t.pendingProps,l=s.revealOrder,a=s.tail;if(De(e,t,s.children,n),s=pe.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kc(e,n,t);else if(e.tag===19)kc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ce(pe,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&gl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ya(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&gl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ya(t,!0,n,null,a);break;case"together":ya(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=Zt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Gh(e,t,n){switch(t.tag){case 3:zd(t),Zn();break;case 5:xd(t);break;case 1:He(t.type)&&dl(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;ce(hl,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ce(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?Bd(e,t,n):(ce(pe,pe.current&1),e=Ot(e,t,n),e!==null?e.sibling:null);ce(pe,pe.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Wd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ce(pe,pe.current),s)break;return null;case 22:case 23:return t.lanes=0,_d(e,t,n)}return Ot(e,t,n)}var Hd,oi,qd,Qd;Hd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oi=function(){};qd=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,pn(jt.current);var a=null;switch(n){case"input":l=Ra(e,l),s=Ra(e,s),a=[];break;case"select":l=ge({},l,{value:void 0}),s=ge({},s,{value:void 0}),a=[];break;case"textarea":l=Aa(e,l),s=Aa(e,s),a=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=cl)}Oa(n,s);var i;n=null;for(d in l)if(!s.hasOwnProperty(d)&&l.hasOwnProperty(d)&&l[d]!=null)if(d==="style"){var c=l[d];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ur.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in s){var o=s[d];if(c=l!=null?l[d]:void 0,s.hasOwnProperty(d)&&o!==c&&(o!=null||c!=null))if(d==="style")if(c){for(i in c)!c.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in o)o.hasOwnProperty(i)&&c[i]!==o[i]&&(n||(n={}),n[i]=o[i])}else n||(a||(a=[]),a.push(d,n)),n=o;else d==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(a=a||[]).push(d,o)):d==="children"?typeof o!="string"&&typeof o!="number"||(a=a||[]).push(d,""+o):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ur.hasOwnProperty(d)?(o!=null&&d==="onScroll"&&ue("scroll",e),a||c===o||(a=[])):(a=a||[]).push(d,o))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};Qd=function(e,t,n,s){n!==s&&(t.flags|=4)};function br(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Jh(e,t,n){var s=t.pendingProps;switch(zi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return He(t.type)&&ul(),Ie(t),null;case 3:return s=t.stateNode,tr(),de(We),de(Oe),Ji(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ls(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ut!==null&&(xi(ut),ut=null))),oi(e,t),Ie(t),null;case 5:Gi(t);var l=pn(Zr.current);if(n=t.type,e!==null&&t.stateNode!=null)qd(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(I(166));return Ie(t),null}if(e=pn(jt.current),Ls(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[wt]=t,s[Jr]=a,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",s),ue("close",s);break;case"iframe":case"object":case"embed":ue("load",s);break;case"video":case"audio":for(l=0;l<Lr.length;l++)ue(Lr[l],s);break;case"source":ue("error",s);break;case"img":case"image":case"link":ue("error",s),ue("load",s);break;case"details":ue("toggle",s);break;case"input":Ao(s,a),ue("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},ue("invalid",s);break;case"textarea":Oo(s,a),ue("invalid",s)}Oa(n,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="children"?typeof c=="string"?s.textContent!==c&&(a.suppressHydrationWarning!==!0&&Ps(s.textContent,c,e),l=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Ps(s.textContent,c,e),l=["children",""+c]):Ur.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&ue("scroll",s)}switch(n){case"input":ws(s),Mo(s,a,!0);break;case"textarea":ws(s),Fo(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=cl)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Nu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(n,{is:s.is}):(e=i.createElement(n),n==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,n),e[wt]=t,e[Jr]=s,Hd(e,t,!1,!1),t.stateNode=e;e:{switch(i=Fa(n,s),n){case"dialog":ue("cancel",e),ue("close",e),l=s;break;case"iframe":case"object":case"embed":ue("load",e),l=s;break;case"video":case"audio":for(l=0;l<Lr.length;l++)ue(Lr[l],e);l=s;break;case"source":ue("error",e),l=s;break;case"img":case"image":case"link":ue("error",e),ue("load",e),l=s;break;case"details":ue("toggle",e),l=s;break;case"input":Ao(e,s),l=Ra(e,s),ue("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=ge({},s,{value:void 0}),ue("invalid",e);break;case"textarea":Oo(e,s),l=Aa(e,s),ue("invalid",e);break;default:l=s}Oa(n,l),c=l;for(a in c)if(c.hasOwnProperty(a)){var o=c[a];a==="style"?ku(e,o):a==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&ju(e,o)):a==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&zr(e,o):typeof o=="number"&&zr(e,""+o):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ur.hasOwnProperty(a)?o!=null&&a==="onScroll"&&ue("scroll",e):o!=null&&Ei(e,a,o,i))}switch(n){case"input":ws(e),Mo(e,s,!1);break;case"textarea":ws(e),Fo(e);break;case"option":s.value!=null&&e.setAttribute("value",""+tn(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?Wn(e,!!s.multiple,a,!1):s.defaultValue!=null&&Wn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=cl)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ie(t),null;case 6:if(e&&t.stateNode!=null)Qd(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(I(166));if(n=pn(Zr.current),pn(jt.current),Ls(t)){if(s=t.stateNode,n=t.memoizedProps,s[wt]=t,(a=s.nodeValue!==n)&&(e=Ye,e!==null))switch(e.tag){case 3:Ps(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ps(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[wt]=t,t.stateNode=s}return Ie(t),null;case 13:if(de(pe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&Ke!==null&&t.mode&1&&!(t.flags&128))dd(),Zn(),t.flags|=98560,a=!1;else if(a=Ls(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(I(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(I(317));a[wt]=t}else Zn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ie(t),a=!1}else ut!==null&&(xi(ut),ut=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?ke===0&&(ke=3):co())),t.updateQueue!==null&&(t.flags|=4),Ie(t),null);case 4:return tr(),oi(e,t),e===null&&Yr(t.stateNode.containerInfo),Ie(t),null;case 10:return qi(t.type._context),Ie(t),null;case 17:return He(t.type)&&ul(),Ie(t),null;case 19:if(de(pe),a=t.memoizedState,a===null)return Ie(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)br(a,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=gl(e),i!==null){for(t.flags|=128,br(a,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(pe,pe.current&1|2),t.child}e=e.sibling}a.tail!==null&&ve()>rr&&(t.flags|=128,s=!0,br(a,!1),t.lanes=4194304)}else{if(!s)if(e=gl(i),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),br(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!fe)return Ie(t),null}else 2*ve()-a.renderingStartTime>rr&&n!==1073741824&&(t.flags|=128,s=!0,br(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ve(),t.sibling=null,n=pe.current,ce(pe,s?n&1|2:n&1),t):(Ie(t),null);case 22:case 23:return oo(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Qe&1073741824&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Xh(e,t){switch(zi(t),t.tag){case 1:return He(t.type)&&ul(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tr(),de(We),de(Oe),Ji(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gi(t),null;case 13:if(de(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(pe),null;case 4:return tr(),null;case 10:return qi(t.type._context),null;case 22:case 23:return oo(),null;case 24:return null;default:return null}}var Is=!1,Me=!1,Zh=typeof WeakSet=="function"?WeakSet:Set,U=null;function zn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ye(e,t,s)}else n.current=null}function ci(e,t,n){try{n()}catch(s){ye(e,t,s)}}var Sc=!1;function ep(e,t){if(qa=al,e=Xu(),_i(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,c=-1,o=-1,d=0,x=0,v=e,y=null;t:for(;;){for(var p;v!==n||l!==0&&v.nodeType!==3||(c=i+l),v!==a||s!==0&&v.nodeType!==3||(o=i+s),v.nodeType===3&&(i+=v.nodeValue.length),(p=v.firstChild)!==null;)y=v,v=p;for(;;){if(v===e)break t;if(y===n&&++d===l&&(c=i),y===a&&++x===s&&(o=i),(p=v.nextSibling)!==null)break;v=y,y=v.parentNode}v=p}n=c===-1||o===-1?null:{start:c,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qa={focusedElem:e,selectionRange:n},al=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,S=g.memoizedState,m=t.stateNode,u=m.getSnapshotBeforeUpdate(t.elementType===t.type?b:ot(t.type,b),S);m.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(w){ye(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return g=Sc,Sc=!1,g}function Fr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&ci(t,n,a)}l=l.next}while(l!==s)}}function Fl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function ui(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Kd(e){var t=e.alternate;t!==null&&(e.alternate=null,Kd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wt],delete t[Jr],delete t[Ga],delete t[Fh],delete t[Dh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yd(e){return e.tag===5||e.tag===3||e.tag===4}function Cc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function di(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=cl));else if(s!==4&&(e=e.child,e!==null))for(di(e,t,n),e=e.sibling;e!==null;)di(e,t,n),e=e.sibling}function mi(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(mi(e,t,n),e=e.sibling;e!==null;)mi(e,t,n),e=e.sibling}var Ee=null,ct=!1;function $t(e,t,n){for(n=n.child;n!==null;)Gd(e,t,n),n=n.sibling}function Gd(e,t,n){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Pl,n)}catch{}switch(n.tag){case 5:Me||zn(n,t);case 6:var s=Ee,l=ct;Ee=null,$t(e,t,n),Ee=s,ct=l,Ee!==null&&(ct?(e=Ee,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ee.removeChild(n.stateNode));break;case 18:Ee!==null&&(ct?(e=Ee,n=n.stateNode,e.nodeType===8?da(e.parentNode,n):e.nodeType===1&&da(e,n),qr(e)):da(Ee,n.stateNode));break;case 4:s=Ee,l=ct,Ee=n.stateNode.containerInfo,ct=!0,$t(e,t,n),Ee=s,ct=l;break;case 0:case 11:case 14:case 15:if(!Me&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&ci(n,t,i),l=l.next}while(l!==s)}$t(e,t,n);break;case 1:if(!Me&&(zn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(c){ye(n,t,c)}$t(e,t,n);break;case 21:$t(e,t,n);break;case 22:n.mode&1?(Me=(s=Me)||n.memoizedState!==null,$t(e,t,n),Me=s):$t(e,t,n);break;default:$t(e,t,n)}}function Ec(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Zh),t.forEach(function(s){var l=cp.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function it(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var a=e,i=t,c=i;e:for(;c!==null;){switch(c.tag){case 5:Ee=c.stateNode,ct=!1;break e;case 3:Ee=c.stateNode.containerInfo,ct=!0;break e;case 4:Ee=c.stateNode.containerInfo,ct=!0;break e}c=c.return}if(Ee===null)throw Error(I(160));Gd(a,i,l),Ee=null,ct=!1;var o=l.alternate;o!==null&&(o.return=null),l.return=null}catch(d){ye(l,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Jd(t,e),t=t.sibling}function Jd(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(it(t,e),yt(e),s&4){try{Fr(3,e,e.return),Fl(3,e)}catch(b){ye(e,e.return,b)}try{Fr(5,e,e.return)}catch(b){ye(e,e.return,b)}}break;case 1:it(t,e),yt(e),s&512&&n!==null&&zn(n,n.return);break;case 5:if(it(t,e),yt(e),s&512&&n!==null&&zn(n,n.return),e.flags&32){var l=e.stateNode;try{zr(l,"")}catch(b){ye(e,e.return,b)}}if(s&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&vu(l,a),Fa(c,i);var d=Fa(c,a);for(i=0;i<o.length;i+=2){var x=o[i],v=o[i+1];x==="style"?ku(l,v):x==="dangerouslySetInnerHTML"?ju(l,v):x==="children"?zr(l,v):Ei(l,x,v,d)}switch(c){case"input":Ta(l,a);break;case"textarea":wu(l,a);break;case"select":var y=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Wn(l,!!a.multiple,p,!1):y!==!!a.multiple&&(a.defaultValue!=null?Wn(l,!!a.multiple,a.defaultValue,!0):Wn(l,!!a.multiple,a.multiple?[]:"",!1))}l[Jr]=a}catch(b){ye(e,e.return,b)}}break;case 6:if(it(t,e),yt(e),s&4){if(e.stateNode===null)throw Error(I(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(b){ye(e,e.return,b)}}break;case 3:if(it(t,e),yt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{qr(t.containerInfo)}catch(b){ye(e,e.return,b)}break;case 4:it(t,e),yt(e);break;case 13:it(t,e),yt(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(ao=ve())),s&4&&Ec(e);break;case 22:if(x=n!==null&&n.memoizedState!==null,e.mode&1?(Me=(d=Me)||x,it(t,e),Me=d):it(t,e),yt(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!x&&e.mode&1)for(U=e,x=e.child;x!==null;){for(v=U=x;U!==null;){switch(y=U,p=y.child,y.tag){case 0:case 11:case 14:case 15:Fr(4,y,y.return);break;case 1:zn(y,y.return);var g=y.stateNode;if(typeof g.componentWillUnmount=="function"){s=y,n=y.return;try{t=s,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(b){ye(s,n,b)}}break;case 5:zn(y,y.return);break;case 22:if(y.memoizedState!==null){Lc(v);continue}}p!==null?(p.return=y,U=p):Lc(v)}x=x.sibling}e:for(x=null,v=e;;){if(v.tag===5){if(x===null){x=v;try{l=v.stateNode,d?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=v.stateNode,o=v.memoizedProps.style,i=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=bu("display",i))}catch(b){ye(e,e.return,b)}}}else if(v.tag===6){if(x===null)try{v.stateNode.nodeValue=d?"":v.memoizedProps}catch(b){ye(e,e.return,b)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;x===v&&(x=null),v=v.return}x===v&&(x=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:it(t,e),yt(e),s&4&&Ec(e);break;case 21:break;default:it(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Yd(n)){var s=n;break e}n=n.return}throw Error(I(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(zr(l,""),s.flags&=-33);var a=Cc(e);mi(e,a,l);break;case 3:case 4:var i=s.stateNode.containerInfo,c=Cc(e);di(e,c,i);break;default:throw Error(I(161))}}catch(o){ye(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tp(e,t,n){U=e,Xd(e)}function Xd(e,t,n){for(var s=(e.mode&1)!==0;U!==null;){var l=U,a=l.child;if(l.tag===22&&s){var i=l.memoizedState!==null||Is;if(!i){var c=l.alternate,o=c!==null&&c.memoizedState!==null||Me;c=Is;var d=Me;if(Is=i,(Me=o)&&!d)for(U=l;U!==null;)i=U,o=i.child,i.tag===22&&i.memoizedState!==null?Rc(l):o!==null?(o.return=i,U=o):Rc(l);for(;a!==null;)U=a,Xd(a),a=a.sibling;U=l,Is=c,Me=d}Pc(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,U=a):Pc(e)}}function Pc(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||Fl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Me)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:ot(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&mc(t,a,s);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}mc(t,i,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var x=d.memoizedState;if(x!==null){var v=x.dehydrated;v!==null&&qr(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Me||t.flags&512&&ui(t)}catch(y){ye(t,t.return,y)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function Lc(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function Rc(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Fl(4,t)}catch(o){ye(t,n,o)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(o){ye(t,l,o)}}var a=t.return;try{ui(t)}catch(o){ye(t,a,o)}break;case 5:var i=t.return;try{ui(t)}catch(o){ye(t,i,o)}}}catch(o){ye(t,t.return,o)}if(t===e){U=null;break}var c=t.sibling;if(c!==null){c.return=t.return,U=c;break}U=t.return}}var np=Math.ceil,wl=Dt.ReactCurrentDispatcher,so=Dt.ReactCurrentOwner,st=Dt.ReactCurrentBatchConfig,te=0,Ce=null,Ne=null,Le=0,Qe=0,Bn=sn(0),ke=0,rs=null,jn=0,Dl=0,lo=0,Dr=null,Ue=null,ao=0,rr=1/0,St=null,Nl=!1,fi=null,Jt=null,As=!1,Ht=null,jl=0,Vr=0,hi=null,Ks=-1,Ys=0;function Ve(){return te&6?ve():Ks!==-1?Ks:Ks=ve()}function Xt(e){return e.mode&1?te&2&&Le!==0?Le&-Le:$h.transition!==null?(Ys===0&&(Ys=Fu()),Ys):(e=le,e!==0||(e=window.event,e=e===void 0?16:Bu(e.type)),e):1}function mt(e,t,n,s){if(50<Vr)throw Vr=0,hi=null,Error(I(185));os(e,n,s),(!(te&2)||e!==Ce)&&(e===Ce&&(!(te&2)&&(Dl|=n),ke===4&&Bt(e,Le)),qe(e,s),n===1&&te===0&&!(t.mode&1)&&(rr=ve()+500,Al&&ln()))}function qe(e,t){var n=e.callbackNode;$f(e,t);var s=ll(e,e===Ce?Le:0);if(s===0)n!==null&&$o(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&$o(n),t===1)e.tag===0?Vh(Tc.bind(null,e)):od(Tc.bind(null,e)),Mh(function(){!(te&6)&&ln()}),n=null;else{switch(Du(s)){case 1:n=Ii;break;case 4:n=Mu;break;case 16:n=sl;break;case 536870912:n=Ou;break;default:n=sl}n=am(n,Zd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Zd(e,t){if(Ks=-1,Ys=0,te&6)throw Error(I(327));var n=e.callbackNode;if(Yn()&&e.callbackNode!==n)return null;var s=ll(e,e===Ce?Le:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=bl(e,s);else{t=s;var l=te;te|=2;var a=tm();(Ce!==e||Le!==t)&&(St=null,rr=ve()+500,xn(e,t));do try{lp();break}catch(c){em(e,c)}while(!0);Hi(),wl.current=a,te=l,Ne!==null?t=0:(Ce=null,Le=0,t=ke)}if(t!==0){if(t===2&&(l=Ua(e),l!==0&&(s=l,t=pi(e,l))),t===1)throw n=rs,xn(e,0),Bt(e,s),qe(e,ve()),n;if(t===6)Bt(e,s);else{if(l=e.current.alternate,!(s&30)&&!rp(l)&&(t=bl(e,s),t===2&&(a=Ua(e),a!==0&&(s=a,t=pi(e,a))),t===1))throw n=rs,xn(e,0),Bt(e,s),qe(e,ve()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(I(345));case 2:dn(e,Ue,St);break;case 3:if(Bt(e,s),(s&130023424)===s&&(t=ao+500-ve(),10<t)){if(ll(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){Ve(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ya(dn.bind(null,e,Ue,St),t);break}dn(e,Ue,St);break;case 4:if(Bt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var i=31-dt(s);a=1<<i,i=t[i],i>l&&(l=i),s&=~a}if(s=l,s=ve()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*np(s/1960))-s,10<s){e.timeoutHandle=Ya(dn.bind(null,e,Ue,St),s);break}dn(e,Ue,St);break;case 5:dn(e,Ue,St);break;default:throw Error(I(329))}}}return qe(e,ve()),e.callbackNode===n?Zd.bind(null,e):null}function pi(e,t){var n=Dr;return e.current.memoizedState.isDehydrated&&(xn(e,t).flags|=256),e=bl(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&xi(t)),e}function xi(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function rp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],a=l.getSnapshot;l=l.value;try{if(!ht(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bt(e,t){for(t&=~lo,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dt(t),s=1<<n;e[n]=-1,t&=~s}}function Tc(e){if(te&6)throw Error(I(327));Yn();var t=ll(e,0);if(!(t&1))return qe(e,ve()),null;var n=bl(e,t);if(e.tag!==0&&n===2){var s=Ua(e);s!==0&&(t=s,n=pi(e,s))}if(n===1)throw n=rs,xn(e,0),Bt(e,t),qe(e,ve()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dn(e,Ue,St),qe(e,ve()),null}function io(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(rr=ve()+500,Al&&ln())}}function bn(e){Ht!==null&&Ht.tag===0&&!(te&6)&&Yn();var t=te;te|=1;var n=st.transition,s=le;try{if(st.transition=null,le=1,e)return e()}finally{le=s,st.transition=n,te=t,!(te&6)&&ln()}}function oo(){Qe=Bn.current,de(Bn)}function xn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ah(n)),Ne!==null)for(n=Ne.return;n!==null;){var s=n;switch(zi(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ul();break;case 3:tr(),de(We),de(Oe),Ji();break;case 5:Gi(s);break;case 4:tr();break;case 13:de(pe);break;case 19:de(pe);break;case 10:qi(s.type._context);break;case 22:case 23:oo()}n=n.return}if(Ce=e,Ne=e=Zt(e.current,null),Le=Qe=t,ke=0,rs=null,lo=Dl=jn=0,Ue=Dr=null,hn!==null){for(t=0;t<hn.length;t++)if(n=hn[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,a=n.pending;if(a!==null){var i=a.next;a.next=l,s.next=i}n.pending=s}hn=null}return e}function em(e,t){do{var n=Ne;try{if(Hi(),Hs.current=vl,yl){for(var s=xe.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}yl=!1}if(Nn=0,Se=be=xe=null,Or=!1,es=0,so.current=null,n===null||n.return===null){ke=1,rs=t,Ne=null;break}e:{var a=e,i=n.return,c=n,o=t;if(t=Le,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=o,x=c,v=x.tag;if(!(x.mode&1)&&(v===0||v===11||v===15)){var y=x.alternate;y?(x.updateQueue=y.updateQueue,x.memoizedState=y.memoizedState,x.lanes=y.lanes):(x.updateQueue=null,x.memoizedState=null)}var p=yc(i);if(p!==null){p.flags&=-257,vc(p,i,c,a,t),p.mode&1&&gc(a,d,t),t=p,o=d;var g=t.updateQueue;if(g===null){var b=new Set;b.add(o),t.updateQueue=b}else g.add(o);break e}else{if(!(t&1)){gc(a,d,t),co();break e}o=Error(I(426))}}else if(fe&&c.mode&1){var S=yc(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),vc(S,i,c,a,t),Bi(nr(o,c));break e}}a=o=nr(o,c),ke!==4&&(ke=2),Dr===null?Dr=[a]:Dr.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=Dd(a,o,t);dc(a,m);break e;case 1:c=o;var u=a.type,f=a.stateNode;if(!(a.flags&128)&&(typeof u.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Jt===null||!Jt.has(f)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=Vd(a,c,t);dc(a,w);break e}}a=a.return}while(a!==null)}rm(n)}catch(j){t=j,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function tm(){var e=wl.current;return wl.current=vl,e===null?vl:e}function co(){(ke===0||ke===3||ke===2)&&(ke=4),Ce===null||!(jn&268435455)&&!(Dl&268435455)||Bt(Ce,Le)}function bl(e,t){var n=te;te|=2;var s=tm();(Ce!==e||Le!==t)&&(St=null,xn(e,t));do try{sp();break}catch(l){em(e,l)}while(!0);if(Hi(),te=n,wl.current=s,Ne!==null)throw Error(I(261));return Ce=null,Le=0,ke}function sp(){for(;Ne!==null;)nm(Ne)}function lp(){for(;Ne!==null&&!Rf();)nm(Ne)}function nm(e){var t=lm(e.alternate,e,Qe);e.memoizedProps=e.pendingProps,t===null?rm(e):Ne=t,so.current=null}function rm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Xh(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,Ne=null;return}}else if(n=Jh(n,t,Qe),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);ke===0&&(ke=5)}function dn(e,t,n){var s=le,l=st.transition;try{st.transition=null,le=1,ap(e,t,n,s)}finally{st.transition=l,le=s}return null}function ap(e,t,n,s){do Yn();while(Ht!==null);if(te&6)throw Error(I(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(_f(e,a),e===Ce&&(Ne=Ce=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||As||(As=!0,am(sl,function(){return Yn(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=st.transition,st.transition=null;var i=le;le=1;var c=te;te|=4,so.current=null,ep(e,n),Jd(n,e),Ch(Qa),al=!!qa,Qa=qa=null,e.current=n,tp(n),Tf(),te=c,le=i,st.transition=a}else e.current=n;if(As&&(As=!1,Ht=e,jl=l),a=e.pendingLanes,a===0&&(Jt=null),Mf(n.stateNode),qe(e,ve()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(Nl)throw Nl=!1,e=fi,fi=null,e;return jl&1&&e.tag!==0&&Yn(),a=e.pendingLanes,a&1?e===hi?Vr++:(Vr=0,hi=e):Vr=0,ln(),null}function Yn(){if(Ht!==null){var e=Du(jl),t=st.transition,n=le;try{if(st.transition=null,le=16>e?16:e,Ht===null)var s=!1;else{if(e=Ht,Ht=null,jl=0,te&6)throw Error(I(331));var l=te;for(te|=4,U=e.current;U!==null;){var a=U,i=a.child;if(U.flags&16){var c=a.deletions;if(c!==null){for(var o=0;o<c.length;o++){var d=c[o];for(U=d;U!==null;){var x=U;switch(x.tag){case 0:case 11:case 15:Fr(8,x,a)}var v=x.child;if(v!==null)v.return=x,U=v;else for(;U!==null;){x=U;var y=x.sibling,p=x.return;if(Kd(x),x===d){U=null;break}if(y!==null){y.return=p,U=y;break}U=p}}}var g=a.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var S=b.sibling;b.sibling=null,b=S}while(b!==null)}}U=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,U=i;else e:for(;U!==null;){if(a=U,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Fr(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,U=m;break e}U=a.return}}var u=e.current;for(U=u;U!==null;){i=U;var f=i.child;if(i.subtreeFlags&2064&&f!==null)f.return=i,U=f;else e:for(i=u;U!==null;){if(c=U,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Fl(9,c)}}catch(j){ye(c,c.return,j)}if(c===i){U=null;break e}var w=c.sibling;if(w!==null){w.return=c.return,U=w;break e}U=c.return}}if(te=l,ln(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Pl,e)}catch{}s=!0}return s}finally{le=n,st.transition=t}}return!1}function Ic(e,t,n){t=nr(n,t),t=Dd(e,t,1),e=Gt(e,t,1),t=Ve(),e!==null&&(os(e,1,t),qe(e,t))}function ye(e,t,n){if(e.tag===3)Ic(e,e,n);else for(;t!==null;){if(t.tag===3){Ic(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Jt===null||!Jt.has(s))){e=nr(n,e),e=Vd(t,e,1),t=Gt(t,e,1),e=Ve(),t!==null&&(os(t,1,e),qe(t,e));break}}t=t.return}}function ip(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,Ce===e&&(Le&n)===n&&(ke===4||ke===3&&(Le&130023424)===Le&&500>ve()-ao?xn(e,0):lo|=n),qe(e,t)}function sm(e,t){t===0&&(e.mode&1?(t=bs,bs<<=1,!(bs&130023424)&&(bs=4194304)):t=1);var n=Ve();e=Mt(e,t),e!==null&&(os(e,t,n),qe(e,n))}function op(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sm(e,n)}function cp(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(I(314))}s!==null&&s.delete(t),sm(e,n)}var lm;lm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||We.current)ze=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ze=!1,Gh(e,t,n);ze=!!(e.flags&131072)}else ze=!1,fe&&t.flags&1048576&&cd(t,fl,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Qs(e,t),e=t.pendingProps;var l=Xn(t,Oe.current);Kn(t,n),l=Zi(null,t,s,e,l,n);var a=eo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,He(s)?(a=!0,dl(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ki(t),l.updater=Ol,t.stateNode=l,l._reactInternals=t,ni(t,s,e,n),t=li(null,t,s,!0,a,n)):(t.tag=0,fe&&a&&Ui(t),De(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Qs(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=dp(s),e=ot(s,e),l){case 0:t=si(null,t,s,e,n);break e;case 1:t=jc(null,t,s,e,n);break e;case 11:t=wc(null,t,s,e,n);break e;case 14:t=Nc(null,t,s,ot(s.type,e),n);break e}throw Error(I(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:ot(s,l),si(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:ot(s,l),jc(e,t,s,l,n);case 3:e:{if(zd(t),e===null)throw Error(I(387));s=t.pendingProps,a=t.memoizedState,l=a.element,pd(e,t),xl(t,s,null,n);var i=t.memoizedState;if(s=i.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=nr(Error(I(423)),t),t=bc(e,t,s,n,l);break e}else if(s!==l){l=nr(Error(I(424)),t),t=bc(e,t,s,n,l);break e}else for(Ke=Yt(t.stateNode.containerInfo.firstChild),Ye=t,fe=!0,ut=null,n=fd(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zn(),s===l){t=Ot(e,t,n);break e}De(e,t,s,n)}t=t.child}return t;case 5:return xd(t),e===null&&Za(t),s=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,Ka(s,l)?i=null:a!==null&&Ka(s,a)&&(t.flags|=32),Ud(e,t),De(e,t,i,n),t.child;case 6:return e===null&&Za(t),null;case 13:return Bd(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=er(t,null,s,n):De(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:ot(s,l),wc(e,t,s,l,n);case 7:return De(e,t,t.pendingProps,n),t.child;case 8:return De(e,t,t.pendingProps.children,n),t.child;case 12:return De(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,ce(hl,s._currentValue),s._currentValue=i,a!==null)if(ht(a.value,i)){if(a.children===l.children&&!We.current){t=Ot(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){i=a.child;for(var o=c.firstContext;o!==null;){if(o.context===s){if(a.tag===1){o=Rt(-1,n&-n),o.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var x=d.pending;x===null?o.next=o:(o.next=x.next,x.next=o),d.pending=o}}a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),ei(a.return,n,t),c.lanes|=n;break}o=o.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(I(341));i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ei(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}De(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,Kn(t,n),l=lt(l),s=s(l),t.flags|=1,De(e,t,s,n),t.child;case 14:return s=t.type,l=ot(s,t.pendingProps),l=ot(s.type,l),Nc(e,t,s,l,n);case 15:return $d(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:ot(s,l),Qs(e,t),t.tag=1,He(s)?(e=!0,dl(t)):e=!1,Kn(t,n),Fd(t,s,l),ni(t,s,l,n),li(null,t,s,!0,e,n);case 19:return Wd(e,t,n);case 22:return _d(e,t,n)}throw Error(I(156,t.tag))};function am(e,t){return Au(e,t)}function up(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(e,t,n,s){return new up(e,t,n,s)}function uo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dp(e){if(typeof e=="function")return uo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Li)return 11;if(e===Ri)return 14}return 2}function Zt(e,t){var n=e.alternate;return n===null?(n=rt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,s,l,a){var i=2;if(s=e,typeof e=="function")uo(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case An:return gn(n.children,l,a,t);case Pi:i=8,l|=8;break;case Ca:return e=rt(12,n,t,l|2),e.elementType=Ca,e.lanes=a,e;case Ea:return e=rt(13,n,t,l),e.elementType=Ea,e.lanes=a,e;case Pa:return e=rt(19,n,t,l),e.elementType=Pa,e.lanes=a,e;case xu:return Vl(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hu:i=10;break e;case pu:i=9;break e;case Li:i=11;break e;case Ri:i=14;break e;case _t:i=16,s=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=rt(i,n,t,l),t.elementType=e,t.type=s,t.lanes=a,t}function gn(e,t,n,s){return e=rt(7,e,s,t),e.lanes=n,e}function Vl(e,t,n,s){return e=rt(22,e,s,t),e.elementType=xu,e.lanes=n,e.stateNode={isHidden:!1},e}function va(e,t,n){return e=rt(6,e,null,t),e.lanes=n,e}function wa(e,t,n){return t=rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mp(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ea(0),this.expirationTimes=ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ea(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function mo(e,t,n,s,l,a,i,c,o){return e=new mp(e,t,n,c,o),t===1?(t=1,a===!0&&(t|=8)):t=0,a=rt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ki(a),e}function fp(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:In,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function im(e){if(!e)return nn;e=e._reactInternals;e:{if(Pn(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(He(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(He(n))return id(e,n,t)}return t}function om(e,t,n,s,l,a,i,c,o){return e=mo(n,s,!0,e,l,a,i,c,o),e.context=im(null),n=e.current,s=Ve(),l=Xt(n),a=Rt(s,l),a.callback=t??null,Gt(n,a,l),e.current.lanes=l,os(e,l,s),qe(e,s),e}function $l(e,t,n,s){var l=t.current,a=Ve(),i=Xt(l);return n=im(n),t.context===null?t.context=n:t.pendingContext=n,t=Rt(a,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Gt(l,t,i),e!==null&&(mt(e,l,i,a),Ws(e,l,i)),i}function kl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ac(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fo(e,t){Ac(e,t),(e=e.alternate)&&Ac(e,t)}function hp(){return null}var cm=typeof reportError=="function"?reportError:function(e){console.error(e)};function ho(e){this._internalRoot=e}_l.prototype.render=ho.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));$l(e,t,null,null)};_l.prototype.unmount=ho.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bn(function(){$l(null,e,null,null)}),t[At]=null}};function _l(e){this._internalRoot=e}_l.prototype.unstable_scheduleHydration=function(e){if(e){var t=_u();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zt.length&&t!==0&&t<zt[n].priority;n++);zt.splice(n,0,e),n===0&&zu(e)}};function po(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ul(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mc(){}function pp(e,t,n,s,l){if(l){if(typeof s=="function"){var a=s;s=function(){var d=kl(i);a.call(d)}}var i=om(t,s,e,0,null,!1,!1,"",Mc);return e._reactRootContainer=i,e[At]=i.current,Yr(e.nodeType===8?e.parentNode:e),bn(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var c=s;s=function(){var d=kl(o);c.call(d)}}var o=mo(e,0,!1,null,null,!1,!1,"",Mc);return e._reactRootContainer=o,e[At]=o.current,Yr(e.nodeType===8?e.parentNode:e),bn(function(){$l(t,o,n,s)}),o}function zl(e,t,n,s,l){var a=n._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var c=l;l=function(){var o=kl(i);c.call(o)}}$l(t,i,e,l)}else i=pp(n,t,e,l,s);return kl(i)}Vu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Pr(t.pendingLanes);n!==0&&(Ai(t,n|1),qe(t,ve()),!(te&6)&&(rr=ve()+500,ln()))}break;case 13:bn(function(){var s=Mt(e,1);if(s!==null){var l=Ve();mt(s,e,1,l)}}),fo(e,1)}};Mi=function(e){if(e.tag===13){var t=Mt(e,134217728);if(t!==null){var n=Ve();mt(t,e,134217728,n)}fo(e,134217728)}};$u=function(e){if(e.tag===13){var t=Xt(e),n=Mt(e,t);if(n!==null){var s=Ve();mt(n,e,t,s)}fo(e,t)}};_u=function(){return le};Uu=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};Va=function(e,t,n){switch(t){case"input":if(Ta(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=Il(s);if(!l)throw Error(I(90));yu(s),Ta(s,l)}}}break;case"textarea":wu(e,n);break;case"select":t=n.value,t!=null&&Wn(e,!!n.multiple,t,!1)}};Eu=io;Pu=bn;var xp={usingClientEntryPoint:!1,Events:[us,Dn,Il,Su,Cu,io]},kr={findFiberByHostInstance:fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gp={bundleType:kr.bundleType,version:kr.version,rendererPackageName:kr.rendererPackageName,rendererConfig:kr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tu(e),e===null?null:e.stateNode},findFiberByHostInstance:kr.findFiberByHostInstance||hp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ms.isDisabled&&Ms.supportsFiber)try{Pl=Ms.inject(gp),Nt=Ms}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xp;Je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!po(t))throw Error(I(200));return fp(e,t,null,n)};Je.createRoot=function(e,t){if(!po(e))throw Error(I(299));var n=!1,s="",l=cm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=mo(e,1,!1,null,null,n,!1,s,l),e[At]=t.current,Yr(e.nodeType===8?e.parentNode:e),new ho(t)};Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Tu(t),e=e===null?null:e.stateNode,e};Je.flushSync=function(e){return bn(e)};Je.hydrate=function(e,t,n){if(!Ul(t))throw Error(I(200));return zl(null,e,t,!0,n)};Je.hydrateRoot=function(e,t,n){if(!po(e))throw Error(I(405));var s=n!=null&&n.hydratedSources||null,l=!1,a="",i=cm;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=om(t,null,e,1,n??null,l,!1,a,i),e[At]=t.current,Yr(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new _l(t)};Je.render=function(e,t,n){if(!Ul(t))throw Error(I(200));return zl(null,e,t,!1,n)};Je.unmountComponentAtNode=function(e){if(!Ul(e))throw Error(I(40));return e._reactRootContainer?(bn(function(){zl(null,null,e,!1,function(){e._reactRootContainer=null,e[At]=null})}),!0):!1};Je.unstable_batchedUpdates=io;Je.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Ul(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return zl(e,t,n,!1,s)};Je.version="18.3.1-next-f1338f8080-20240426";function um(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(um)}catch(e){console.error(e)}}um(),uu.exports=Je;var dm=uu.exports,mm,Oc=dm;mm=Oc.createRoot,Oc.hydrateRoot;/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fc="popstate";function yp(e={}){function t(s,l){let{pathname:a,search:i,hash:c}=s.location;return gi("",{pathname:a,search:i,hash:c},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:ss(l)}return wp(t,n,null,e)}function he(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vp(){return Math.random().toString(36).substring(2,10)}function Dc(e,t){return{usr:e.state,key:e.key,idx:t}}function gi(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?dr(t):t,state:n,key:t&&t.key||s||vp()}}function ss({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function dr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function wp(e,t,n,s={}){let{window:l=document.defaultView,v5Compat:a=!1}=s,i=l.history,c="POP",o=null,d=x();d==null&&(d=0,i.replaceState({...i.state,idx:d},""));function x(){return(i.state||{idx:null}).idx}function v(){c="POP";let S=x(),m=S==null?null:S-d;d=S,o&&o({action:c,location:b.location,delta:m})}function y(S,m){c="PUSH";let u=gi(b.location,S,m);d=x()+1;let f=Dc(u,d),w=b.createHref(u);try{i.pushState(f,"",w)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;l.location.assign(w)}a&&o&&o({action:c,location:b.location,delta:1})}function p(S,m){c="REPLACE";let u=gi(b.location,S,m);d=x();let f=Dc(u,d),w=b.createHref(u);i.replaceState(f,"",w),a&&o&&o({action:c,location:b.location,delta:0})}function g(S){return Np(S)}let b={get action(){return c},get location(){return e(l,i)},listen(S){if(o)throw new Error("A history only accepts one active listener");return l.addEventListener(Fc,v),o=S,()=>{l.removeEventListener(Fc,v),o=null}},createHref(S){return t(l,S)},createURL:g,encodeLocation(S){let m=g(S);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:y,replace:p,go(S){return i.go(S)}};return b}function Np(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),he(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:ss(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function fm(e,t,n="/"){return jp(e,t,n,!1)}function jp(e,t,n,s){let l=typeof t=="string"?dr(t):t,a=Ft(l.pathname||"/",n);if(a==null)return null;let i=hm(e);bp(i);let c=null;for(let o=0;c==null&&o<i.length;++o){let d=Mp(a);c=Ip(i[o],d,s)}return c}function hm(e,t=[],n=[],s=""){let l=(a,i,c)=>{let o={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};o.relativePath.startsWith("/")&&(he(o.relativePath.startsWith(s),`Absolute route path "${o.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(s.length));let d=Tt([s,o.relativePath]),x=n.concat(o);a.children&&a.children.length>0&&(he(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),hm(a.children,t,x,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:Rp(d,a.index),routesMeta:x})};return e.forEach((a,i)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))l(a,i);else for(let o of pm(a.path))l(a,i,o)}),t}function pm(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,l=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return l?[a,""]:[a];let i=pm(s.join("/")),c=[];return c.push(...i.map(o=>o===""?a:[a,o].join("/"))),l&&c.push(...i),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function bp(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Tp(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var kp=/^:[\w-]+$/,Sp=3,Cp=2,Ep=1,Pp=10,Lp=-2,Vc=e=>e==="*";function Rp(e,t){let n=e.split("/"),s=n.length;return n.some(Vc)&&(s+=Lp),t&&(s+=Cp),n.filter(l=>!Vc(l)).reduce((l,a)=>l+(kp.test(a)?Sp:a===""?Ep:Pp),s)}function Tp(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function Ip(e,t,n=!1){let{routesMeta:s}=e,l={},a="/",i=[];for(let c=0;c<s.length;++c){let o=s[c],d=c===s.length-1,x=a==="/"?t:t.slice(a.length)||"/",v=Sl({path:o.relativePath,caseSensitive:o.caseSensitive,end:d},x),y=o.route;if(!v&&d&&n&&!s[s.length-1].route.index&&(v=Sl({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},x)),!v)return null;Object.assign(l,v.params),i.push({params:l,pathname:Tt([a,v.pathname]),pathnameBase:Vp(Tt([a,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(a=Tt([a,v.pathnameBase]))}return i}function Sl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Ap(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let a=l[0],i=a.replace(/(.)\/+$/,"$1"),c=l.slice(1);return{params:s.reduce((d,{paramName:x,isOptional:v},y)=>{if(x==="*"){let g=c[y]||"";i=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const p=c[y];return v&&!p?d[x]=void 0:d[x]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:i,pattern:e}}function Ap(e,t=!1,n=!0){pt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,o)=>(s.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function Mp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ft(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Op(e,t="/"){let{pathname:n,search:s="",hash:l=""}=typeof e=="string"?dr(e):e;return{pathname:n?n.startsWith("/")?n:Fp(n,t):t,search:$p(s),hash:_p(l)}}function Fp(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Na(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Dp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function xo(e){let t=Dp(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function go(e,t,n,s=!1){let l;typeof e=="string"?l=dr(e):(l={...e},he(!l.pathname||!l.pathname.includes("?"),Na("?","pathname","search",l)),he(!l.pathname||!l.pathname.includes("#"),Na("#","pathname","hash",l)),he(!l.search||!l.search.includes("#"),Na("#","search","hash",l)));let a=e===""||l.pathname==="",i=a?"/":l.pathname,c;if(i==null)c=n;else{let v=t.length-1;if(!s&&i.startsWith("..")){let y=i.split("/");for(;y[0]==="..";)y.shift(),v-=1;l.pathname=y.join("/")}c=v>=0?t[v]:"/"}let o=Op(l,c),d=i&&i!=="/"&&i.endsWith("/"),x=(a||i===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(d||x)&&(o.pathname+="/"),o}var Tt=e=>e.join("/").replace(/\/\/+/g,"/"),Vp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$p=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_p=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Up(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var xm=["POST","PUT","PATCH","DELETE"];new Set(xm);var zp=["GET",...xm];new Set(zp);var mr=h.createContext(null);mr.displayName="DataRouter";var Bl=h.createContext(null);Bl.displayName="DataRouterState";h.createContext(!1);var gm=h.createContext({isTransitioning:!1});gm.displayName="ViewTransition";var Bp=h.createContext(new Map);Bp.displayName="Fetchers";var Wp=h.createContext(null);Wp.displayName="Await";var xt=h.createContext(null);xt.displayName="Navigation";var ms=h.createContext(null);ms.displayName="Location";var gt=h.createContext({outlet:null,matches:[],isDataRoute:!1});gt.displayName="Route";var yo=h.createContext(null);yo.displayName="RouteError";function Hp(e,{relative:t}={}){he(fr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=h.useContext(xt),{hash:l,pathname:a,search:i}=fs(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:Tt([n,a])),s.createHref({pathname:c,search:i,hash:l})}function fr(){return h.useContext(ms)!=null}function Vt(){return he(fr(),"useLocation() may be used only in the context of a <Router> component."),h.useContext(ms).location}var ym="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vm(e){h.useContext(xt).static||h.useLayoutEffect(e)}function vo(){let{isDataRoute:e}=h.useContext(gt);return e?sx():qp()}function qp(){he(fr(),"useNavigate() may be used only in the context of a <Router> component.");let e=h.useContext(mr),{basename:t,navigator:n}=h.useContext(xt),{matches:s}=h.useContext(gt),{pathname:l}=Vt(),a=JSON.stringify(xo(s)),i=h.useRef(!1);return vm(()=>{i.current=!0}),h.useCallback((o,d={})=>{if(pt(i.current,ym),!i.current)return;if(typeof o=="number"){n.go(o);return}let x=go(o,JSON.parse(a),l,d.relative==="path");e==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:Tt([t,x.pathname])),(d.replace?n.replace:n.push)(x,d.state,d)},[t,n,a,l,e])}h.createContext(null);function wo(){let{matches:e}=h.useContext(gt),t=e[e.length-1];return t?t.params:{}}function fs(e,{relative:t}={}){let{matches:n}=h.useContext(gt),{pathname:s}=Vt(),l=JSON.stringify(xo(n));return h.useMemo(()=>go(e,JSON.parse(l),s,t==="path"),[e,l,s,t])}function Qp(e,t){return wm(e,t)}function wm(e,t,n,s){var m;he(fr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=h.useContext(xt),{matches:a}=h.useContext(gt),i=a[a.length-1],c=i?i.params:{},o=i?i.pathname:"/",d=i?i.pathnameBase:"/",x=i&&i.route;{let u=x&&x.path||"";Nm(o,!x||u.endsWith("*")||u.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${o}" (under <Route path="${u}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${u}"> to <Route path="${u==="/"?"*":`${u}/*`}">.`)}let v=Vt(),y;if(t){let u=typeof t=="string"?dr(t):t;he(d==="/"||((m=u.pathname)==null?void 0:m.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${u.pathname}" was given in the \`location\` prop.`),y=u}else y=v;let p=y.pathname||"/",g=p;if(d!=="/"){let u=d.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(u.length).join("/")}let b=fm(e,{pathname:g});pt(x||b!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),pt(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=Xp(b&&b.map(u=>Object.assign({},u,{params:Object.assign({},c,u.params),pathname:Tt([d,l.encodeLocation?l.encodeLocation(u.pathname).pathname:u.pathname]),pathnameBase:u.pathnameBase==="/"?d:Tt([d,l.encodeLocation?l.encodeLocation(u.pathnameBase).pathname:u.pathnameBase])})),a,n,s);return t&&S?h.createElement(ms.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},S):S}function Kp(){let e=rx(),t=Up(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=h.createElement(h.Fragment,null,h.createElement("p",null,"💿 Hey developer 👋"),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",h.createElement("code",{style:a},"ErrorBoundary")," or"," ",h.createElement("code",{style:a},"errorElement")," prop on your route.")),h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:l},n):null,i)}var Yp=h.createElement(Kp,null),Gp=class extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?h.createElement(gt.Provider,{value:this.props.routeContext},h.createElement(yo.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Jp({routeContext:e,match:t,children:n}){let s=h.useContext(mr);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),h.createElement(gt.Provider,{value:e},n)}function Xp(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,a=n==null?void 0:n.errors;if(a!=null){let o=l.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);he(o>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),l=l.slice(0,Math.min(l.length,o+1))}let i=!1,c=-1;if(n)for(let o=0;o<l.length;o++){let d=l[o];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=o),d.route.id){let{loaderData:x,errors:v}=n,y=d.route.loader&&!x.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||y){i=!0,c>=0?l=l.slice(0,c+1):l=[l[0]];break}}}return l.reduceRight((o,d,x)=>{let v,y=!1,p=null,g=null;n&&(v=a&&d.route.id?a[d.route.id]:void 0,p=d.route.errorElement||Yp,i&&(c<0&&x===0?(Nm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,g=null):c===x&&(y=!0,g=d.route.hydrateFallbackElement||null)));let b=t.concat(l.slice(0,x+1)),S=()=>{let m;return v?m=p:y?m=g:d.route.Component?m=h.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=o,h.createElement(Jp,{match:d,routeContext:{outlet:o,matches:b,isDataRoute:n!=null},children:m})};return n&&(d.route.ErrorBoundary||d.route.errorElement||x===0)?h.createElement(Gp,{location:n.location,revalidation:n.revalidation,component:p,error:v,children:S(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):S()},null)}function No(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zp(e){let t=h.useContext(mr);return he(t,No(e)),t}function ex(e){let t=h.useContext(Bl);return he(t,No(e)),t}function tx(e){let t=h.useContext(gt);return he(t,No(e)),t}function jo(e){let t=tx(e),n=t.matches[t.matches.length-1];return he(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function nx(){return jo("useRouteId")}function rx(){var s;let e=h.useContext(yo),t=ex("useRouteError"),n=jo("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function sx(){let{router:e}=Zp("useNavigate"),t=jo("useNavigate"),n=h.useRef(!1);return vm(()=>{n.current=!0}),h.useCallback(async(l,a={})=>{pt(n.current,ym),n.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:t,...a}))},[e,t])}var $c={};function Nm(e,t,n){!t&&!$c[e]&&($c[e]=!0,pt(!1,n))}h.memo(lx);function lx({routes:e,future:t,state:n}){return wm(e,void 0,n,t)}function mn({to:e,replace:t,state:n,relative:s}){he(fr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=h.useContext(xt);pt(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=h.useContext(gt),{pathname:i}=Vt(),c=vo(),o=go(e,xo(a),i,s==="path"),d=JSON.stringify(o);return h.useEffect(()=>{c(JSON.parse(d),{replace:t,state:n,relative:s})},[c,d,s,t,n]),null}function Ae(e){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ax({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:l,static:a=!1}){he(!fr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),c=h.useMemo(()=>({basename:i,navigator:l,static:a,future:{}}),[i,l,a]);typeof n=="string"&&(n=dr(n));let{pathname:o="/",search:d="",hash:x="",state:v=null,key:y="default"}=n,p=h.useMemo(()=>{let g=Ft(o,i);return g==null?null:{location:{pathname:g,search:d,hash:x,state:v,key:y},navigationType:s}},[i,o,d,x,v,y,s]);return pt(p!=null,`<Router basename="${i}"> is not able to match the URL "${o}${d}${x}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:h.createElement(xt.Provider,{value:c},h.createElement(ms.Provider,{children:t,value:p}))}function ix({children:e,location:t}){return Qp(yi(e),t)}function yi(e,t=[]){let n=[];return h.Children.forEach(e,(s,l)=>{if(!h.isValidElement(s))return;let a=[...t,l];if(s.type===h.Fragment){n.push.apply(n,yi(s.props.children,a));return}he(s.type===Ae,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!s.props.index||!s.props.children,"An index route cannot have child routes.");let i={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=yi(s.props.children,a)),n.push(i)}),n}var Js="get",Xs="application/x-www-form-urlencoded";function Wl(e){return e!=null&&typeof e.tagName=="string"}function ox(e){return Wl(e)&&e.tagName.toLowerCase()==="button"}function cx(e){return Wl(e)&&e.tagName.toLowerCase()==="form"}function ux(e){return Wl(e)&&e.tagName.toLowerCase()==="input"}function dx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mx(e,t){return e.button===0&&(!t||t==="_self")&&!dx(e)}var Os=null;function fx(){if(Os===null)try{new FormData(document.createElement("form"),0),Os=!1}catch{Os=!0}return Os}var hx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ja(e){return e!=null&&!hx.has(e)?(pt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xs}"`),null):e}function px(e,t){let n,s,l,a,i;if(cx(e)){let c=e.getAttribute("action");s=c?Ft(c,t):null,n=e.getAttribute("method")||Js,l=ja(e.getAttribute("enctype"))||Xs,a=new FormData(e)}else if(ox(e)||ux(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||c.getAttribute("action");if(s=o?Ft(o,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||Js,l=ja(e.getAttribute("formenctype"))||ja(c.getAttribute("enctype"))||Xs,a=new FormData(c,e),!fx()){let{name:d,type:x,value:v}=e;if(x==="image"){let y=d?`${d}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else d&&a.append(d,v)}}else{if(Wl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Js,s=null,l=Xs,i=e}return a&&l==="text/plain"&&(i=a,a=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:a,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bo(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xx(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Ft(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function gx(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yx(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function vx(e,t,n){let s=await Promise.all(e.map(async l=>{let a=t.routes[l.route.id];if(a){let i=await gx(a,n);return i.links?i.links():[]}return[]}));return bx(s.flat(1).filter(yx).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function _c(e,t,n,s,l,a){let i=(o,d)=>n[d]?o.route.id!==n[d].route.id:!0,c=(o,d)=>{var x;return n[d].pathname!==o.pathname||((x=n[d].route.path)==null?void 0:x.endsWith("*"))&&n[d].params["*"]!==o.params["*"]};return a==="assets"?t.filter((o,d)=>i(o,d)||c(o,d)):a==="data"?t.filter((o,d)=>{var v;let x=s.routes[o.route.id];if(!x||!x.hasLoader)return!1;if(i(o,d)||c(o,d))return!0;if(o.route.shouldRevalidate){let y=o.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(e,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function wx(e,t,{includeHydrateFallback:n}={}){return Nx(e.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let a=[l.module];return l.clientActionModule&&(a=a.concat(l.clientActionModule)),l.clientLoaderModule&&(a=a.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(a=a.concat(l.hydrateFallbackModule)),l.imports&&(a=a.concat(l.imports)),a}).flat(1))}function Nx(e){return[...new Set(e)]}function jx(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function bx(e,t){let n=new Set;return new Set(t),e.reduce((s,l)=>{let a=JSON.stringify(jx(l));return n.has(a)||(n.add(a),s.push({key:a,link:l})),s},[])}function jm(){let e=h.useContext(mr);return bo(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function kx(){let e=h.useContext(Bl);return bo(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ko=h.createContext(void 0);ko.displayName="FrameworkContext";function bm(){let e=h.useContext(ko);return bo(e,"You must render this element inside a <HydratedRouter> element"),e}function Sx(e,t){let n=h.useContext(ko),[s,l]=h.useState(!1),[a,i]=h.useState(!1),{onFocus:c,onBlur:o,onMouseEnter:d,onMouseLeave:x,onTouchStart:v}=t,y=h.useRef(null);h.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let b=m=>{m.forEach(u=>{i(u.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[e]),h.useEffect(()=>{if(s){let b=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(b)}}},[s]);let p=()=>{l(!0)},g=()=>{l(!1),i(!1)};return n?e!=="intent"?[a,y,{}]:[a,y,{onFocus:Sr(c,p),onBlur:Sr(o,g),onMouseEnter:Sr(d,p),onMouseLeave:Sr(x,g),onTouchStart:Sr(v,p)}]:[!1,y,{}]}function Sr(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Cx({page:e,...t}){let{router:n}=jm(),s=h.useMemo(()=>fm(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?h.createElement(Px,{page:e,matches:s,...t}):null}function Ex(e){let{manifest:t,routeModules:n}=bm(),[s,l]=h.useState([]);return h.useEffect(()=>{let a=!1;return vx(e,t,n).then(i=>{a||l(i)}),()=>{a=!0}},[e,t,n]),s}function Px({page:e,matches:t,...n}){let s=Vt(),{manifest:l,routeModules:a}=bm(),{basename:i}=jm(),{loaderData:c,matches:o}=kx(),d=h.useMemo(()=>_c(e,t,o,l,s,"data"),[e,t,o,l,s]),x=h.useMemo(()=>_c(e,t,o,l,s,"assets"),[e,t,o,l,s]),v=h.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let g=new Set,b=!1;if(t.forEach(m=>{var f;let u=l.routes[m.route.id];!u||!u.hasLoader||(!d.some(w=>w.route.id===m.route.id)&&m.route.id in c&&((f=a[m.route.id])!=null&&f.shouldRevalidate)||u.hasClientLoader?b=!0:g.add(m.route.id))}),g.size===0)return[];let S=xx(e,i,"data");return b&&g.size>0&&S.searchParams.set("_routes",t.filter(m=>g.has(m.route.id)).map(m=>m.route.id).join(",")),[S.pathname+S.search]},[i,c,s,l,d,t,e,a]),y=h.useMemo(()=>wx(x,l),[x,l]),p=Ex(x);return h.createElement(h.Fragment,null,v.map(g=>h.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),y.map(g=>h.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),p.map(({key:g,link:b})=>h.createElement("link",{key:g,...b})))}function Lx(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var km=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{km&&(window.__reactRouterVersion="7.7.1")}catch{}function Rx({basename:e,children:t,window:n}){let s=h.useRef();s.current==null&&(s.current=yp({window:n,v5Compat:!0}));let l=s.current,[a,i]=h.useState({action:l.action,location:l.location}),c=h.useCallback(o=>{h.startTransition(()=>i(o))},[i]);return h.useLayoutEffect(()=>l.listen(c),[l,c]),h.createElement(ax,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:l})}var Sm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ls=h.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:l,reloadDocument:a,replace:i,state:c,target:o,to:d,preventScrollReset:x,viewTransition:v,...y},p){let{basename:g}=h.useContext(xt),b=typeof d=="string"&&Sm.test(d),S,m=!1;if(typeof d=="string"&&b&&(S=d,km))try{let z=new URL(window.location.href),M=d.startsWith("//")?new URL(z.protocol+d):new URL(d),O=Ft(M.pathname,g);M.origin===z.origin&&O!=null?d=O+M.search+M.hash:m=!0}catch{pt(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let u=Hp(d,{relative:l}),[f,w,j]=Sx(s,y),N=Mx(d,{replace:i,state:c,target:o,preventScrollReset:x,relative:l,viewTransition:v});function P(z){t&&t(z),z.defaultPrevented||N(z)}let R=h.createElement("a",{...y,...j,href:S||u,onClick:m||a?t:P,ref:Lx(p,w),target:o,"data-discover":!b&&n==="render"?"true":void 0});return f&&!b?h.createElement(h.Fragment,null,R,h.createElement(Cx,{page:u})):R});ls.displayName="Link";var Tx=h.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:l=!1,style:a,to:i,viewTransition:c,children:o,...d},x){let v=fs(i,{relative:d.relative}),y=Vt(),p=h.useContext(Bl),{navigator:g,basename:b}=h.useContext(xt),S=p!=null&&$x(v)&&c===!0,m=g.encodeLocation?g.encodeLocation(v).pathname:v.pathname,u=y.pathname,f=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(u=u.toLowerCase(),f=f?f.toLowerCase():null,m=m.toLowerCase()),f&&b&&(f=Ft(f,b)||f);const w=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let j=u===m||!l&&u.startsWith(m)&&u.charAt(w)==="/",N=f!=null&&(f===m||!l&&f.startsWith(m)&&f.charAt(m.length)==="/"),P={isActive:j,isPending:N,isTransitioning:S},R=j?t:void 0,z;typeof s=="function"?z=s(P):z=[s,j?"active":null,N?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(P):a;return h.createElement(ls,{...d,"aria-current":R,className:z,ref:x,style:M,to:i,viewTransition:c},typeof o=="function"?o(P):o)});Tx.displayName="NavLink";var Ix=h.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:l,state:a,method:i=Js,action:c,onSubmit:o,relative:d,preventScrollReset:x,viewTransition:v,...y},p)=>{let g=Dx(),b=Vx(c,{relative:d}),S=i.toLowerCase()==="get"?"get":"post",m=typeof c=="string"&&Sm.test(c),u=f=>{if(o&&o(f),f.defaultPrevented)return;f.preventDefault();let w=f.nativeEvent.submitter,j=(w==null?void 0:w.getAttribute("formmethod"))||i;g(w||f.currentTarget,{fetcherKey:t,method:j,navigate:n,replace:l,state:a,relative:d,preventScrollReset:x,viewTransition:v})};return h.createElement("form",{ref:p,method:S,action:b,onSubmit:s?o:u,...y,"data-discover":!m&&e==="render"?"true":void 0})});Ix.displayName="Form";function Ax(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cm(e){let t=h.useContext(mr);return he(t,Ax(e)),t}function Mx(e,{target:t,replace:n,state:s,preventScrollReset:l,relative:a,viewTransition:i}={}){let c=vo(),o=Vt(),d=fs(e,{relative:a});return h.useCallback(x=>{if(mx(x,t)){x.preventDefault();let v=n!==void 0?n:ss(o)===ss(d);c(e,{replace:v,state:s,preventScrollReset:l,relative:a,viewTransition:i})}},[o,c,d,n,s,t,e,l,a,i])}var Ox=0,Fx=()=>`__${String(++Ox)}__`;function Dx(){let{router:e}=Cm("useSubmit"),{basename:t}=h.useContext(xt),n=nx();return h.useCallback(async(s,l={})=>{let{action:a,method:i,encType:c,formData:o,body:d}=px(s,t);if(l.navigate===!1){let x=l.fetcherKey||Fx();await e.fetch(x,n,l.action||a,{preventScrollReset:l.preventScrollReset,formData:o,body:d,formMethod:l.method||i,formEncType:l.encType||c,flushSync:l.flushSync})}else await e.navigate(l.action||a,{preventScrollReset:l.preventScrollReset,formData:o,body:d,formMethod:l.method||i,formEncType:l.encType||c,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,t,n])}function Vx(e,{relative:t}={}){let{basename:n}=h.useContext(xt),s=h.useContext(gt);he(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),a={...fs(e||".",{relative:t})},i=Vt();if(e==null){a.search=i.search;let c=new URLSearchParams(a.search),o=c.getAll("index");if(o.some(x=>x==="")){c.delete("index"),o.filter(v=>v).forEach(v=>c.append("index",v));let x=c.toString();a.search=x?`?${x}`:""}}return(!e||e===".")&&l.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Tt([n,a.pathname])),ss(a)}function $x(e,{relative:t}={}){let n=h.useContext(gm);he(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Cm("useViewTransitionState"),l=fs(e,{relative:t});if(!n.isTransitioning)return!1;let a=Ft(n.currentLocation.pathname,s)||n.currentLocation.pathname,i=Ft(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Sl(l.pathname,i)!=null||Sl(l.pathname,a)!=null}const et="/api";class _x{async getAuthHeaders(){const t=localStorage.getItem("token");return{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}}}async getAllRoleConfigurations(){try{const t=await fetch(`${et}/roleconfiguration`,{method:"GET",headers:await this.getAuthHeaders()});if(!t.ok)throw new Error(`Failed to fetch role configurations: ${t.statusText}`);return await t.json()}catch(t){throw console.error("Error fetching role configurations:",t),t}}async getRoleConfigurationById(t){try{const n=await fetch(`${et}/roleconfiguration/${t}`,{method:"GET",headers:await this.getAuthHeaders()});if(!n.ok)throw new Error(`Failed to fetch role configuration: ${n.statusText}`);return await n.json()}catch(n){throw console.error("Error fetching role configuration:",n),n}}async getRoleConfigurationByName(t){try{const n=await fetch(`${et}/roleconfiguration/by-name/${encodeURIComponent(t)}`,{method:"GET",headers:await this.getAuthHeaders()});if(!n.ok)throw new Error(`Failed to fetch role configuration: ${n.statusText}`);return await n.json()}catch(n){throw console.error("Error fetching role configuration by name:",n),n}}async createRoleConfiguration(t){try{const n=await fetch(`${et}/roleconfiguration`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(t)});if(!n.ok)throw new Error(`Failed to create role configuration: ${n.statusText}`);return await n.json()}catch(n){throw console.error("Error creating role configuration:",n),n}}async updateRoleConfiguration(t,n){try{const s=await fetch(`${et}/roleconfiguration/${t}`,{method:"PUT",headers:await this.getAuthHeaders(),body:JSON.stringify(n)});if(!s.ok)throw new Error(`Failed to update role configuration: ${s.statusText}`);return await s.json()}catch(s){throw console.error("Error updating role configuration:",s),s}}async deleteRoleConfiguration(t){try{const n=await fetch(`${et}/roleconfiguration/${t}`,{method:"DELETE",headers:await this.getAuthHeaders()});if(!n.ok)throw new Error(`Failed to delete role configuration: ${n.statusText}`)}catch(n){throw console.error("Error deleting role configuration:",n),n}}async activateRoleConfiguration(t){try{const n=await fetch(`${et}/roleconfiguration/${t}/activate`,{method:"PATCH",headers:await this.getAuthHeaders()});if(!n.ok)throw new Error(`Failed to activate role configuration: ${n.statusText}`)}catch(n){throw console.error("Error activating role configuration:",n),n}}async deactivateRoleConfiguration(t){try{const n=await fetch(`${et}/roleconfiguration/${t}/deactivate`,{method:"PATCH",headers:await this.getAuthHeaders()});if(!n.ok)throw new Error(`Failed to deactivate role configuration: ${n.statusText}`)}catch(n){throw console.error("Error deactivating role configuration:",n),n}}async getRolePermissions(t){try{const n=await fetch(`${et}/roleconfiguration/${t}/permissions`,{method:"GET",headers:await this.getAuthHeaders()});if(!n.ok)throw new Error(`Failed to fetch role permissions: ${n.statusText}`);return await n.json()}catch(n){throw console.error("Error fetching role permissions:",n),n}}async getRoleRoutes(t){try{const n=await fetch(`${et}/roleconfiguration/${t}/routes`,{method:"GET",headers:await this.getAuthHeaders()});if(!n.ok)throw new Error(`Failed to fetch role routes: ${n.statusText}`);return await n.json()}catch(n){throw console.error("Error fetching role routes:",n),n}}async hasPermission(t,n){try{const s=await fetch(`${et}/roleconfiguration/check-permission?roleName=${encodeURIComponent(t)}&permissionName=${encodeURIComponent(n)}`,{method:"GET",headers:await this.getAuthHeaders()});if(!s.ok)throw new Error(`Failed to check permission: ${s.statusText}`);return await s.json()}catch(s){throw console.error("Error checking permission:",s),s}}async seedDefaultRoleConfigurations(){try{const t=await fetch(`${et}/roleconfiguration/seed-defaults`,{method:"POST",headers:await this.getAuthHeaders()});if(!t.ok)throw new Error(`Failed to seed default role configurations: ${t.statusText}`)}catch(t){throw console.error("Error seeding default role configurations:",t),t}}}const vi=new _x,Em=h.createContext(void 0),kt=()=>{const e=h.useContext(Em);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Ux=({children:e})=>{const[t,n]=h.useState(null),[s,l]=h.useState(!1);h.useEffect(()=>{const d=localStorage.getItem("user"),x=localStorage.getItem("token");if(d&&x)try{const v=JSON.parse(d);n(v),l(!0)}catch{localStorage.removeItem("user"),localStorage.removeItem("token")}else localStorage.removeItem("user"),localStorage.removeItem("token")},[]);const a=async(d,x)=>{try{const v=["/api/auth/login"];for(const y of v)try{const p=await fetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:x})});if(p.ok){const g=await p.json();let b="staff";typeof g.user.role=="string"?b=g.user.role:typeof g.user.role=="number"&&(b={1:"reception",2:"admin",3:"staff"}[g.user.role]||"staff");const S={id:g.user.id.toString(),name:g.user.name||`${g.user.firstName} ${g.user.lastName}`,email:g.user.email,phone:g.user.phoneNumber||g.user.phone,extension:g.user.extension,role:b,department:g.user.department,locationId:g.user.locationId,locationName:g.user.locationName,roleConfigurationId:g.user.roleConfigurationId};if(S.roleConfigurationId)try{const m=await vi.getRoleConfigurationById(S.roleConfigurationId);S.roleConfiguration=m}catch(m){console.warn("Failed to load role configuration:",m)}return n(S),l(!0),localStorage.setItem("user",JSON.stringify(S)),localStorage.setItem("token",g.token),!0}}catch{}}catch{}return!1},i=()=>{n(null),l(!1),localStorage.removeItem("user"),localStorage.removeItem("token")},c=async d=>{var x;if(!t||!t.role)return!1;try{return t.roleConfiguration?((x=t.roleConfiguration.permissions)==null?void 0:x.some(v=>v.permissionName===d&&v.isActive))||!1:await vi.hasPermission(t.role,d)}catch{return!1}},o=()=>(t==null?void 0:t.roleConfiguration)||null;return r.jsx(Em.Provider,{value:{user:t,isAuthenticated:s,login:a,logout:i,hasPermission:c,getUserRoleConfiguration:o},children:e})},Pm=h.createContext(void 0),zx=()=>{const e=h.useContext(Pm);if(e===void 0)throw new Error("useRoleConfiguration must be used within a RoleConfigurationProvider");return e},Bx=({children:e})=>{const[t,n]=h.useState([]),[s,l]=h.useState(!0),[a,i]=h.useState(null),{user:c}=kt(),o=async()=>{try{l(!0),i(null);const g=await vi.getAllRoleConfigurations();n(g)}catch(g){console.error("Failed to load role configurations:",g),i(g instanceof Error?g.message:"Failed to load role configurations")}finally{l(!1)}};h.useEffect(()=>{o()},[]);const d=()=>c?c.roleConfiguration?c.roleConfiguration:x(c.role):null,x=g=>t.find(b=>b.roleName.toLowerCase()===g.toLowerCase()&&b.isActive)||null,v=async()=>{await o()},y=g=>{var S;const b=d();return b&&((S=b.permissions)==null?void 0:S.some(m=>m.permissionName===g&&m.isActive))||!1},p=g=>{var S;const b=d();return b&&((S=b.routes)==null?void 0:S.some(m=>m.routePath===g&&m.isActive))||!1};return r.jsx(Pm.Provider,{value:{roleConfigurations:t,loading:s,error:a,getCurrentUserRoleConfig:d,getRoleConfigByName:x,refreshRoleConfigurations:v,hasPermission:y,hasRoute:p},children:e})},Wx=()=>(window.location.hostname==="localhost"||window.location.hostname.startsWith("127.0")||window.location.hostname.startsWith("192.168"),"/api"),ba=Wx();class Hx{getAuthToken(){return localStorage.getItem("token")}convertApiResponseToFrontend(t){var n,s,l,a,i,c,o,d;return t?{id:t.id||t.Id||0,locationId:t.locationId||t.LocationId,locationName:t.locationName||t.LocationName,purposeOfVisitOptions:t.purposeOfVisitOptions||t.PurposeOfVisitOptions||[],idTypeOptions:t.idTypeOptions||t.IdTypeOptions||[],isPhotoMandatory:t.isPhotoMandatory??t.IsPhotoMandatory??!1,customFields:t.customFields||t.CustomFields||[],enabledFields:{email:((n=t.enabledFields)==null?void 0:n.email)??((s=t.EnabledFields)==null?void 0:s.Email)??!1,companyName:((l=t.enabledFields)==null?void 0:l.companyName)??((a=t.EnabledFields)==null?void 0:a.CompanyName)??!1,idProof:((i=t.enabledFields)==null?void 0:i.idProof)??((c=t.EnabledFields)==null?void 0:c.IdProof)??!1,photo:((o=t.enabledFields)==null?void 0:o.photo)??((d=t.EnabledFields)==null?void 0:d.Photo)??!1},createdAt:t.createdAt||t.CreatedAt||new Date().toISOString(),updatedAt:t.updatedAt||t.UpdatedAt||new Date().toISOString()}:null}async makeRequest(t,n={}){try{const s=this.getAuthToken(),l={"Content-Type":"application/json",...n.headers};s&&(l.Authorization=`Bearer ${s}`),console.log(`🔍 Making request to: ${ba}${t}`,{method:n.method||"GET",headers:l});const a=await fetch(`${ba}${t}`,{...n,headers:l});if(console.log(`📡 Response status: ${a.status} ${a.statusText}`),!a.ok){const c=await a.text();throw console.error(`❌ HTTP error! status: ${a.status}, body: ${c}`),new Error(`HTTP error! status: ${a.status} - ${c}`)}if(a.status===204||a.headers.get("content-length")==="0")return console.log(`✅ Success with no content (${a.status})`),{success:!0,data:null};const i=a.headers.get("content-type");if(i&&i.includes("application/json")){const c=await a.json();return console.log("✅ Success with JSON data:",c),{success:!0,data:c}}else return console.log("✅ Success with non-JSON content"),{success:!0,data:null}}catch(s){return console.error("❌ API request failed:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async getLocationByUrl(t){console.log(`Fetching location with URL: ${t}`),console.log(`API endpoint: ${ba}/locations/url/${encodeURIComponent(t)}`);try{const n=await this.makeRequest(`/locations/url/${encodeURIComponent(t)}`);return console.log("API response:",n),n.success&&n.data?n.data:null}catch(n){throw console.error("Error in getLocationByUrl:",n),n}}async getLocations(){const t=await this.makeRequest("/locations");return t.success&&t.data?t.data:[]}async getLocationSettings(t){try{const n=t?`/settings?locationId=${t}`:"/settings",s=await this.makeRequest(n);return s.success&&s.data?this.convertApiResponseToFrontend(s.data):null}catch(n){return console.error("Error getting location settings:",n),null}}async updateLocationSettings(t,n){try{const s=t?`/settings?locationId=${t}`:"/settings",l={};n.purposeOfVisitOptions&&(l.purposeOfVisitOptions=n.purposeOfVisitOptions),n.idTypeOptions&&(l.idTypeOptions=n.idTypeOptions),typeof n.isPhotoMandatory=="boolean"&&(l.isPhotoMandatory=n.isPhotoMandatory),n.customFields&&(l.customFields=n.customFields),n.enabledFields&&(l.enabledFields={Email:n.enabledFields.email,CompanyName:n.enabledFields.companyName,IdProof:n.enabledFields.idProof,Photo:n.enabledFields.photo,VehicleNumber:n.enabledFields.vehicleNumber,EmergencyContact:n.enabledFields.emergencyContact}),typeof n.enableEmailNotifications=="boolean"&&(l.enableEmailNotifications=n.enableEmailNotifications),typeof n.enableSMSNotifications=="boolean"&&(l.enableSMSNotifications=n.enableSMSNotifications),typeof n.enableCheckInReminders=="boolean"&&(l.enableCheckInReminders=n.enableCheckInReminders),n.reminderTimeBeforeVisit&&(l.reminderTimeBeforeVisit=n.reminderTimeBeforeVisit),typeof n.requireApprovalForAllVisits=="boolean"&&(l.requireApprovalForAllVisits=n.requireApprovalForAllVisits),typeof n.autoApprovalEnabled=="boolean"&&(l.autoApprovalEnabled=n.autoApprovalEnabled),typeof n.allowWalkIns=="boolean"&&(l.allowWalkIns=n.allowWalkIns),n.dataRetentionDays&&(l.dataRetentionDays=n.dataRetentionDays),typeof n.enableAuditLogs=="boolean"&&(l.enableAuditLogs=n.enableAuditLogs),n.maxVisitDuration&&(l.maxVisitDuration=n.maxVisitDuration);const a=await this.makeRequest(s,{method:"PUT",body:JSON.stringify(l)});return a.success&&a.data?this.convertApiResponseToFrontend(a.data):null}catch(s){return console.error("Error updating location settings:",s),null}}async getStaffByLocation(t){const n=await this.makeRequest(`/staff/location/${t}`);return n.success&&n.data?n.data:[]}async getActiveStaff(){const t=await this.makeRequest("/staff/active");return t.success&&t.data?t.data:[]}async registerVisitor(t){try{console.log("🚀 Registering visitor:",t);const n=await this.makeRequest("/visitors",{method:"POST",body:JSON.stringify(t)});return console.log("📡 Registration response:",n),n.success}catch(n){throw console.error("❌ Registration error:",n),n}}async getVisitors(t,n,s){const l=new URLSearchParams;t&&l.append("locationId",t.toString()),n&&l.append("date",n),s&&l.append("status",s);const a=l.toString()?`?${l.toString()}`:"",i=await this.makeRequest(`/visitors${a}`);return i.success&&i.data?i.data:[]}async getTodaysVisitors(t){const n=t?`?locationId=${t}`:"",s=await this.makeRequest(`/visitors/today${n}`);return s.success&&s.data?s.data:[]}async getVisitorById(t){const n=await this.makeRequest(`/visitors/${t}`);return n.success&&n.data?n.data:null}async getVisitorByPhoneNumber(t){if(!t)return null;try{console.log(`🔍 Checking for returning visitor with phone: ${t}`);const n=await this.makeRequest(`/visitors/by-phone/${encodeURIComponent(t)}`);return n.success&&n.data?(console.log("✅ Found returning visitor data:",n.data),n.data):(console.log("📱 No previous visitor found with this phone number"),null)}catch(n){return console.log("📱 Phone number check failed (likely new visitor):",n),null}}async getVisitorsByStaff(t,n){const s=n?`?status=${n}`:"",l=await this.makeRequest(`/visitors/staff/${encodeURIComponent(t)}${s}`);return l.success&&l.data?l.data:[]}async getVisitorStats(t,n,s){const l=new URLSearchParams;t&&l.append("locationId",t.toString()),n&&l.append("fromDate",n),s&&l.append("toDate",s);const a=l.toString()?`?${l.toString()}`:"",i=await this.makeRequest(`/visitors/stats${a}`);return i.success&&i.data?i.data:null}async updateVisitorStatus(t,n,s){console.log(`🔄 Updating visitor ${t} status to '${n}'`,{id:t,status:n,notes:s});const l=await this.makeRequest(`/visitors/${t}/status`,{method:"PUT",body:JSON.stringify({status:n,notes:s})});return console.log("📡 Update visitor status response:",l),l.success}async checkInVisitor(t){return(await this.makeRequest(`/visitors/${t}/checkin`,{method:"POST"})).success}async checkOutVisitor(t){return(await this.makeRequest(`/visitors/${t}/checkout`,{method:"POST"})).success}async updateVisitorAssignment(t,n){return(await this.makeRequest(`/visitors/${t}/assignment`,{method:"PUT",body:JSON.stringify(n)})).success}async rescheduleVisitor(t,n){try{const s=await this.makeRequest(`/visitors/${t}/reschedule`,{method:"PUT",body:JSON.stringify({dateTime:n})});return console.log("✅ Visitor rescheduled successfully:",s),s.success}catch(s){return console.error("❌ Error rescheduling visitor:",s),!1}}async deleteVisitor(t){return(await this.makeRequest(`/visitors/${t}`,{method:"DELETE"})).success}}const me=new Hx,Lm=h.createContext(void 0),hs=()=>{const e=h.useContext(Lm);if(e===void 0)throw new Error("useVisitor must be used within a VisitorProvider");return e},qx=e=>{if(typeof e=="string")return e;switch(e){case 1:return"awaiting_approval";case 2:return"approved";case 3:return"rejected";case 4:return"checked_in";case 5:return"checked_out";case 6:return"rescheduled";default:return"awaiting_approval"}},Qx=e=>({id:e.id.toString(),locationId:e.locationId.toString(),fullName:e.fullName,phoneNumber:e.phoneNumber,email:e.email,companyName:e.companyName,purposeOfVisit:e.purposeOfVisit,whomToMeet:e.whomToMeet,dateTime:e.dateTime,idProofType:e.idProofType,idProofNumber:e.idProofNumber,photoUrl:e.photoUrl,status:qx(e.status),createdAt:e.createdAt,updatedAt:e.updatedAt,approvedBy:e.approvedBy,approvedAt:e.approvedAt,checkInTime:e.checkInTime,checkOutTime:e.checkOutTime,notes:e.notes}),Kx=({children:e})=>{const[t,n]=h.useState([]),[s,l]=h.useState(!1),{user:a}=kt();h.useEffect(()=>{a&&i()},[a]),h.useEffect(()=>{if(!a)return;i();const u=setInterval(()=>{i(!1)},3e3);return()=>{clearInterval(u)}},[a]);const i=async(u=!0)=>{if(a){u&&l(!0);try{let f=[];a.role==="admin"?f=await me.getVisitors():(a.role==="reception"||a.role==="staff")&&a.locationId?f=await me.getVisitors(a.locationId):a.role==="reception"||a.role==="staff"||a.role==="admin"?(console.warn("User has no specific location assigned, loading all visitors"),f=await me.getVisitors()):(console.warn("User has invalid role for visitor access:",a.role),f=[]);const w=f.map(Qx);n(w)}catch(f){console.error("Error loading visitors:",f),n([])}finally{u&&l(!1)}}},c=async u=>{try{const f={locationId:parseInt(u.locationId),fullName:u.fullName,phoneNumber:u.phoneNumber,email:u.email,companyName:u.companyName,purposeOfVisit:u.purposeOfVisit,whomToMeet:u.whomToMeet,dateTime:u.dateTime,idProofType:u.idProofType,idProofNumber:u.idProofNumber,photoUrl:u.photoUrl},w=await me.registerVisitor(f);return w&&await i(!1),w}catch(f){return console.error("Error adding visitor:",f),!1}},o=async(u,f,w)=>{try{console.log(`🔄 VisitorContext: Starting status update for visitor ${u} to ${f}`);const j=await me.updateVisitorStatus(parseInt(u),f,w);return console.log(`📡 VisitorContext: API response for visitor ${u}:`,j),j?(console.log("🔄 VisitorContext: Refreshing visitors after successful status update"),await i(!1),console.log("✅ VisitorContext: Visitor list refreshed")):console.error(`❌ VisitorContext: Failed to update visitor ${u} status to ${f}`),j}catch(j){return console.error("❌ VisitorContext: Error updating visitor status:",j),!1}},d=async(u,f)=>{try{console.log(`🔄 VisitorContext: Starting assignment update for visitor ${u} to ${f}`);const w=await me.updateVisitorAssignment(parseInt(u),f);return console.log(`📡 VisitorContext: API response for visitor ${u} assignment update:`,w),w?(console.log("🔄 VisitorContext: Refreshing visitors after successful assignment update"),await i(!1),console.log("✅ VisitorContext: Visitor list refreshed")):console.error(`❌ VisitorContext: Failed to update visitor ${u} assignment to ${f}`),w}catch(w){return console.error("❌ VisitorContext: Error updating visitor assignment:",w),!1}},x=async(u,f)=>{try{console.log(`🔄 VisitorContext: Starting reschedule for visitor ${u} to ${f}`);const w=await me.rescheduleVisitor(parseInt(u),f);return console.log(`📡 VisitorContext: API response for visitor ${u} reschedule:`,w),w?(console.log("🔄 VisitorContext: Refreshing visitors after successful reschedule"),await i(!1),console.log("✅ VisitorContext: Visitor list refreshed")):console.error(`❌ VisitorContext: Failed to reschedule visitor ${u} to ${f}`),w}catch(w){return console.error("❌ VisitorContext: Error rescheduling visitor:",w),!1}},v=async u=>{try{console.log(`🗑️ VisitorContext: Starting delete for visitor ${u}`);const f=await me.deleteVisitor(parseInt(u));return console.log(`📡 VisitorContext: API response for visitor ${u} delete:`,f),f?(console.log("🔄 VisitorContext: Refreshing visitors after successful delete"),await i(!1),console.log(`✅ VisitorContext: Visitor ${u} deleted successfully`)):console.error(`❌ VisitorContext: Failed to delete visitor ${u}`),f}catch(f){return console.error("❌ VisitorContext: Error deleting visitor:",f),!1}},y=async u=>{try{const f=await me.checkInVisitor(parseInt(u));return f&&await i(!1),f}catch(f){return console.error("Error checking in visitor:",f),!1}},p=async u=>{try{const f=await me.checkOutVisitor(parseInt(u));return f&&await i(!1),f}catch(f){return console.error("Error checking out visitor:",f),!1}},g=(u,f)=>{const w=new Date(u).toDateString();return t.filter(j=>{const N=new Date(j.dateTime).toDateString()===w,P=!f||j.locationId===f;return N&&P})},b=u=>t.find(f=>f.id===u),S=[{name:"Dr. Emily Watson",phone:"+1 (555) 100-1003",email:"emily.watson@company.com",extension:"1003"},{name:"David Rodriguez",phone:"+1 (555) 100-1004",email:"david.rodriguez@company.com",extension:"1004"},{name:"Lisa Thompson",phone:"+1 (555) 100-1005",email:"lisa.thompson@company.com",extension:"1005"},{name:"Michael Chen",phone:"+1 (555) 100-1006",email:"michael.chen@company.com",extension:"1006"},{name:"Sarah Johnson",phone:"+1 (555) 100-1001",email:"sarah.johnson@company.com",extension:"1001"}],m=u=>S.find(f=>f.name===u);return r.jsx(Lm.Provider,{value:{visitors:t,isLoading:s,addVisitor:c,updateVisitorStatus:o,updateVisitorAssignment:d,rescheduleVisitor:x,deleteVisitor:v,getVisitorsByDate:g,getVisitorById:b,checkInVisitor:y,checkOutVisitor:p,getStaffInfo:m,refreshVisitors:i},children:e})},Rm=h.createContext(void 0),ps=()=>{const e=h.useContext(Rm);if(e===void 0)throw new Error("useLocation must be used within a LocationProvider");return e},Yx="/api",Gx=()=>localStorage.getItem("token")||"",Fs=async(e,t={})=>{const n=Gx(),s=await fetch(`${Yx}${e}`,{...t,headers:{"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers}});if(!s.ok)throw new Error(`API request failed: ${s.status} ${s.statusText}`);return s.json()},Jx=({children:e})=>{const[t,n]=h.useState([]),[s,l]=h.useState(!1),[a,i]=h.useState(null),c=async()=>{try{l(!0),i(null),console.log("🌐 Loading locations from API...");const p=await Fs("/locations");console.log("✅ Loaded locations from API:",p.length,"locations");const g=p.map(b=>({id:b.id.toString(),name:b.name,address:b.address,description:b.description,isActive:b.isActive,registrationUrl:b.registrationUrl,qrCodeUrl:b.qrCodeUrl,createdAt:b.createdAt,updatedAt:b.updatedAt}));n(g)}catch(p){console.error("❌ Error loading locations from API:",p),i("Failed to load locations. Please ensure you are logged in."),n([])}finally{l(!1)}};h.useEffect(()=>{c()},[]);const o=async p=>{try{l(!0),i(null),console.log("➕ Adding new location via API:",p.name);const g={name:p.name,address:p.address,description:p.description,isActive:p.isActive};await Fs("/locations",{method:"POST",body:JSON.stringify(g)}),console.log("✅ Location created via API"),await c()}catch(g){console.error("❌ Error creating location via API:",g),i("Failed to create location. Please check your connection and try again.")}finally{l(!1)}},d=async(p,g)=>{try{l(!0),i(null),console.log("✏️ Updating location via API:",p);const b={name:g.name,address:g.address,description:g.description,isActive:g.isActive};await Fs(`/locations/${p}`,{method:"PUT",body:JSON.stringify(b)}),console.log("✅ Location updated via API"),await c()}catch(b){console.error("❌ Error updating location via API:",b),i("Failed to update location. Please check your connection and try again.")}finally{l(!1)}},x=async p=>{try{l(!0),i(null),console.log("🗑️ Deleting location via API:",p);const g=parseInt(p,10);if(isNaN(g))throw new Error("Invalid location ID");await Fs(`/locations/${g}`,{method:"DELETE"}),console.log("✅ Location deleted via API"),await c()}catch(g){console.error("❌ Error deleting location via API:",g),i("Failed to delete location. Please check your connection and try again.")}finally{l(!1)}},v=p=>t.find(g=>g.id===p),y=p=>t.find(g=>g.registrationUrl===p);return r.jsx(Rm.Provider,{value:{locations:t,addLocation:o,updateLocation:d,deleteLocation:x,getLocationById:v,getLocationByUrl:y,isLoading:s,error:a},children:e})},Tm=h.createContext(void 0),Hl=()=>{const e=h.useContext(Tm);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e},Tn={purposeOfVisitOptions:["Business Meeting","Interview","Consultation","Delivery","Maintenance","Training","Casual","Other"],idTypeOptions:["Driver's License","Passport","National ID","Employee ID","Student ID"],isPhotoMandatory:!1,customFields:[],enabledFields:{email:!0,companyName:!0,idProof:!0,photo:!0},emailSettings:{smtpServer:"smtp.office365.com",smtpPort:587,enableSsl:!0,username:"notification@example.com",password:"********",fromName:"Visitor Management System",fromEmail:"notification@example.com"}},Xx=({children:e})=>{const{user:t}=kt(),[n,s]=h.useState(Tn),[l,a]=h.useState(!1),i=h.useRef(!1),c=()=>(t==null?void 0:t.role)==="admin"?"visitorFormSettings_global":t!=null&&t.locationId?`visitorFormSettings_location_${t.locationId}`:"visitorFormSettings_default";h.useEffect(()=>{t&&o()},[t]),h.useEffect(()=>{const w=j=>{const{settings:N,enabledFields:P}=j.detail;P&&s(R=>({...R,enabledFields:P,purposeOfVisitOptions:N.purposeOfVisitOptions||R.purposeOfVisitOptions,idTypeOptions:N.idTypeOptions||R.idTypeOptions,isPhotoMandatory:N.isPhotoMandatory??R.isPhotoMandatory}))};return window.addEventListener("formBuilderSettingsUpdated",w),()=>window.removeEventListener("formBuilderSettingsUpdated",w)},[]);const o=async()=>{try{if(!localStorage.getItem("token"))return;const j=(t==null?void 0:t.role)==="admin"||t==null?void 0:t.locationId,N=await me.getLocationSettings(j);N?(a(!0),s({locationId:N.locationId,locationName:N.locationName,purposeOfVisitOptions:N.purposeOfVisitOptions||Tn.purposeOfVisitOptions,idTypeOptions:N.idTypeOptions||Tn.idTypeOptions,isPhotoMandatory:N.isPhotoMandatory||!1,customFields:[],enabledFields:N.enabledFields||Tn.enabledFields}),setTimeout(()=>a(!1),100)):(console.error("Failed to load settings from API"),s({...Tn,locationId:t==null?void 0:t.locationId,locationName:t==null?void 0:t.locationName}))}catch(w){console.error("Error loading settings from API:",w),s({...Tn,locationId:t==null?void 0:t.locationId,locationName:t==null?void 0:t.locationName})}},d=async(w,j)=>{try{if(!localStorage.getItem("token"))return console.warn("No token found, cannot save settings to API"),!1;const P=(t==null?void 0:t.role)==="admin"||t==null?void 0:t.locationId,R={purposeOfVisitOptions:w.purposeOfVisitOptions,idTypeOptions:w.idTypeOptions,isPhotoMandatory:w.isPhotoMandatory,customFields:[],enabledFields:w.enabledFields,...j},z=await me.updateLocationSettings(P,R);return z?(console.log("Settings saved successfully:",z),a(!0),s(M=>({...M,locationId:z.locationId,locationName:z.locationName,purposeOfVisitOptions:z.purposeOfVisitOptions||M.purposeOfVisitOptions,idTypeOptions:z.idTypeOptions||M.idTypeOptions,isPhotoMandatory:z.isPhotoMandatory,customFields:[],enabledFields:z.enabledFields||M.enabledFields})),setTimeout(()=>a(!1),100),!0):(console.error("Failed to save settings - API returned null"),!1)}catch(N){return console.error("Error saving settings to API:",N),!1}};h.useEffect(()=>{if(!t||!n||l||!i.current){t&&n&&!i.current&&(i.current=!0);return}const j=setTimeout(async()=>{if(!await d(n)){console.warn("Failed to save settings to API, falling back to localStorage");const P=c();localStorage.setItem(P,JSON.stringify(n))}},1e3);return()=>clearTimeout(j)},[n,t]);const x=w=>{s(j=>({...j,...w}))},v=w=>{w.trim()&&!n.purposeOfVisitOptions.includes(w.trim())&&s(j=>({...j,purposeOfVisitOptions:[...j.purposeOfVisitOptions,w.trim()]}))},y=w=>{s(j=>({...j,purposeOfVisitOptions:j.purposeOfVisitOptions.filter(N=>N!==w)}))},p=w=>{w.trim()&&!n.idTypeOptions.includes(w.trim())&&s(j=>({...j,idTypeOptions:[...j.idTypeOptions,w.trim()]}))},g=w=>{s(j=>({...j,idTypeOptions:j.idTypeOptions.filter(N=>N!==w)}))},b=w=>{const j={...w,id:Date.now().toString(),order:n.customFields.length};s(N=>({...N,customFields:[...N.customFields,j]}))},S=(w,j)=>{s(N=>({...N,customFields:N.customFields.map(P=>P.id===w?{...P,...j}:P)}))},m=w=>{s(j=>({...j,customFields:j.customFields.filter(N=>N.id!==w)}))},u=w=>{const j=w.map((N,P)=>({...N,order:P}));s(N=>({...N,customFields:j}))},f=async(w,j)=>{try{if(!localStorage.getItem("token"))return console.warn("No token found, cannot save settings to API"),!1;const P=j?parseInt(j):(t==null?void 0:t.role)==="admin"||t==null?void 0:t.locationId,R=await me.updateLocationSettings(P,w);return R?(console.log("All settings saved successfully:",R),!0):(console.error("Failed to save settings - API returned null"),!1)}catch(N){return console.error("Error saving all settings to API:",N),!1}};return r.jsx(Tm.Provider,{value:{settings:n,updateSettings:x,addPurposeOption:v,removePurposeOption:y,addIdTypeOption:p,removeIdTypeOption:g,addCustomField:b,updateCustomField:S,removeCustomField:m,reorderCustomFields:u,saveAllSettings:f},children:e})},Im=h.createContext(void 0),ql=()=>{const e=h.useContext(Im);if(e===void 0)throw new Error("useStaff must be used within a StaffProvider");return e},Uc="/api",Zx=()=>localStorage.getItem("token")||"",Ds=async(e,t={})=>{const n=Zx();console.log("🌐 Making API request to:",`${Uc}${e}`),console.log("🔑 Using token:",n?`${n.substring(0,20)}...`:"NO TOKEN");const s={"Content-Type":"application/json"};n&&(t.method==="POST"||t.method==="PUT"||t.method==="DELETE")&&(s.Authorization=`Bearer ${n}`);const l=await fetch(`${Uc}${e}`,{...t,headers:{...s,...t.headers}});if(console.log("📡 API Response status:",l.status,l.statusText),!l.ok){const i=await l.text();throw console.error("❌ API Error response:",i),new Error(`API request failed: ${l.status} ${l.statusText} - ${i}`)}const a=await l.json();return console.log("✅ API Success response:",a),a},e0=({children:e})=>{const[t,n]=h.useState([]),[s,l]=h.useState(!1),[a,i]=h.useState(null),c=async()=>{try{l(!0),i(null),console.log("🌐 Loading staff members from API...");const m=await Ds("/staff");console.log("✅ Loaded staff members from API:",m.length,"members");const u=m.map(f=>{var w,j;return{id:((w=f.id)==null?void 0:w.toString())||"",firstName:f.firstName||"",lastName:f.lastName||"",locationId:((j=f.locationId)==null?void 0:j.toString())||"1",email:f.email||"",password:f.password||"",mobileNumber:f.mobileNumber||f.phone||"",phoneNumber:f.phoneNumber||f.phone||"",extension:f.extension||"",designation:f.designation||"",role:f.role||"staff",photoUrl:f.photoUrl||"",isActive:f.isActive!==void 0?f.isActive:!0,canLogin:f.canLogin||!1,createdAt:f.createdAt||new Date().toISOString(),updatedAt:f.updatedAt||new Date().toISOString()}});n(u)}catch(m){console.error("❌ Error loading staff members from API:",m),i("Failed to load staff members. Please ensure you are logged in."),n([])}finally{l(!1)}};h.useEffect(()=>{console.log("🔑 StaffContext useEffect - loading staff members..."),c()},[]);const o=async m=>{try{l(!0),i(null),console.log("➕ Adding new staff member via API:",m);const u={firstName:m.firstName,lastName:m.lastName,locationId:parseInt(m.locationId),email:m.email,mobileNumber:m.mobileNumber,phoneNumber:m.phoneNumber,extension:m.extension,designation:m.designation,password:m.password,role:m.role,canLogin:m.canLogin,photoUrl:m.photoUrl,isActive:m.isActive};await Ds("/staff",{method:"POST",body:JSON.stringify(u)}),console.log("✅ Staff member created via API"),await c()}catch(u){console.error("❌ Error creating staff member via API:",u),i("Failed to create staff member. Please check your connection and try again.")}finally{l(!1)}},d=async(m,u)=>{try{l(!0),i(null),console.log("🔄 Updating staff member via API:",m,u);const f={firstName:u.firstName,lastName:u.lastName,locationId:u.locationId?parseInt(u.locationId):void 0,email:u.email,mobileNumber:u.mobileNumber,phoneNumber:u.phoneNumber,extension:u.extension,designation:u.designation,password:u.password,role:u.role,canLogin:u.canLogin,photoUrl:u.photoUrl,isActive:u.isActive};await Ds(`/staff/${m}`,{method:"PUT",body:JSON.stringify(f)}),console.log("✅ Staff member updated via API"),await c()}catch(f){console.error("❌ Error updating staff member via API:",f),i("Failed to update staff member. Please check your connection and try again.")}finally{l(!1)}},x=async m=>{try{l(!0),i(null),console.log("🗑️ Deleting staff member via API:",m),await Ds(`/staff/${m}`,{method:"DELETE"}),console.log("✅ Staff member deleted via API"),await c()}catch(u){console.error("❌ Error deleting staff member via API:",u),i("Failed to delete staff member. Please check your connection and try again.")}finally{l(!1)}},v=async(m,u)=>{await d(m,{password:u})},y=m=>t.find(u=>u.id===m),p=m=>t.filter(u=>u.locationId===m),g=()=>t.filter(m=>m.isActive),b=m=>t.find(u=>`${u.firstName} ${u.lastName}`.toLowerCase().includes(m.toLowerCase())),S=(m,u)=>t.find(w=>w.email.toLowerCase()===m.toLowerCase()&&w.password===u&&w.isActive&&w.canLogin)||null;return r.jsx(Im.Provider,{value:{staffMembers:t,addStaffMember:o,updateStaffMember:d,deleteStaffMember:x,getStaffMemberById:y,getStaffMembersByLocation:p,getActiveStaffMembers:g,getStaffMemberByName:b,validateStaffLogin:S,resetStaffPassword:v,reloadStaffMembers:c,isLoading:s,error:a},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var t0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Q=(e,t)=>{const n=h.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:c="",children:o,...d},x)=>h.createElement("svg",{ref:x,...t0,width:l,height:l,stroke:s,strokeWidth:i?Number(a)*24/Number(l):a,className:["lucide",`lucide-${n0(e)}`,c].join(" "),...d},[...t.map(([v,y])=>h.createElement(v,y)),...Array.isArray(o)?o:[o]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=Q("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=Q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=Q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=Q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=Q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=Q("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=Q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=Q("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=Q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Q("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Q("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=Q("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=Q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=Q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=Q("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=Q("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=Q("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=Q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=Q("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=Q("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=Q("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=Q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=Q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=Q("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=Q("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=Q("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=Q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=Q("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=Q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=Q("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=Q("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),h0=()=>{const[e,t]=h.useState(""),[n,s]=h.useState(""),[l,a]=h.useState(!1),[i,c]=h.useState(!1),[o,d]=h.useState(""),{login:x}=kt(),v=vo(),y=async p=>{p.preventDefault(),c(!0),d("");try{await x(e,n)?(console.log("🎯 Login successful, navigating to dashboard..."),v("/dashboard")):d("Invalid credentials. Please try again.")}catch{d("Login failed. Please try again.")}finally{c(!1)}};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-400 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-400 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse delay-1000"}),r.jsx("div",{className:"absolute top-40 left-40 w-60 h-60 bg-indigo-400 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse delay-500"})]}),r.jsxs("div",{className:"max-w-md w-full relative z-10",children:[r.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl shadow-2xl border border-white/20 overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-[#2d4170] via-[#3a4f7a] to-[#475d84] px-8 py-8 text-center relative",children:[r.jsx("div",{className:"absolute inset-0 bg-black/10"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl mb-4 overflow-hidden",children:r.jsx("img",{src:"/Babaji Icon.png",alt:"Babaji Icon",className:"w-16 h-16 object-contain"})}),r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Babaji Shivram"}),r.jsx("p",{className:"text-blue-100 text-lg",children:"Visitor Management System"}),r.jsxs("div",{className:"flex items-center justify-center mt-3 text-blue-100",children:[r.jsx(m0,{className:"w-4 h-4 mr-2"}),r.jsx("span",{className:"text-sm",children:"Secure • Professional • Efficient"})]})]})]}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),r.jsx("p",{className:"text-gray-600",children:"Sign in to access your dashboard"})]}),r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",id:"email",value:e,onChange:p=>t(p.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter your email address",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:l?"text":"password",id:"password",value:n,onChange:p=>s(p.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 text-gray-900 placeholder-gray-500 pr-12",placeholder:"Enter your password",required:!0}),r.jsx("button",{type:"button",onClick:()=>a(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition duration-200",children:l?r.jsx(Kl,{className:"w-5 h-5"}):r.jsx(en,{className:"w-5 h-5"})})]})]}),o&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 bg-red-400 rounded-full mr-3"}),r.jsx("p",{className:"text-red-700 text-sm font-medium",children:o})]})}),r.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-[#EB6E38] to-[#d85a2a] hover:from-[#d85a2a] hover:to-[#c54f24] text-white font-semibold py-4 px-6 rounded-xl transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:i?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing in..."]}):r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(Zs,{className:"w-5 h-5 mr-2"}),"Sign In"]})})]})]})]}),r.jsx("div",{className:"text-center mt-8 text-gray-500 text-sm",children:r.jsx("p",{children:"© 2024 Babaji Shivram. Professional Visitor Management Solution."})})]})]})},cn=()=>{var o;const{user:e,logout:t}=kt(),{getCurrentUserRoleConfig:n,hasRoute:s}=zx(),l=Vt(),a=()=>{const d=n();let x=[];if(d!=null&&d.routes){const y=d.routes.filter(p=>p.isActive).sort((p,g)=>p.sortOrder-g.sortOrder).map(p=>({path:p.routePath,label:p.routeLabel,icon:i(p.routePath)}));x.push(...y)}else x.push({path:"/register",label:"Register Visitor",icon:Sn}),(e==null?void 0:e.role)==="reception"?x.push({path:"/reception",label:"Reception Dashboard",icon:Be}):(e==null?void 0:e.role)==="admin"?x.push({path:"/admin",label:"Admin Dashboard",icon:as},{path:"/settings",label:"Settings",icon:Cl}):(e==null?void 0:e.role)==="staff"&&x.push({path:"/approval",label:"Approvals",icon:ar});return x.filter(y=>y.path==="/register"||(e==null?void 0:e.role)==="admin"&&(y.path==="/admin"||y.path==="/settings")?!0:s(y.path))},i=d=>({"/reception":Be,"/admin":as,"/approval":ar,"/settings":Cl,"/register":Sn})[d]||Be,c=()=>{const d=n();if(d!=null&&d.colorClass)return d.colorClass;const x={reception:"bg-blue-500",admin:"bg-purple-500",staff:"bg-green-500"};return e!=null&&e.role?x[e.role]:"bg-gray-500"};return r.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center space-x-8",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-lg overflow-hidden",children:r.jsx("img",{src:"/Babaji Icon.png",alt:"Babaji Icon",className:"w-8 h-8 object-contain"})})}),r.jsx("div",{className:"ml-3",children:r.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"Babaji Shivram"})})]}),r.jsx("div",{className:"hidden md:flex space-x-4",children:a().map(d=>{const x=d.icon,v=l.pathname===d.path;return r.jsxs(ls,{to:d.path,className:`flex items-center px-3 py-2 text-sm font-medium rounded-md transition duration-200 ${v?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsx(x,{className:"w-4 h-4 mr-2"}),d.label]},d.path)})})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[e&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-8 h-8 ${c()} rounded-full flex items-center justify-center`,children:r.jsx("span",{className:"text-white text-sm font-medium",children:e.name?e.name.split(" ").map(d=>d[0]).join(""):"U"})}),r.jsxs("div",{className:"hidden md:block",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700",children:e.name||"Unknown User"}),r.jsxs("div",{className:"text-xs text-gray-500 capitalize",children:[((o=n())==null?void 0:o.displayName)||e.role,e.locationName&&e.role!=="admin"&&r.jsxs("span",{children:[" - ",e.locationName]})]})]})]}),r.jsxs("button",{onClick:t,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md transition duration-200",children:[r.jsx(el,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})})})},p0=()=>{const{addVisitor:e}=hs();Hl();const{getActiveStaffMembers:t}=ql(),{user:n}=kt(),[s,l]=h.useState(!1),[a,i]=h.useState(null),[c,o]=h.useState(!1),[d,x]=h.useState(!1),[v,y]=h.useState(!1),[p,g]=h.useState(!1),[b,S]=h.useState(null),m=h.useRef(null),u=h.useRef(null),f=h.useRef(null),w=h.useRef(null),[j,N]=h.useState({phoneNumber:"",fullName:"",email:"",companyName:"",whomToMeet:"",purposeOfMeeting:"",idProofType:"aadhar",idProofNumber:"",vehicleNumber:"",emergencyContact:"",notes:"",photo:""}),P=()=>navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,R=async A=>{if(!A||A.length<10){S(null);return}try{g(!0),console.log("📱 Checking for returning visitor with phone:",A);const F=await me.getVisitorByPhoneNumber(A);console.log("📱 API Response:",F),F&&F.isReturningVisitor?(console.log("📱 Returning visitor found:",F),S(F),N(Y=>({...Y,fullName:F.fullName||"",email:F.email||"",companyName:F.companyName||"",idProofType:F.idProofType||"aadhar",idProofNumber:F.idProofNumber||""}))):(console.log("📱 New visitor - no previous records found"),S(null))}catch(F){console.log("📱 Error checking for returning visitor:",F),S(null)}finally{g(!1)}},z=A=>{const F=A.target.value;N(Y=>({...Y,phoneNumber:F})),F.length>=10?R(F):S(null)},M=A=>{if(A.target.name==="phoneNumber"){z(A);return}N(F=>({...F,[A.target.name]:A.target.value}))},O=h.useCallback(async()=>{try{const A=[{video:{facingMode:"user"}},{video:!0}];let F=null,Y=null;for(const L of A)try{if(F=await navigator.mediaDevices.getUserMedia(L),F)break}catch(K){Y=K}if(!F)throw Y instanceof Error?Y:new Error("Failed to access camera");m.current&&(m.current.srcObject=F,f.current=F,o(!0))}catch(A){console.error("Error accessing camera:",A);const F=A instanceof Error?A.message:"Unknown error";/NotAllowed/i.test(F)||/Permission/i.test(F)?alert("Camera access denied. Please allow camera permissions and try again."):/NotFound/i.test(F)?alert("No camera found. Please ensure your device has a camera or upload a photo instead."):alert("Unable to access camera. Please check that no other app is using the camera and try again.")}},[]),D=h.useCallback(()=>{f.current&&(f.current.getTracks().forEach(A=>A.stop()),f.current=null),o(!1)},[]),ee=h.useCallback(()=>{if(m.current&&u.current){const A=u.current,F=m.current;A.width=F.videoWidth,A.height=F.videoHeight;const Y=A.getContext("2d");if(Y){Y.imageSmoothingEnabled=!0,Y.imageSmoothingQuality="high",Y.drawImage(F,0,0);const L=A.toDataURL("image/jpeg",.9);i(L),D()}}},[D]),G=A=>{var Y;const F=(Y=A.target.files)==null?void 0:Y[0];if(F){const L=new FileReader;L.onload=K=>{var ae;i((ae=K.target)==null?void 0:ae.result)},L.readAsDataURL(F)}},B=()=>{i(null),O()},J=()=>{i(null),w.current&&(w.current.value="")},H=async A=>{if(A.preventDefault(),!j.phoneNumber.trim()||!j.fullName.trim()||!j.whomToMeet.trim()||!j.purposeOfMeeting.trim()){alert("Please fill in all required fields");return}y(!0);try{await e({...j,photo:a||j.photo,location:(n==null?void 0:n.location)||"Default Location",staffName:(n==null?void 0:n.name)||"System"}),l(!0),setTimeout(()=>{N({phoneNumber:"",fullName:"",email:"",companyName:"",whomToMeet:"",purposeOfMeeting:"",idProofType:"aadhar",idProofNumber:"",vehicleNumber:"",emergencyContact:"",notes:"",photo:""}),i(null),l(!1),S(null)},3e3)}catch(F){console.error("Error submitting visitor:",F),alert("Error registering visitor. Please try again.")}finally{y(!1)}},T=t(),V=()=>c?dm.createPortal(r.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-75",children:[r.jsx("div",{className:"relative w-full max-w-md mx-4",children:r.jsxs("div",{className:"bg-white rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Take Photo"}),r.jsxs("div",{className:"relative",children:[r.jsx("video",{ref:m,autoPlay:!0,playsInline:!0,className:"w-full rounded-lg",onLoadedMetadata:()=>x(!0)}),d&&r.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-4",children:[r.jsx("button",{type:"button",onClick:ee,className:"bg-blue-600 text-white p-3 rounded-full hover:bg-blue-700",children:r.jsx(Lt,{className:"w-6 h-6"})}),r.jsx("button",{type:"button",onClick:D,className:"bg-gray-600 text-white p-3 rounded-full hover:bg-gray-700",children:"Cancel"})]})]})]})}),r.jsx("canvas",{ref:u,className:"hidden"})]}),document.body):null;return s?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"mb-6",children:r.jsx(Pe,{className:"w-16 h-16 text-green-500 mx-auto"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Registration Successful!"}),r.jsx("p",{className:"text-gray-600",children:"The visitor has been registered successfully."})]}):r.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx(Sn,{className:"w-8 h-8 text-blue-600 mr-3"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Register New Visitor"})]}),r.jsxs("form",{onSubmit:H,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(an,{className:"w-4 h-4 inline mr-2"}),"Phone Number *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"tel",name:"phoneNumber",value:j.phoneNumber,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter phone number",required:!0}),p&&r.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})})]}),b&&r.jsxs("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx($r,{className:"w-4 h-4 text-green-600 mr-2"}),r.jsxs("span",{className:"text-sm text-green-800 font-medium",children:["Welcome back! Last visit: ",new Date(b.lastVisitDate).toLocaleDateString()]})]}),r.jsx("p",{className:"text-xs text-green-600 mt-1",children:'Previous details have been pre-filled. Please update "whom to meet" and purpose.'})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),r.jsx("input",{type:"text",name:"fullName",value:j.fullName,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter full name",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(hr,{className:"w-4 h-4 inline mr-2"}),"Email"]}),r.jsx("input",{type:"email",name:"email",value:j.email,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter email address"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Ln,{className:"w-4 h-4 inline mr-2"}),"Company Name"]}),r.jsx("input",{type:"text",name:"companyName",value:j.companyName,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter company name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Whom to Meet *"}),r.jsxs("select",{name:"whomToMeet",value:j.whomToMeet,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:"Select staff member"}),T.map(A=>r.jsxs("option",{value:A.name,children:[A.name," - ",A.department]},A.id))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(lr,{className:"w-4 h-4 inline mr-2"}),"Purpose of Meeting *"]}),r.jsx("textarea",{name:"purposeOfMeeting",value:j.purposeOfMeeting,onChange:M,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter purpose of meeting",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Ql,{className:"w-4 h-4 inline mr-2"}),"ID Proof Type"]}),r.jsxs("select",{name:"idProofType",value:j.idProofType,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"aadhar",children:"Aadhar Card"}),r.jsx("option",{value:"pan",children:"PAN Card"}),r.jsx("option",{value:"driving_license",children:"Driving License"}),r.jsx("option",{value:"passport",children:"Passport"}),r.jsx("option",{value:"voter_id",children:"Voter ID"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID Proof Number"}),r.jsx("input",{type:"text",name:"idProofNumber",value:j.idProofNumber,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter ID proof number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Number"}),r.jsx("input",{type:"text",name:"vehicleNumber",value:j.vehicleNumber,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter vehicle number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact"}),r.jsx("input",{type:"tel",name:"emergencyContact",value:j.emergencyContact,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter emergency contact number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),r.jsx("textarea",{name:"notes",value:j.notes,onChange:M,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photo"}),a?r.jsxs("div",{className:"space-y-4",children:[r.jsx("img",{src:a,alt:"Visitor",className:"w-32 h-32 object-cover rounded-lg border-2 border-gray-300"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{type:"button",onClick:B,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retake Photo"}),r.jsx("button",{type:"button",onClick:J,className:"px-4 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Remove Photo"})]})]}):r.jsxs("div",{className:"flex space-x-4",children:[P()&&r.jsxs("button",{type:"button",onClick:O,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r.jsx(Lt,{className:"w-4 h-4 mr-2"}),"Take Photo"]}),r.jsxs("label",{className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 cursor-pointer",children:[r.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Upload Photo",r.jsx("input",{ref:w,type:"file",accept:"image/*",onChange:G,className:"hidden"})]})]})]}),r.jsx("button",{type:"submit",disabled:v,className:"w-full flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:v?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Registering..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Sn,{className:"w-5 h-5 mr-2"}),"Register Visitor"]})})]})]}),r.jsx(V,{})]})},x0=()=>{const{locationUrl:e}=wo(),{addVisitor:t}=hs(),{getLocationByUrl:n}=ps(),{settings:s}=Hl(),{getStaffMembersByLocation:l,getActiveStaffMembers:a}=ql(),[i,c]=h.useState(!1),[o,d]=h.useState(null),[x,v]=h.useState(!1),[y,p]=h.useState(null),g=h.useRef(null),b=h.useRef(null),S=h.useRef(null),m=h.useRef(null),u=e?n(e):null;h.useEffect(()=>{(async()=>{if(u!=null&&u.id)try{const J=await me.getLocationSettings(Number(u.id));p(J)}catch(J){console.error("Failed to load location settings:",J),p(null)}})()},[u==null?void 0:u.id]),h.useEffect(()=>{const B=J=>{var T;const H=J;((T=H.detail)==null?void 0:T.locationId)===(u==null?void 0:u.id)&&p(V=>V?{...V,...H.detail.settings}:H.detail.settings)};return window.addEventListener("locationSettingsUpdated",B),()=>window.removeEventListener("locationSettingsUpdated",B)},[u==null?void 0:u.id]);const f=u?l(u.id):[],w=f.length>0?f:a(),[j,N]=h.useState({fullName:"",phoneNumber:"",email:"",companyName:"",purposeOfVisit:"",whomToMeet:"",idProofType:"",idProofNumber:""});if(!u)return r.jsx(mn,{to:"/register",replace:!0});if(!u.isActive)return r.jsx("div",{className:"max-w-2xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(bt,{className:"w-8 h-8 text-red-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Location Unavailable"}),r.jsx("p",{className:"text-gray-600",children:"This registration location is currently inactive. Please contact reception for assistance."})]})});const P=h.useCallback(async()=>{var B;try{if(!((B=navigator.mediaDevices)!=null&&B.getUserMedia))throw new Error("Camera API not supported in this browser");const J=[{video:{facingMode:"user",width:{ideal:1280,max:1920},height:{ideal:720,max:1080},aspectRatio:{ideal:16/9}}},{video:{facingMode:"user"}},{video:!0}];let H=null,T=null;for(const V of J)try{if(H=await navigator.mediaDevices.getUserMedia(V),H)break}catch(A){T=A}if(!H)throw T instanceof Error?T:new Error("Failed to access camera");g.current&&(g.current.srcObject=H,S.current=H,v(!0))}catch(J){console.error("Error accessing camera:",J);const H=J instanceof Error?J.message:"Unknown error";/NotAllowed/i.test(H)||/Permission/i.test(H)?alert("Camera access denied. Please allow camera permissions and try again."):/NotFound/i.test(H)?alert("No camera found. Please ensure your device has a camera."):alert("Unable to access camera. Please check that no other app is using the camera and try again.")}},[]),R=h.useCallback(()=>{S.current&&(S.current.getTracks().forEach(B=>B.stop()),S.current=null),v(!1)},[]),z=h.useCallback(()=>{if(g.current&&b.current){const B=b.current,J=g.current;B.width=J.videoWidth,B.height=J.videoHeight;const H=B.getContext("2d");if(H){H.imageSmoothingEnabled=!0,H.imageSmoothingQuality="high",H.drawImage(J,0,0);const T=B.toDataURL("image/jpeg",.9);d(T),R(),"vibrate"in navigator&&navigator.vibrate(50)}}},[R]),M=()=>{d(null),P()},O=B=>{var H;const J=(H=B.target.files)==null?void 0:H[0];if(J){if(!J.type.startsWith("image/")){alert("Please select an image file (PNG, JPG, JPEG)");return}if(J.size>5*1024*1024){alert("File size must be less than 5MB");return}const T=new FileReader;T.onload=V=>{var A;d((A=V.target)==null?void 0:A.result)},T.readAsDataURL(J)}},D=()=>{var B;(B=m.current)==null||B.click()};ou.useEffect(()=>{const B=()=>{x&&g.current&&setTimeout(()=>{if(g.current){const J=g.current.srcObject;J&&(g.current.srcObject=null,g.current.srcObject=J)}},100)};return window.addEventListener("orientationchange",B),()=>window.removeEventListener("orientationchange",B)},[x]);const ee=B=>{B.preventDefault();const J=new Date,H=new Date(J.getTime()-J.getTimezoneOffset()*6e4).toISOString(),T={...j,locationId:u.id,dateTime:H,photoUrl:o||""};t(T),c(!0),setTimeout(()=>{c(!1),d(null),N({fullName:"",phoneNumber:"",email:"",companyName:"",purposeOfVisit:"",whomToMeet:"",idProofType:"",idProofNumber:""})},3e3)},G=B=>{N(J=>({...J,[B.target.name]:B.target.value}))};return i?r.jsx("div",{className:"max-w-2xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Pe,{className:"w-8 h-8 text-green-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Registration Successful!"}),r.jsxs("p",{className:"text-gray-600 mb-4",children:["Your visit to ",r.jsx("strong",{children:u.name})," has been registered. The staff member will be notified for approval."]}),r.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:r.jsx("p",{className:"text-sm text-blue-800",children:"You will receive an email notification once your visit is approved. Please wait at the reception area."})})]})}):r.jsx("div",{className:"max-w-2xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-[#2d4170] to-[#3a4f7a] px-8 py-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Sn,{className:"w-8 h-8 text-white mr-3"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Visitor Registration"}),r.jsxs("div",{className:"flex items-center text-blue-100 mt-1",children:[r.jsx(ft,{className:"w-4 h-4 mr-1"}),r.jsx("span",{className:"text-sm",children:u.name})]})]})]})}),r.jsx("div",{className:"bg-[#2d4170]/5 px-8 py-4 border-b border-[#2d4170]/10",children:r.jsxs("div",{className:"text-sm text-[#2d4170]",children:[r.jsx("p",{className:"font-medium",children:u.address}),u.description&&r.jsx("p",{className:"text-[#2d4170]/80 mt-1",children:u.description})]})}),r.jsxs("form",{onSubmit:ee,className:"p-8 space-y-6",children:[(y?y.enabledFields.photo:s.enabledFields.photo)&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Lt,{className:"inline w-4 h-4 mr-1"}),"Visitor Photo ",s.isPhotoMandatory?"*":""]}),!o&&!x&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[r.jsxs("button",{type:"button",onClick:P,className:"flex flex-col items-center justify-center w-40 h-32 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 transition duration-200 bg-gray-50 hover:bg-gray-100",children:[r.jsx(Lt,{className:"w-8 h-8 text-gray-400 mb-2"}),r.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Take Photo"}),r.jsx("span",{className:"text-xs text-gray-500 text-center",children:"Use camera"})]}),r.jsxs("button",{type:"button",onClick:D,className:"flex flex-col items-center justify-center w-40 h-32 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 transition duration-200 bg-gray-50 hover:bg-gray-100",children:[r.jsx(Gn,{className:"w-8 h-8 text-gray-400 mb-2"}),r.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Upload Photo"}),r.jsx("span",{className:"text-xs text-gray-500 text-center",children:"From device"})]})]}),r.jsx("p",{className:"text-xs text-gray-500 text-center",children:"PNG, JPG up to 5MB"}),r.jsx("input",{ref:m,type:"file",accept:"image/*",capture:"user",onChange:O,className:"hidden"})]}),x&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[r.jsx("video",{ref:g,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-64 sm:h-80 object-cover"}),r.jsx("canvas",{ref:b,className:"hidden"}),r.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[r.jsx("div",{className:"absolute inset-4 border-2 border-white/30 rounded-lg"}),r.jsx("div",{className:"absolute top-4 left-4 right-4",children:r.jsx("p",{className:"text-white text-sm text-center bg-black/50 rounded px-2 py-1",children:"Position your face within the frame"})})]})]}),r.jsxs("div",{className:"flex space-x-3 justify-center",children:[r.jsxs("button",{type:"button",onClick:z,className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-full transition duration-200 flex items-center text-lg font-medium shadow-lg",children:[r.jsx(Lt,{className:"w-5 h-5 mr-2"}),"Capture Photo"]}),r.jsx("button",{type:"button",onClick:R,className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-full transition duration-200",children:"Cancel"})]}),r.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Make sure you're in a well-lit area for the best photo quality"})]}),o&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:o,alt:"Captured visitor photo",className:"w-full h-64 sm:h-80 object-cover rounded-lg border-2 border-green-200 shadow-lg"}),r.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"✓ Photo captured"})]}),r.jsx("div",{className:"flex space-x-3 justify-center",children:r.jsxs("button",{type:"button",onClick:M,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition duration-200 flex items-center",children:[r.jsx(Lt,{className:"w-4 h-4 mr-2"}),"Retake Photo"]})}),r.jsx("p",{className:"text-xs text-green-600 text-center",children:"Photo looks good! You can retake it if needed."})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),r.jsx("input",{type:"text",name:"fullName",value:j.fullName,onChange:G,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",placeholder:"Enter your full name",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(an,{className:"inline w-4 h-4 mr-1"}),"Phone Number *"]}),r.jsx("input",{type:"tel",name:"phoneNumber",value:j.phoneNumber,onChange:G,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",placeholder:"+91 98765 43210",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(y?y.enabledFields.email:s.enabledFields.email)&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(hr,{className:"inline w-4 h-4 mr-1"}),"Email Address"]}),r.jsx("input",{type:"email",name:"email",value:j.email,onChange:G,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",placeholder:"your.email@example.com"})]}),(y?y.enabledFields.companyName:s.enabledFields.companyName)&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Ln,{className:"inline w-4 h-4 mr-1"}),"Company Name"]}),r.jsx("input",{type:"text",name:"companyName",value:j.companyName,onChange:G,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",placeholder:"Your company"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(lr,{className:"inline w-4 h-4 mr-1"}),"Purpose of Visit *"]}),r.jsxs("select",{name:"purposeOfVisit",value:j.purposeOfVisit,onChange:G,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",required:!0,children:[r.jsx("option",{value:"",children:"Select purpose"}),s.purposeOfVisitOptions.map(B=>r.jsx("option",{value:B,children:B},B))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Whom to Meet *"}),r.jsxs("select",{name:"whomToMeet",value:j.whomToMeet,onChange:G,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",required:!0,children:[r.jsx("option",{value:"",children:"Select staff member"}),w.map(B=>r.jsxs("option",{value:`${B.firstName} ${B.lastName}`,children:[B.firstName," ",B.lastName," - ",B.designation||"Staff"]},B.id))]})]})]}),(()=>{var B;return console.log("🔍 LocationSpecificRegistration - Component rendered"),console.log("🔍 LocationSpecificRegistration - Settings object:",s),console.log("🔍 LocationSpecificRegistration - ID Proof enabled:",(B=s==null?void 0:s.enabledFields)==null?void 0:B.idProof),console.log("🔍 LocationSpecificRegistration - All enabled fields:",s==null?void 0:s.enabledFields),null})(),(y?y.enabledFields.idProof:s.enabledFields.idProof)&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Ql,{className:"inline w-4 h-4 mr-1"}),"ID Proof Type"]}),r.jsxs("select",{name:"idProofType",value:j.idProofType,onChange:G,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",children:[r.jsx("option",{value:"",children:"Select ID type"}),s.idTypeOptions.map(B=>r.jsx("option",{value:B,children:B},B))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID Number"}),r.jsx("input",{type:"text",name:"idProofNumber",value:j.idProofNumber,onChange:G,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",placeholder:"Enter ID number"})]})]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(sr,{className:"w-5 h-5 text-gray-500 mr-2"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Visit Date & Time: "}),r.jsx("span",{className:"text-sm text-gray-600 ml-2",children:new Date().toLocaleString()})]})}),r.jsxs("button",{type:"submit",className:"w-full bg-[#EB6E38] hover:bg-[#d85a2a] text-white font-medium py-4 px-6 rounded-lg transition duration-200 flex items-center justify-center",children:[r.jsx(Sn,{className:"w-5 h-5 mr-2"}),"Register Visit"]})]})]})})},g0=({field:e,value:t,onChange:n,className:s="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"})=>{var l,a;switch(e.type){case"text":return r.jsx("input",{type:"text",value:t,onChange:i=>n(i.target.value),className:s,placeholder:e.placeholder,required:e.required});case"email":return r.jsx("input",{type:"email",value:t,onChange:i=>n(i.target.value),className:s,placeholder:e.placeholder,required:e.required});case"number":return r.jsx("input",{type:"number",value:t,onChange:i=>n(i.target.value),className:s,placeholder:e.placeholder,required:e.required});case"textarea":return r.jsx("textarea",{value:t,onChange:i=>n(i.target.value),className:s,placeholder:e.placeholder,required:e.required,rows:3});case"select":return r.jsxs("select",{value:t,onChange:i=>n(i.target.value),className:s,required:e.required,children:[r.jsx("option",{value:"",children:"Select an option"}),(l=e.options)==null?void 0:l.map(i=>r.jsx("option",{value:i,children:i},i))]});case"multiselect":return r.jsx("select",{multiple:!0,value:t?t.split(","):[],onChange:i=>{const c=Array.from(i.target.selectedOptions,o=>o.value);n(c.join(","))},className:s,required:e.required,children:(a=e.options)==null?void 0:a.map(i=>r.jsx("option",{value:i,children:i},i))});case"date":return r.jsx("input",{type:"date",value:t,onChange:i=>n(i.target.value),className:s,required:e.required});case"checkbox":return r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:t==="true",onChange:i=>n(i.target.checked?"true":"false"),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",required:e.required}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:e.placeholder||e.label})]});default:return r.jsx("input",{type:"text",value:t,onChange:i=>n(i.target.value),className:s,placeholder:e.placeholder,required:e.required})}},y0=()=>{const{locationUrl:e}=wo(),{settings:t}=Hl(),[n,s]=h.useState(!1),[l,a]=h.useState(null),[i,c]=h.useState(!1),[o,d]=h.useState(!1),[x,v]=h.useState(!1),[y,p]=h.useState(!0),[g,b]=h.useState(null),[S,m]=h.useState(null),[u,f]=h.useState([]),[w,j]=h.useState(null),[N,P]=h.useState(!1),[R,z]=h.useState({}),M=h.useRef(null),O=h.useRef(null),D=h.useRef(null),ee=h.useRef(null);h.useEffect(()=>{(async()=>{var $,W,Z;if(!e){j("No location URL provided"),p(!1);return}try{p(!0),j(null);const ie=await me.getLocationByUrl(e);if(ie){b(ie),console.log("📋 PublicVisitor - Loading location settings for ID:",ie.id);let se=await me.getLocationSettings(ie.id);if(console.log("📋 PublicVisitor - Location-specific settings received:",se),console.log("📋 PublicVisitor - Location settings custom fields count:",(($=se==null?void 0:se.customFields)==null?void 0:$.length)||0),!se||!se.customFields||se.customFields.length===0){console.log("🔍 PublicVisitor - No location-specific custom fields, trying global settings...");const ne=await me.getLocationSettings();console.log("🌐 PublicVisitor - Global settings received:",ne),console.log("🌐 PublicVisitor - Global settings custom fields:",{hasCustomFields:!!(ne!=null&&ne.customFields),customFieldsCount:((W=ne==null?void 0:ne.customFields)==null?void 0:W.length)||0,customFieldsRawData:ne==null?void 0:ne.customFields,customFields:((Z=ne==null?void 0:ne.customFields)==null?void 0:Z.map(je=>({id:je.id,name:je.name,label:je.label,type:je.type,isActive:je.isActive})))||[]}),ne&&ne.customFields&&ne.customFields.length>0?(console.log("✅ PublicVisitor - Found global custom fields:",ne.customFields),se=se?{...se,customFields:ne.customFields}:ne,console.log("✅ PublicVisitor - Using global custom fields:",{totalCustomFields:se.customFields.length,activeCustomFields:se.customFields.filter(je=>je.isActive).length,fields:se.customFields.map(je=>({id:je.id,name:je.name,label:je.label,type:je.type,isActive:je.isActive}))})):console.log("❌ PublicVisitor - No global custom fields found or empty array")}else console.log("✅ PublicVisitor - Using location-specific custom fields:",{customFieldsCount:se.customFields.length,fields:se.customFields.map(ne=>({id:ne.id,name:ne.name,label:ne.label,type:ne.type}))});m(se);const on=await me.getStaffByLocation(ie.id);f(on)}else j(`No location found with URL: ${e}`)}catch(ie){console.error("Error loading location data:",ie),j(`Failed to load location: ${ie instanceof Error?ie.message:"Unknown error"}`)}finally{p(!1)}})()},[e]),h.useEffect(()=>{const C=()=>{d(window.innerWidth<=768||/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),h.useEffect(()=>{const C=$=>{const{locationId:W,settings:Z}=$.detail;(!W||g&&W===g.id)&&m(ie=>ie&&{...ie,enabledFields:Z.enabledFields||ie.enabledFields,isPhotoMandatory:Z.isPhotoMandatory??ie.isPhotoMandatory,purposeOfVisitOptions:Z.purposeOfVisitOptions||ie.purposeOfVisitOptions,idTypeOptions:Z.idTypeOptions||ie.idTypeOptions})};return window.addEventListener("formBuilderSettingsUpdated",C),()=>window.removeEventListener("formBuilderSettingsUpdated",C)},[g]);const[G,B]=h.useState({fullName:"",phoneNumber:"",email:"",companyName:"",purposeOfVisit:"",whomToMeet:"",idProofType:"",idProofNumber:""}),[J,H]=h.useState(!1),[T,V]=h.useState(null),A=async C=>{const $=C.target.value;if(B(W=>({...W,phoneNumber:$})),H(!1),V(null),$.replace(/\D/g,"").length>=10){V({lastVisitDate:"",isChecking:!0});try{console.log("🔍 Checking for returning visitor with phone:",$);const W=await me.getVisitorByPhoneNumber($);W?(console.log("✅ Found returning visitor:",W),H(!0),V({lastVisitDate:W.lastVisitDate,isChecking:!1}),B(Z=>({...Z,fullName:W.fullName||Z.fullName,email:W.email||Z.email,companyName:W.companyName||Z.companyName,idProofType:W.idProofType||Z.idProofType,idProofNumber:W.idProofNumber||Z.idProofNumber}))):(console.log("📱 New visitor - no previous records found"),V(null))}catch(W){console.log("📱 Error checking for returning visitor:",W),V(null)}}},F=C=>{const{name:$,value:W}=C.target;if($==="phoneNumber"){A(C);return}B(Z=>({...Z,[$]:W}))},Y=h.useCallback(async()=>{try{if(console.log("Starting camera with mobile:",o),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Camera API not supported in this browser");try{if(!(await navigator.mediaDevices.enumerateDevices()).some(se=>se.kind==="videoinput"))throw new Error("No camera found on this device")}catch(Z){console.warn("enumerateDevices failed or unavailable, continuing...",Z)}const C=[{video:{facingMode:"user",width:{ideal:1280,min:640},height:{ideal:720,min:480}}},{video:{facingMode:o?"environment":void 0}},{video:!0}];let $=null,W=null;for(const Z of C)try{if(console.log("Requesting camera with constraints:",Z),$=await navigator.mediaDevices.getUserMedia(Z),$)break}catch(ie){W=ie,console.warn("getUserMedia attempt failed, trying next...",ie)}if(!$)throw W instanceof Error?W:new Error("Failed to access camera with any constraints");D.current&&D.current.getTracks().forEach(Z=>Z.stop()),D.current=$,c(!0),P(!1),setTimeout(()=>{M.current&&D.current&&(console.log("Setting video source"),M.current.srcObject=D.current,M.current.play().catch(console.error))},100),"vibrate"in navigator&&navigator.vibrate(50)}catch(C){if(console.error("Error accessing camera:",C),C instanceof Error){const $=C.name==="NotAllowedError"||/Permission/i.test(C.message)?"Camera permission denied. Please allow camera access in your browser settings and try again.":C.name==="NotFoundError"?"No camera found. If you are on a desktop without a webcam, use Upload Photo instead.":C.message;alert(`Unable to access camera: ${$}`)}else alert("Unable to access camera. Please check permissions and try again.")}},[o]),L=h.useCallback(()=>{if(M.current&&O.current){const C=M.current,$=O.current,W=$.getContext("2d");if(W){$.width=C.videoWidth,$.height=C.videoHeight,W.imageSmoothingEnabled=!0,W.imageSmoothingQuality="high",W.drawImage(C,0,0,$.width,$.height);const Z=$.toDataURL("image/jpeg",.9);a(Z),"vibrate"in navigator&&navigator.vibrate([50,50,50])}}K()},[]),K=h.useCallback(()=>{D.current&&(D.current.getTracks().forEach(C=>C.stop()),D.current=null),c(!1),P(!1)},[]),ae=C=>{var W;const $=(W=C.target.files)==null?void 0:W[0];if($){if(!$.type.startsWith("image/")){alert("Please select an image file (PNG, JPG, JPEG)");return}if($.size>5*1024*1024){alert("File size must be less than 5MB");return}const Z=new FileReader;Z.onload=ie=>{var se;a((se=ie.target)==null?void 0:se.result)},Z.readAsDataURL($)}},re=()=>{var C;(C=ee.current)==null||C.click()},E=async C=>{if(C.preventDefault(),v(!0),!G.fullName||!G.phoneNumber||!G.purposeOfVisit){alert("Please fill in all required fields"),v(!1);return}if(S!=null&&S.customFields){const $=S.customFields.filter(W=>W.isActive&&W.required);for(const W of $)if(!R[W.name]||R[W.name].trim()===""){alert(`Please fill in the required field: ${W.label}`),v(!1);return}}if(!g){alert("Location information not available"),v(!1);return}try{const $={locationId:g.id,fullName:G.fullName,phoneNumber:G.phoneNumber,email:G.email||void 0,companyName:G.companyName||void 0,purposeOfVisit:G.purposeOfVisit,whomToMeet:G.whomToMeet||"Walk-in",dateTime:new Date().toISOString(),idProofType:G.idProofType||void 0,idProofNumber:G.idProofNumber||void 0,photoUrl:l||void 0,customFields:Object.keys(R).length>0?R:void 0};if(await me.registerVisitor($))s(!0),"vibrate"in navigator&&navigator.vibrate([100,50,100]);else throw new Error("Registration failed")}catch($){console.error("Error submitting visitor registration:",$),alert("Error submitting registration. Please try again.")}finally{v(!1)}};return y?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto mb-4"}),r.jsx("div",{className:"text-gray-600",children:"Loading location information..."})]})}):g?n?r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsx("div",{className:"max-w-2xl mx-auto px-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Pe,{className:"w-8 h-8 text-green-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Registration Successful!"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Your visit has been registered. The staff member will be notified for approval."}),r.jsx("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:r.jsx("p",{className:"text-sm text-blue-800",children:"You will receive an email notification once your visit is approved. Please wait at the reception area."})}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Visiting"}),r.jsx("div",{className:"font-medium text-gray-900",children:g==null?void 0:g.name}),r.jsx("div",{className:"text-sm text-gray-600",children:g==null?void 0:g.address})]}),r.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-[#EB6E38] hover:bg-[#d85a2a] text-white py-3 px-4 rounded-lg transition duration-200",children:"Register Another Visitor"})]})})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsx("div",{className:"max-w-2xl mx-auto px-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-[#2d4170] to-[#3a4f7a] px-8 py-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-lg mr-3 overflow-hidden",children:r.jsx("img",{src:"/Babaji Icon.png",alt:"Babaji Icon",className:"w-10 h-10 object-contain"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Babajishivram"}),r.jsxs("p",{className:"text-blue-100 opacity-80",children:["Visitor Registration - ",g==null?void 0:g.name]})]})]})}),i&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Take Photo"}),r.jsx("button",{onClick:K,className:"text-gray-400 hover:text-gray-600",children:r.jsx(bt,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden",style:{minHeight:"240px"},children:[r.jsx("video",{ref:M,className:"w-full h-full object-cover rounded-lg",autoPlay:!0,playsInline:!0,muted:!0,onLoadedMetadata:()=>console.log("Video metadata loaded"),onCanPlay:()=>{console.log("Video can play"),P(!0)},onError:C=>console.error("Video error:",C)}),r.jsx("canvas",{ref:O,className:"hidden"}),!N&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:r.jsxs("div",{className:"text-gray-500 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-600 mx-auto mb-2"}),r.jsx("div",{className:"text-sm",children:"Initializing camera..."})]})})]}),r.jsxs("button",{onClick:L,className:"w-full mt-4 bg-[#EB6E38] text-white py-3 px-4 rounded-md hover:bg-[#d85a2a] transition duration-200",disabled:!D.current,children:[r.jsx(Lt,{className:"w-5 h-5 inline-block mr-2"}),"Capture Photo"]})]})}),r.jsxs("form",{onSubmit:E,className:"p-8 space-y-6",children:[r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(an,{className:"inline w-4 h-4 mr-1"}),"Phone Number *"]}),r.jsx("input",{type:"tel",name:"phoneNumber",value:G.phoneNumber,onChange:F,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",placeholder:"+91 98765 43210",required:!0}),(T==null?void 0:T.isChecking)&&r.jsxs("div",{className:"mt-2 flex items-center text-blue-600",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),r.jsx("span",{className:"text-sm",children:"Checking for previous visits..."})]}),J&&T&&!T.isChecking&&r.jsx("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Pe,{className:"w-5 h-5 text-green-600 mr-2"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-green-800",children:"Welcome back!"}),r.jsxs("p",{className:"text-xs text-green-600",children:["Last visit: ",new Date(T.lastVisitDate).toLocaleDateString(),". Your details have been pre-filled."]})]})]})})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),r.jsx("input",{type:"text",name:"fullName",value:G.fullName,onChange:F,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",placeholder:"Enter your full name",required:!0})]}),(S?S.enabledFields.email:t.enabledFields.email)&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(hr,{className:"inline w-4 h-4 mr-1"}),"Email Address"]}),r.jsx("input",{type:"email",name:"email",value:G.email,onChange:F,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",placeholder:"your.email@example.com"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(S?S.enabledFields.companyName:t.enabledFields.companyName)&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Ln,{className:"inline w-4 h-4 mr-1"}),"Company Name"]}),r.jsx("input",{type:"text",name:"companyName",value:G.companyName,onChange:F,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",placeholder:"Your company"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(lr,{className:"inline w-4 h-4 mr-1"}),"Purpose of Visit *"]}),r.jsxs("select",{name:"purposeOfVisit",value:G.purposeOfVisit,onChange:F,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",required:!0,children:[r.jsx("option",{value:"",children:"Select purpose"}),t.purposeOfVisitOptions.map(C=>r.jsx("option",{value:C,children:C},C))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Whom to Meet *"}),u.length>0?r.jsxs("select",{name:"whomToMeet",value:G.whomToMeet,onChange:F,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",required:!0,children:[r.jsx("option",{value:"",children:"Select staff member"}),u.map(C=>r.jsxs("option",{value:`${C.firstName} ${C.lastName}`,children:[C.firstName," ",C.lastName," - ",C.designation||"Staff"]},C.id))]}):r.jsx("input",{type:"text",name:"whomToMeet",value:G.whomToMeet,onChange:F,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",placeholder:"Enter the person you want to meet",required:!0})]})]}),(S?S.enabledFields.idProof:t.enabledFields.idProof)&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Ql,{className:"inline w-4 h-4 mr-1"}),"ID Proof Type"]}),r.jsxs("select",{name:"idProofType",value:G.idProofType,onChange:F,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",children:[r.jsx("option",{value:"",children:"Select ID type"}),t.idTypeOptions.map(C=>r.jsx("option",{value:C,children:C},C))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID Number"}),r.jsx("input",{type:"text",name:"idProofNumber",value:G.idProofNumber,onChange:F,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",placeholder:"Enter ID number"})]})]}),(S==null?void 0:S.customFields)&&S.customFields.filter(C=>C.isActive).length>0&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-800 border-b border-gray-200 pb-2",children:"Additional Information"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:S.customFields.filter(C=>C.isActive).sort((C,$)=>C.order-$.order).map(C=>(console.log("🎯 PublicVisitor - Rendering field:",{id:C.id,name:C.name,label:C.label,type:C.type,isActive:C.isActive}),r.jsxs("div",{className:C.type==="textarea"?"md:col-span-2":"",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[C.label," ",C.required&&"*"]}),r.jsx(g0,{field:C,value:R[C.name]||"",onChange:$=>z(W=>({...W,[C.name]:$}))})]},C.id)))})]}),(S?S.enabledFields.photo:t.enabledFields.photo)&&r.jsxs("div",{className:"text-center",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Visitor Photo (Optional)"}),l?r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:l,alt:"Captured",className:"w-32 h-32 rounded-full object-cover border-4 border-gray-200"}),r.jsx("button",{type:"button",onClick:()=>a(null),className:"absolute -bottom-2 -right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition duration-200",children:r.jsx(bt,{className:"w-4 h-4"})})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[r.jsxs("button",{type:"button",onClick:Y,className:"flex flex-col items-center justify-center w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 transition duration-200 bg-gray-50 hover:bg-gray-100",children:[r.jsx(Lt,{className:"w-8 h-8 text-gray-400 mb-2"}),r.jsx("span",{className:"text-xs text-gray-500 text-center",children:"Take Photo"})]}),r.jsxs("button",{type:"button",onClick:re,className:"flex flex-col items-center justify-center w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 transition duration-200 bg-gray-50 hover:bg-gray-100",children:[r.jsx(Gn,{className:"w-8 h-8 text-gray-400 mb-2"}),r.jsx("span",{className:"text-xs text-gray-500 text-center",children:"Upload Photo"})]})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 5MB"}),r.jsx("input",{ref:ee,type:"file",accept:"image/*",capture:o?"user":void 0,onChange:ae,className:"hidden"})]})]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(lr,{className:"w-5 h-5 text-gray-500 mr-2"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Visit Date & Time: "}),r.jsx("span",{className:"text-sm text-gray-600 ml-2",children:new Date().toLocaleString()})]})}),r.jsxs("button",{type:"submit",disabled:x,className:"w-full bg-[#EB6E38] hover:bg-[#d85a2a] disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-4 px-6 rounded-lg transition duration-200 flex items-center justify-center",children:[r.jsx(Sn,{className:"w-5 h-5 mr-2"}),x?"Registering...":"Register Visit"]})]})]})})}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-red-600 text-xl mb-4",children:"Location Not Found"}),r.jsx("div",{className:"text-gray-600 mb-4",children:w||`The requested location URL "${e}" is not valid.`})]})})},ir=({isOpen:e,title:t,message:n,confirmText:s="Confirm",cancelText:l="Cancel",type:a="danger",onConfirm:i,onCancel:c,isLoading:o=!1})=>{if(!e)return null;const x=(()=>{switch(a){case"danger":return{bg:"bg-red-50",border:"border-red-200",icon:"text-red-600",button:"bg-red-600 hover:bg-red-700 focus:ring-red-500"};case"warning":return{bg:"bg-yellow-50",border:"border-yellow-200",icon:"text-yellow-600",button:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"};case"info":return{bg:"bg-blue-50",border:"border-blue-200",icon:"text-blue-600",button:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"};default:return{bg:"bg-red-50",border:"border-red-200",icon:"text-red-600",button:"bg-red-600 hover:bg-red-700 focus:ring-red-500"}}})(),v=y=>{y.target===y.currentTarget&&!o&&c()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:v,children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 transform transition-all",children:[r.jsx("div",{className:`${x.bg} ${x.border} border-b px-6 py-4 rounded-t-lg`,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full ${x.bg} flex items-center justify-center mr-3`,children:r.jsx(r0,{className:`w-6 h-6 ${x.icon}`})}),r.jsx("div",{className:"flex-1",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t})})]})}),r.jsx("div",{className:"px-6 py-4",children:r.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:n})}),r.jsxs("div",{className:"px-6 py-4 bg-gray-50 rounded-b-lg flex justify-end space-x-3",children:[r.jsxs("button",{onClick:c,disabled:o,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(bt,{className:"w-4 h-4 mr-1 inline"}),l]}),r.jsx("button",{onClick:i,disabled:o,className:`px-4 py-2 text-sm font-medium text-white ${x.button} rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center`,children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Pe,{className:"w-4 h-4 mr-1"}),s]})})]})]})})},Qc=()=>{const{visitors:e,updateVisitorStatus:t,refreshVisitors:n,isLoading:s}=hs(),{user:l}=kt(),[a,i]=h.useState("pending"),[c,o]=h.useState(null),[d,x]=h.useState(!1),[v,y]=h.useState({isOpen:!1,visitorId:null,visitorName:"",currentDate:"",newDate:"",newTime:""}),[p,g]=h.useState({isOpen:!1,visitorId:null,visitorName:"",isLoading:!1}),b=e.filter(O=>O.status==="awaiting_approval"&&O.whomToMeet===(l==null?void 0:l.name)),S=e.filter(O=>O.whomToMeet===(l==null?void 0:l.name)),m=async()=>{x(!0);try{await n()}finally{x(!1)}},u=async(O,D)=>{o(O);try{await t(O,D)?console.log(`✅ Successfully ${D} visitor ${O}`):(console.error(`❌ Failed to ${D} visitor ${O}`),alert(`Failed to ${D} visitor. Please try again.`))}catch(ee){console.error("❌ Error updating visitor status:",ee),alert("Error updating visitor status. Please try again.")}finally{o(null)}},f=O=>{const D=new Date(O.dateTime);y({isOpen:!0,visitorId:O.id,visitorName:O.fullName,currentDate:O.dateTime,newDate:D.toISOString().split("T")[0],newTime:D.toTimeString().slice(0,5)})},w=()=>{y({isOpen:!1,visitorId:null,visitorName:"",currentDate:"",newDate:"",newTime:""})},j=async()=>{if(!(!v.visitorId||!v.newDate||!v.newTime)){o(v.visitorId);try{await t(v.visitorId,"rescheduled"),w()}catch(O){console.error("Error rescheduling visitor:",O)}finally{o(null)}}},N=O=>{g({isOpen:!0,visitorId:O.id,visitorName:O.fullName,isLoading:!1})},P=async()=>{if(p.visitorId){g(O=>({...O,isLoading:!0}));try{await t(p.visitorId,"rejected")?(console.log(`✅ Successfully rejected visitor ${p.visitorId}`),g({isOpen:!1,visitorId:null,visitorName:"",isLoading:!1})):(console.error(`❌ Failed to reject visitor ${p.visitorId}`),alert("Failed to reject visitor. Please try again."),g(D=>({...D,isLoading:!1})))}catch(O){console.error("Error rejecting visitor:",O),alert("An error occurred while rejecting the visitor. Please try again."),g(D=>({...D,isLoading:!1}))}}},R=()=>{p.isLoading||g({isOpen:!1,visitorId:null,visitorName:"",isLoading:!1})},z=O=>{const D={awaiting_approval:{color:"bg-yellow-100 text-yellow-800",text:"Awaiting Approval"},approved:{color:"bg-green-100 text-green-800",text:"Approved"},rejected:{color:"bg-red-100 text-red-800",text:"Rejected"},rescheduled:{color:"bg-blue-100 text-blue-800",text:"Rescheduled"},checked_in:{color:"bg-purple-100 text-purple-800",text:"Checked In"},checked_out:{color:"bg-gray-100 text-gray-800",text:"Checked Out"}},ee=D[O]||D.awaiting_approval;return r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ee.color}`,children:ee.text})},M=a==="pending"?b:S;return r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-[#2d4170] to-[#3a4f7a] px-8 py-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ar,{className:"w-8 h-8 text-white mr-3"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Staff Approval Center"}),r.jsx("p",{className:"text-blue-100 opacity-80",children:"Review and manage your visitor requests"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:m,disabled:d,className:"bg-white/20 hover:bg-white/30 text-white px-3 py-2 rounded-lg transition duration-200 flex items-center disabled:opacity-50",title:"Refresh visitor data",children:r.jsx(yn,{className:`w-4 h-4 ${d?"animate-spin":""}`})}),r.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 text-white text-center",children:[r.jsx("div",{className:"text-2xl font-bold",children:b.length}),r.jsx("div",{className:"text-sm text-indigo-100",children:"Pending Approval"})]})]})]})}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("nav",{className:"flex space-x-8 px-8",children:[r.jsxs("button",{onClick:()=>i("pending"),className:`py-4 px-1 border-b-2 font-medium text-sm transition duration-200 ${a==="pending"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Pending Approvals (",b.length,")"]}),r.jsxs("button",{onClick:()=>i("all"),className:`py-4 px-1 border-b-2 font-medium text-sm transition duration-200 ${a==="all"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["All My Visitors (",S.length,")"]})]})}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Real-time updates active"})]}),s&&r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(yn,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{children:"Loading..."})]})]}),M.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-24 h-24 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ar,{className:"w-12 h-12 text-indigo-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No visitors found"}),r.jsx("p",{className:"text-gray-500",children:a==="pending"?"No pending approval requests at the moment.":"No visitors have requested to meet with you yet."}),a==="pending"&&r.jsx("div",{className:"mt-4 p-4 bg-indigo-50 rounded-lg",children:r.jsx("p",{className:"text-sm text-indigo-700",children:"You'll receive notifications when visitors request to meet with you."})})]}):r.jsx("div",{className:"space-y-6",children:M.map(O=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition duration-200",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Cn,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:O.fullName}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(an,{className:"w-4 h-4 mr-1"}),O.phoneNumber]}),O.companyName&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ln,{className:"w-4 h-4 mr-1"}),O.companyName]})]})]}),r.jsxs("div",{className:"text-right",children:[z(O.status),r.jsxs("div",{className:"text-sm text-gray-500 mt-1 flex items-center",children:[r.jsx(sr,{className:"w-4 h-4 mr-1"}),new Date(O.dateTime).toLocaleString()]})]})]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(lr,{className:"w-4 h-4 text-indigo-500 mr-2 mt-0.5"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-indigo-700",children:"Purpose of Visit:"}),r.jsx("p",{className:"text-sm text-gray-700 mt-1",children:O.purposeOfVisit})]})]})}),O.status==="awaiting_approval"&&r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:()=>u(O.id,"approved"),disabled:c===O.id,className:"flex items-center px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white text-sm font-medium rounded-lg transition duration-200 disabled:opacity-50",children:[c===O.id?r.jsx(yn,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(Pe,{className:"w-4 h-4 mr-2"}),"Approve"]}),r.jsxs("button",{onClick:()=>N(O),disabled:c===O.id,className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-lg transition duration-200 disabled:opacity-50",children:[r.jsx(bt,{className:"w-4 h-4 mr-2"}),"Reject"]}),r.jsxs("button",{onClick:()=>f(O),disabled:c===O.id,className:"flex items-center px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white text-sm font-medium rounded-lg transition duration-200 disabled:opacity-50",children:[r.jsx(kn,{className:"w-4 h-4 mr-2"}),"Reschedule"]})]}),O.approvedAt&&r.jsx("div",{className:"mt-4 text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Pe,{className:"w-4 h-4 text-emerald-500 mr-1"}),"Approved on ",new Date(O.approvedAt).toLocaleString()]})})]})})},O.id))})]})]}),v.isOpen&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Reschedule Visitor"}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[r.jsx("strong",{children:"Visitor:"})," ",v.visitorName]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[r.jsx("strong",{children:"Current Date/Time:"})," ",new Date(v.currentDate).toLocaleString()]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Date"}),r.jsx("input",{type:"date",value:v.newDate,onChange:O=>y(D=>({...D,newDate:O.target.value})),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Time"}),r.jsx("input",{type:"time",value:v.newTime,onChange:O=>y(D=>({...D,newTime:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex space-x-3 mt-6",children:[r.jsx("button",{onClick:w,className:"flex-1 px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-700 font-medium rounded-md transition duration-200",children:"Cancel"}),r.jsx("button",{onClick:j,disabled:!v.newDate||!v.newTime||c===v.visitorId,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium rounded-md transition duration-200",children:c===v.visitorId?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2 inline-block"}),"Rescheduling..."]}):"Reschedule"})]})]})}),r.jsx(ir,{isOpen:p.isOpen,title:"Reject Visitor",message:`Are you sure you want to reject "${p.visitorName}"? This action will deny their visit request and send them a rejection notification.`,confirmText:"Reject Visitor",cancelText:"Cancel",type:"warning",onConfirm:P,onCancel:R,isLoading:p.isLoading})]})},Kc=()=>{const{id:e}=wo(),[t,n]=h.useState(null),[s,l]=h.useState(!0),[a,i]=h.useState(null);return h.useEffect(()=>{(async()=>{try{if(!e){i("No visitor ID provided"),l(!1);return}const o=await me.getVisitorById(parseInt(e));n(o)}catch(o){console.error("Error loading visitor:",o),i("Failed to load visitor information")}finally{l(!1)}})()},[e]),s?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("div",{className:"text-gray-600",children:"Loading visitor information..."})]})}):a||!t?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full",children:[r.jsx("div",{className:"text-red-500 text-center mb-4",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("h1",{className:"text-xl font-semibold text-center mb-4",children:"Error"}),r.jsx("p",{className:"text-gray-600 text-center mb-6",children:a||"Unable to find visitor information"}),r.jsx(ls,{to:"/staff/dashboard",className:"block text-center w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-200",children:"Return to Dashboard"})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:r.jsx("div",{className:"max-w-2xl mx-auto px-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsxs("div",{className:"bg-green-500 text-white p-6 text-center",children:[r.jsx(Am,{className:"w-16 h-16 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold",children:"Visitor Approved Successfully!"})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsx("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-semibold",children:"Status: Approved"})}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx(ar,{className:"w-5 h-5 text-gray-500 mt-1 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Visitor"}),r.jsx("p",{className:"font-medium",children:t.fullName})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),r.jsx("p",{className:"font-medium",children:t.phoneNumber})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Company"}),r.jsx("p",{className:"font-medium",children:t.companyName||"Not provided"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Visit Date & Time"}),r.jsx("p",{className:"font-medium",children:new Date(t.dateTime).toLocaleString()})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Purpose"}),r.jsx("p",{className:"font-medium",children:t.purposeOfVisit})]})]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-green-600 mb-6",children:"The visitor has been notified of your approval."}),r.jsxs(ls,{to:"/staff/dashboard",className:"inline-flex items-center justify-center bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition duration-200",children:[r.jsx(s0,{className:"w-4 h-4 mr-2"}),"Return to Dashboard"]})]})]})]})})})},Yc=()=>{const{visitors:e,getVisitorsByDate:t,checkInVisitor:n,checkOutVisitor:s,getStaffInfo:l,refreshVisitors:a,updateVisitorStatus:i}=hs(),{user:c}=kt(),[o,d]=h.useState(new Date().toISOString().split("T")[0]),[x,v]=h.useState(""),[y,p]=h.useState("all"),[g,b]=h.useState(!1),[S,m]=h.useState(null),[u,f]=h.useState({isOpen:!1,visitorId:null,visitorName:"",currentDate:"",newDate:"",newTime:""}),[w,j]=h.useState({isOpen:!1,visitorId:null,visitorName:"",isLoading:!1}),[N,P]=h.useState("visitors"),R=t(o),z=R.filter(E=>{const C=E.fullName.toLowerCase().includes(x.toLowerCase())||E.phoneNumber.includes(x)||E.whomToMeet.toLowerCase().includes(x.toLowerCase()),$=y==="all"||E.status===y;return C&&$}),M=async()=>{b(!0),await a(),b(!1)},D={total:R.length,awaiting:R.filter(C=>C.status==="awaiting_approval").length,approved:R.filter(C=>C.status==="approved").length,checkedIn:R.filter(C=>C.status==="checked_in").length,checkedOut:R.filter(C=>C.status==="checked_out").length,rejected:R.filter(C=>C.status==="rejected").length},ee=E=>{const C={awaiting_approval:{color:"bg-yellow-100 text-yellow-800 border-yellow-200",text:"Awaiting Approval"},approved:{color:"bg-green-100 text-green-800 border-green-200",text:"Approved"},rejected:{color:"bg-red-100 text-red-800 border-red-200",text:"Rejected"},rescheduled:{color:"bg-blue-100 text-blue-800 border-blue-200",text:"Rescheduled"},checked_in:{color:"bg-purple-100 text-purple-800 border-purple-200",text:"Checked In"},checked_out:{color:"bg-gray-100 text-gray-800 border-gray-200",text:"Checked Out"}},$=C[E]||C.awaiting_approval;return r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${$.color}`,children:$.text})},G=E=>E.status==="approved",B=E=>E.status==="checked_in",J=E=>{const C=new Date(E),$=new Date;return $.setHours(0,0,0,0),C.setHours(0,0,0,0),C>=$},H=E=>{const C=J(E.dateTime);switch(E.status){case"awaiting_approval":return{canApprove:C,canReject:!0,canReschedule:!0,showCheckInOut:!1};case"approved":return{canApprove:!1,canReject:!0,canReschedule:!0,showCheckInOut:!0};case"rejected":return{canApprove:C,canReject:!1,canReschedule:!0,showCheckInOut:!1};case"rescheduled":return{canApprove:C,canReject:!0,canReschedule:!0,showCheckInOut:!1};default:return{canApprove:!1,canReject:!1,canReschedule:!1,showCheckInOut:!1}}},V=e.filter(E=>{const C=c!=null&&c.locationId?E.locationId===c.locationId.toString():!0;return["awaiting_approval","approved","rejected","rescheduled"].includes(E.status)&&C}),A=E=>{j({isOpen:!0,visitorId:E.id,visitorName:E.fullName,isLoading:!1})},F=async()=>{if(w.visitorId){j(E=>({...E,isLoading:!0}));try{await i(w.visitorId,"rejected")?(console.log(`✅ Successfully rejected visitor ${w.visitorId}`),j({isOpen:!1,visitorId:null,visitorName:"",isLoading:!1})):(console.error(`❌ Failed to reject visitor ${w.visitorId}`),alert("Failed to reject visitor. Please try again."),j(C=>({...C,isLoading:!1})))}catch(E){console.error("Error rejecting visitor:",E),alert("An error occurred while rejecting the visitor. Please try again."),j(C=>({...C,isLoading:!1}))}}},Y=()=>{w.isLoading||j({isOpen:!1,visitorId:null,visitorName:"",isLoading:!1})},L=async(E,C)=>{m(E);try{await i(E,C)?console.log(`✅ Successfully ${C} visitor ${E}`):(console.error(`❌ Failed to ${C} visitor ${E}`),alert(`Failed to ${C} visitor. Please try again.`))}catch($){console.error("❌ Error updating visitor status:",$),alert("Error updating visitor status. Please try again.")}finally{m(null)}},K=E=>{const C=new Date(E.dateTime);f({isOpen:!0,visitorId:E.id,visitorName:E.fullName,currentDate:E.dateTime,newDate:C.toISOString().split("T")[0],newTime:C.toTimeString().slice(0,5)})},ae=()=>{f({isOpen:!1,visitorId:null,visitorName:"",currentDate:"",newDate:"",newTime:""})},re=async()=>{if(!(!u.visitorId||!u.newDate||!u.newTime)){m(u.visitorId);try{await i(u.visitorId,"rescheduled"),ae()}catch(E){console.error("Error rescheduling visitor:",E)}finally{m(null)}}};return r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden mb-8",children:[r.jsx("div",{className:"bg-gradient-to-r from-[#2d4170] to-[#3a4f7a] px-8 py-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Be,{className:"w-8 h-8 text-white mr-3"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Reception Dashboard"}),r.jsxs("div",{className:"flex items-center space-x-4 text-blue-100 opacity-80",children:[r.jsx("span",{children:"Manage visitor check-ins and check-outs"}),(c==null?void 0:c.locationName)&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(ft,{className:"w-4 h-4 mr-1"}),r.jsx("span",{children:c.locationName})]})]})]})]}),r.jsxs("button",{onClick:M,disabled:g,className:"flex items-center px-4 py-2 bg-[#EB6E38] hover:bg-[#d85a2a] text-white rounded-lg transition duration-200 disabled:opacity-50",children:[r.jsx(yn,{className:`w-4 h-4 mr-2 ${g?"animate-spin":""}`}),"Refresh"]})]})}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("nav",{className:"flex space-x-8 px-8",children:[r.jsxs("button",{onClick:()=>P("visitors"),className:`py-4 px-1 border-b-2 font-medium text-sm transition duration-200 ${N==="visitors"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(Be,{className:"inline w-4 h-4 mr-2"}),"Visitors (",z.length,")"]}),r.jsxs("button",{onClick:()=>P("analytics"),className:`py-4 px-1 border-b-2 font-medium text-sm transition duration-200 ${N==="analytics"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(wi,{className:"inline w-4 h-4 mr-2"}),"Analytics"]}),r.jsxs("button",{onClick:()=>P("approvals"),className:`py-4 px-1 border-b-2 font-medium text-sm transition duration-200 ${N==="approvals"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(Pe,{className:"inline w-4 h-4 mr-2"}),"Actions (",V.length,")"]})]})}),r.jsx("div",{className:"p-8",children:N==="visitors"?r.jsx(r.Fragment,{children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(sr,{className:"w-5 h-5 text-gray-500"}),r.jsx("input",{type:"date",value:o,onChange:E=>d(E.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(u0,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"Search visitors...",value:x,onChange:E=>v(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(wi,{className:"w-5 h-5 text-gray-500"}),r.jsxs("select",{value:y,onChange:E=>p(E.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"awaiting_approval",children:"Awaiting Approval"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"checked_in",children:"Checked In"}),r.jsx("option",{value:"checked_out",children:"Checked Out"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-6",children:[r.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Be,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:D.total})]})]})}),r.jsx("div",{className:"bg-yellow-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(kn,{className:"w-8 h-8 text-yellow-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Awaiting"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:D.awaiting})]})]})}),r.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ar,{className:"w-8 h-8 text-green-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-green-600",children:"Approved"}),r.jsx("p",{className:"text-2xl font-bold text-green-900",children:D.approved})]})]})}),r.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Zs,{className:"w-8 h-8 text-purple-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Checked In"}),r.jsx("p",{className:"text-2xl font-bold text-purple-900",children:D.checkedIn})]})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(el,{className:"w-8 h-8 text-gray-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Checked Out"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.checkedOut})]})]})}),r.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(f0,{className:"w-8 h-8 text-red-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-red-600",children:"Rejected"}),r.jsx("p",{className:"text-2xl font-bold text-red-900",children:D.rejected})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Today's Activity Timeline"}),r.jsx("div",{className:"space-y-3",children:z.slice(0,5).map(E=>r.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-medium text-blue-600",children:E.fullName.split(" ").map(C=>C[0]).join("")})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.fullName}),r.jsx("p",{className:"text-xs text-gray-500",children:E.whomToMeet})]})]}),r.jsxs("div",{className:"text-right",children:[ee(E.status),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(E.dateTime).toLocaleTimeString()})]})]},E.id))})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-green-900",children:"Ready to Check In"}),r.jsxs("p",{className:"text-sm text-green-700",children:[D.approved," visitors approved"]})]}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:D.approved})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-purple-900",children:"Currently On-Site"}),r.jsxs("p",{className:"text-sm text-purple-700",children:[D.checkedIn," visitors checked in"]})]}),r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:D.checkedIn})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-yellow-900",children:"Pending Approval"}),r.jsxs("p",{className:"text-sm text-yellow-700",children:[D.awaiting," visitors waiting"]})]}),r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:D.awaiting})]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[r.jsx(sr,{className:"w-5 h-5 text-gray-500"}),r.jsx("input",{type:"date",value:o,onChange:E=>d(E.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Analytics for selected date"})]})]})})]}),N==="visitors"&&r.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Visitor"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Purpose"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Meeting With"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:z.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-6 py-12 text-center",children:r.jsxs("div",{className:"text-gray-500",children:[r.jsx(Be,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-lg font-medium",children:"No visitors found"}),r.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})}):z.map(E=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-medium text-blue-600",children:E.fullName.split(" ").map(C=>C[0]).join("")})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.fullName}),E.companyName&&r.jsx("div",{className:"text-sm text-gray-500",children:E.companyName})]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:E.phoneNumber}),E.email&&r.jsx("div",{className:"text-sm text-gray-500",children:E.email})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:E.purposeOfVisit})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:E.whomToMeet})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(()=>{const C=l(E.whomToMeet);return C?r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"text-gray-900",children:C.phone}),r.jsx("div",{className:"text-gray-500",children:C.email}),r.jsxs("div",{className:"text-gray-500",children:["Ext: ",C.extension]})]}):r.jsx("div",{className:"text-sm text-gray-500",children:"Contact not available"})})()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ee(E.status)}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[r.jsx("div",{children:new Date(E.dateTime).toLocaleTimeString()}),E.checkInTime&&r.jsxs("div",{className:"text-xs text-green-600",children:["In: ",new Date(E.checkInTime).toLocaleTimeString()]}),E.checkOutTime&&r.jsxs("div",{className:"text-xs text-red-600",children:["Out: ",new Date(E.checkOutTime).toLocaleTimeString()]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex justify-end space-x-2",children:[G(E)&&r.jsxs("button",{onClick:()=>n(E.id),className:"inline-flex items-center px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-xs font-medium rounded-md transition duration-200",children:[r.jsx(Zs,{className:"w-3 h-3 mr-1"}),"Check In"]}),B(E)&&r.jsxs("button",{onClick:()=>s(E.id),className:"inline-flex items-center px-3 py-1 bg-orange-600 hover:bg-orange-700 text-white text-xs font-medium rounded-md transition duration-200",children:[r.jsx(el,{className:"w-3 h-3 mr-1"}),"Check Out"]})]})})]},E.id))})]})})}),N==="approvals"&&r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Visitor Management"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[V.length," visitor",V.length!==1?"s":""," requiring action"]})]}),V.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsxs("div",{className:"text-gray-500",children:[r.jsx(Pe,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-lg font-medium",children:"No visitors requiring action"}),r.jsx("p",{className:"text-sm",children:"All visitors have been processed"})]})}):r.jsx("div",{className:"space-y-6",children:V.map(E=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Cn,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E.fullName}),E.companyName&&r.jsx("p",{className:"text-sm text-gray-600",children:E.companyName})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(an,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-700",children:E.phoneNumber})]}),E.email&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(lr,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-700",children:E.email})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ln,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-sm text-gray-700",children:["Meeting: ",E.whomToMeet]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-sm text-gray-700",children:["Time: ",new Date(E.dateTime).toLocaleString()]}),!J(E.dateTime)&&E.status==="awaiting_approval"&&r.jsx("span",{className:"text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded",children:"Past date - limited actions"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Purpose of Visit:"}),r.jsx("p",{className:"text-sm text-gray-600",children:E.purposeOfVisit})]}),E.notes&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Notes:"}),r.jsx("p",{className:"text-sm text-gray-600",children:E.notes})]})]}),r.jsx("div",{className:"flex flex-col space-y-2 ml-6",children:(()=>{const C=H(E);return r.jsxs(r.Fragment,{children:[E.status==="approved"&&r.jsx("div",{className:"mb-2",children:r.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-green-100 text-green-800 border border-green-200 rounded-full text-sm font-medium",children:[r.jsx(Pe,{className:"w-4 h-4 mr-1"}),"Approved"]})}),C.showCheckInOut&&r.jsxs("div",{className:"space-y-2",children:[G(E)&&r.jsxs("button",{onClick:()=>n(E.id),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-md transition duration-200 w-full justify-center",children:[r.jsx(Zs,{className:"w-4 h-4 mr-2"}),"Check In"]}),B(E)&&r.jsxs("button",{onClick:()=>s(E.id),className:"inline-flex items-center px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white text-sm font-medium rounded-md transition duration-200 w-full justify-center",children:[r.jsx(el,{className:"w-4 h-4 mr-2"}),"Check Out"]})]}),r.jsxs("div",{className:"space-y-2",children:[C.canApprove&&r.jsx("button",{onClick:()=>L(E.id,"approved"),disabled:S===E.id,className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white text-sm font-medium rounded-md transition duration-200 w-full justify-center",children:S===E.id?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Pe,{className:"w-4 h-4 mr-2"}),"Approve"]})}),C.canReject&&r.jsx("button",{onClick:()=>A(E),disabled:S===E.id,className:"inline-flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white text-sm font-medium rounded-md transition duration-200 w-full justify-center",children:S===E.id?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(bt,{className:"w-4 h-4 mr-2"}),"Reject"]})}),C.canReschedule&&r.jsxs("button",{onClick:()=>K(E),disabled:S===E.id,className:"inline-flex items-center px-4 py-2 bg-amber-600 hover:bg-amber-700 disabled:bg-amber-400 text-white text-sm font-medium rounded-md transition duration-200 w-full justify-center",children:[r.jsx(kn,{className:"w-4 h-4 mr-2"}),"Reschedule"]})]})]})})()})]})},E.id))})]}),u.isOpen&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Reschedule Visitor"}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[r.jsx("strong",{children:"Visitor:"})," ",u.visitorName]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[r.jsx("strong",{children:"Current Date/Time:"})," ",new Date(u.currentDate).toLocaleString()]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Date"}),r.jsx("input",{type:"date",value:u.newDate,onChange:E=>f(C=>({...C,newDate:E.target.value})),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Time"}),r.jsx("input",{type:"time",value:u.newTime,onChange:E=>f(C=>({...C,newTime:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex space-x-3 mt-6",children:[r.jsx("button",{onClick:ae,className:"flex-1 px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-700 font-medium rounded-md transition duration-200",children:"Cancel"}),r.jsx("button",{onClick:re,disabled:!u.newDate||!u.newTime||S===u.visitorId,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium rounded-md transition duration-200",children:S===u.visitorId?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2 inline-block"}),"Rescheduling..."]}):"Reschedule"})]})]})}),r.jsx(ir,{isOpen:w.isOpen,title:"Reject Visitor",message:`Are you sure you want to reject "${w.visitorName}"? This action will deny their visit request and send them a rejection notification.`,confirmText:"Reject Visitor",cancelText:"Cancel",type:"warning",onConfirm:F,onCancel:Y,isLoading:w.isLoading})]})},v0=()=>{const{locations:e,addLocation:t,updateLocation:n,deleteLocation:s}=ps(),[l,a]=h.useState(!1),[i,c]=h.useState(null),[o,d]=h.useState(null),[x,v]=h.useState({isOpen:!1,locationId:null,locationName:"",isLoading:!1}),[y,p]=h.useState({name:"",address:"",description:"",isActive:!0}),g=N=>{N.preventDefault(),i?(console.log("🔄 Updating location:",i,y),n(i,y),c(null),a(!1)):(console.log("➕ Adding new location:",y),t(y),a(!1)),p({name:"",address:"",description:"",isActive:!0})},b=N=>{v({isOpen:!0,locationId:N.id,locationName:N.name,isLoading:!1})},S=async()=>{if(x.locationId){v(N=>({...N,isLoading:!0}));try{await s(x.locationId),v({isOpen:!1,locationId:null,locationName:"",isLoading:!1})}catch(N){console.error("Failed to delete location:",N),v(P=>({...P,isLoading:!1}))}}},m=()=>{x.isLoading||v({isOpen:!1,locationId:null,locationName:"",isLoading:!1})},u=N=>{console.log("🔧 Edit button clicked for location:",N.id,N.name),p({name:N.name,address:N.address,description:N.description||"",isActive:N.isActive}),c(N.id),a(!0),console.log("🔧 Edit form should now be visible, editingLocation:",N.id)},f=()=>{a(!1),c(null),p({name:"",address:"",description:"",isActive:!0})},w=async(N,P)=>{try{await navigator.clipboard.writeText(N),d(P),setTimeout(()=>d(null),2e3)}catch(R){console.error("Failed to copy:",R)}},j=(N,P)=>{n(N,{isActive:!P})};return r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-[#2d4170] to-[#3a4f7a] px-8 py-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ft,{className:"w-8 h-8 text-white mr-3"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Location Management"}),r.jsx("p",{className:"text-blue-100 opacity-80",children:"Manage visitor registration locations"})]})]}),r.jsxs("button",{onClick:()=>a(!0),className:"flex items-center px-4 py-2 bg-[#EB6E38] hover:bg-[#d85a2a] text-white rounded-lg transition duration-200",children:[r.jsx(Om,{className:"w-4 h-4 mr-2"}),"Add Location"]})]})}),l&&r.jsxs("div",{className:"border-b border-gray-200 p-8 bg-gray-50",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:i?"Edit Location":"Add New Location"}),r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location Name *"}),r.jsx("input",{type:"text",value:y.name,onChange:N=>p(P=>({...P,name:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"e.g., Main Office, Research Lab",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:y.isActive?"active":"inactive",onChange:N=>p(P=>({...P,isActive:N.target.value==="active"})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),r.jsx("input",{type:"text",value:y.address,onChange:N=>p(P=>({...P,address:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Full address of the location",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:y.description,onChange:N=>p(P=>({...P,description:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Optional description for visitors",rows:2})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition duration-200",children:i?"Update Location":"Add Location"}),r.jsx("button",{type:"button",onClick:f,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition duration-200",children:"Cancel"})]})]})]}),r.jsx("div",{className:"p-8",children:e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ft,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No locations yet"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first location to start managing visitor registrations."}),r.jsx("button",{onClick:()=>a(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition duration-200",children:"Add First Location"})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(N=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition duration-200",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:N.name}),r.jsx("button",{onClick:()=>j(N.id,N.isActive),className:`p-1 rounded-full transition duration-200 ${N.isActive?"text-green-600 hover:bg-green-100":"text-gray-400 hover:bg-gray-100"}`,title:N.isActive?"Active - Click to deactivate":"Inactive - Click to activate",children:N.isActive?r.jsx(en,{className:"w-4 h-4"}):r.jsx(Kl,{className:"w-4 h-4"})}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:N.isActive?"Active":"Inactive"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:N.address}),N.description&&r.jsx("p",{className:"text-sm text-gray-500 mb-3",children:N.description})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>u(N),className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition duration-200",title:"Edit location",children:r.jsx(So,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>b(N),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition duration-200",title:"Delete location",children:r.jsx(Co,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Public Registration URL:"}),r.jsx("button",{onClick:()=>w(`${window.location.origin}/visit/${N.registrationUrl}`,N.id),className:"flex items-center text-sm text-purple-600 hover:text-purple-700 transition duration-200",children:o===N.id?r.jsxs(r.Fragment,{children:[r.jsx(Pe,{className:"w-4 h-4 mr-1"}),"Copied!"]}):r.jsxs(r.Fragment,{children:[r.jsx(l0,{className:"w-4 h-4 mr-1"}),"Copy"]})})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("code",{className:"flex-1 text-sm bg-white px-3 py-2 rounded border text-gray-800 font-mono",children:[window.location.origin,"/visit/",N.registrationUrl]}),r.jsx("a",{href:`/visit/${N.registrationUrl}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-purple-600 hover:text-purple-700 hover:bg-purple-50 rounded transition duration-200",title:"Open public registration page",children:r.jsx(a0,{className:"w-4 h-4"})})]}),r.jsx("div",{className:"mt-2",children:r.jsx("p",{className:"text-xs text-gray-500",children:"✓ No login required - Visitors can register directly"})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:N.qrCodeUrl,alt:`QR Code for ${N.name}`,className:"w-16 h-16 border border-gray-200 rounded"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"QR Code"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Scan to register"})]})]}),r.jsxs("a",{href:N.qrCodeUrl,download:`${N.name}-qr-code.png`,className:"flex items-center px-3 py-2 bg-purple-600 hover:bg-purple-700 text-white text-sm rounded-lg transition duration-200",children:[r.jsx(o0,{className:"w-4 h-4 mr-2"}),"Download"]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 text-xs text-gray-500",children:["Created: ",new Date(N.createdAt).toLocaleDateString(),N.updatedAt!==N.createdAt&&r.jsxs("span",{className:"ml-4",children:["Updated: ",new Date(N.updatedAt).toLocaleDateString()]})]})]},N.id))})})]}),r.jsx(ir,{isOpen:x.isOpen,title:"Delete Location",message:`Are you sure you want to delete "${x.locationName}"? This action cannot be undone and may affect visitor registrations associated with this location.`,confirmText:"Delete Location",cancelText:"Cancel",type:"danger",onConfirm:S,onCancel:m,isLoading:x.isLoading})]})},w0=()=>{const{staffMembers:e,addStaffMember:t,updateStaffMember:n,deleteStaffMember:s,isLoading:l,error:a,reloadStaffMembers:i}=ql(),{locations:c}=ps(),[o,d]=h.useState(!1),[x,v]=h.useState(null),[y,p]=h.useState(null),[g,b]=h.useState(!1),[S,m]=h.useState(null),[u,f]=h.useState({isOpen:!1,staffId:null,staffName:"",isLoading:!1}),w=h.useRef(null),j=h.useRef(null),[N,P]=h.useState({firstName:"",lastName:"",locationId:"",email:"",password:"",mobileNumber:"",phoneNumber:"",extension:"",designation:"",role:"staff",photoUrl:"",isActive:!0,canLogin:!0}),R=L=>{L.preventDefault();const K={...N,photoUrl:y||N.photoUrl};x?(n(x,K),v(null)):(t(K),d(!1)),z()},z=()=>{P({firstName:"",lastName:"",locationId:"",email:"",password:"",mobileNumber:"",phoneNumber:"",extension:"",designation:"",role:"staff",photoUrl:"",isActive:!0,canLogin:!0}),p(null)},M=L=>{P({firstName:L.firstName,lastName:L.lastName,locationId:L.locationId,email:L.email,password:L.password||"",mobileNumber:L.mobileNumber,phoneNumber:L.phoneNumber,extension:L.extension,designation:L.designation||"",role:L.role||"staff",photoUrl:L.photoUrl||"",isActive:L.isActive,canLogin:L.canLogin!==void 0?L.canLogin:!0}),p(L.photoUrl||null),v(L.id),d(!0)},O=()=>{d(!1),v(null),z()},D=L=>{f({isOpen:!0,staffId:L.id,staffName:`${L.firstName} ${L.lastName}`,isLoading:!1})},ee=async()=>{if(u.staffId){f(L=>({...L,isLoading:!0}));try{await s(u.staffId),f({isOpen:!1,staffId:null,staffName:"",isLoading:!1})}catch(L){console.error("Failed to delete staff member:",L),f(K=>({...K,isLoading:!1}))}}},G=()=>{u.isLoading||f({isOpen:!1,staffId:null,staffName:"",isLoading:!1})},B=L=>{var ae;const K=(ae=L.target.files)==null?void 0:ae[0];if(K){const re=new FileReader;re.onload=E=>{var $;const C=($=E.target)==null?void 0:$.result;p(C)},re.readAsDataURL(K)}},J=(L,K)=>{n(L,{isActive:!K})},H=L=>{const{name:K,value:ae,type:re}=L.target;P(E=>({...E,[K]:re==="checkbox"?L.target.checked:ae}))},T=L=>{const K=c.find(ae=>ae.id===L);return K?K.name:"Unknown Location"},V=()=>{const L=["First Name*","Last Name*","Location Name*","Email Address*","Mobile Number*","Phone Number*","Extension*","Designation","Active (true/false)"],K=["John","Doe","Main Office","john.doe@company.com","+1 (555) 200-1010","+1 (555) 100-1010","1010","Software Engineer","true"],ae=[L.join(","),K.join(","),"# Available Locations: "+c.map($=>$.name).join(", "),"# Required fields are marked with *",'# Active field should be "true" or "false"'].join(`
`),re=new Blob([ae],{type:"text/csv"}),E=URL.createObjectURL(re),C=document.createElement("a");C.href=E,C.download="staff-upload-template.csv",C.click(),URL.revokeObjectURL(E)},A=L=>{var re;const K=(re=L.target.files)==null?void 0:re[0];if(!K)return;const ae=new FileReader;ae.onload=E=>{var $;const C=($=E.target)==null?void 0:$.result;F(C)},ae.readAsText(K)},F=L=>{const K=L.split(`
`).filter(E=>E.trim()&&!E.startsWith("#"));if(K.length<2){m({success:0,errors:["CSV file must contain at least a header row and one data row"],total:0});return}K[0].split(",").map(E=>E.trim());const ae=K.slice(1),re={success:0,errors:[],total:ae.length};ae.forEach((E,C)=>{var $;try{const W=E.split(",").map(oe=>oe.trim()),Z=C+2,ie=W[0],se=W[1],on=W[2],ne=W[3],je=W[4],pr=W[5],xr=W[6],xs=W[7]||"",gs=(($=W[8])==null?void 0:$.toLowerCase())==="true";if(!ie||!se||!on||!ne||!je||!pr||!xr){re.errors.push(`Row ${Z}: Missing required fields`);return}const k=c.find(oe=>oe.name.toLowerCase()===on.toLowerCase());if(!k){re.errors.push(`Row ${Z}: Location "${on}" not found`);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ne)){re.errors.push(`Row ${Z}: Invalid email format`);return}if(e.find(oe=>oe.email.toLowerCase()===ne.toLowerCase())){re.errors.push(`Row ${Z}: Staff member with email "${ne}" already exists`);return}const Fe={firstName:ie,lastName:se,locationId:k.id,email:ne,password:"temp123",mobileNumber:je,phoneNumber:pr,extension:xr,designation:xs,role:"staff",photoUrl:"",isActive:gs,canLogin:!0};t(Fe),re.success++}catch(W){re.errors.push(`Row ${C+2}: Error processing row - ${W}`)}}),m(re),j.current&&(j.current.value="")},Y=()=>{b(!1),m(null)};return r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-[#2d4170] to-[#3a4f7a] px-8 py-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Be,{className:"w-8 h-8 text-white mr-3"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Staff Management"}),r.jsx("p",{className:"text-blue-100 opacity-80",children:"Manage staff members and their information"})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:()=>i(),className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition duration-200",disabled:l,children:[r.jsx(Be,{className:"w-4 h-4 mr-2"}),l?"Loading...":"Reload"]}),r.jsxs("button",{onClick:()=>b(!0),className:"flex items-center px-4 py-2 bg-[#EB6E38] hover:bg-[#d85a2a] text-white rounded-lg transition duration-200",children:[r.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Bulk Upload"]}),r.jsxs("button",{onClick:()=>d(!0),className:"flex items-center px-4 py-2 bg-[#EB6E38] hover:bg-[#d85a2a] text-white rounded-lg transition duration-200",children:[r.jsx(Om,{className:"w-4 h-4 mr-2"}),"Add Staff Member"]})]})]})}),g&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Wc,{className:"w-6 h-6 text-white mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Bulk Upload Staff Members"})]}),r.jsx("button",{onClick:Y,className:"text-white hover:bg-white/20 rounded-lg p-1 transition duration-200",children:r.jsx(bt,{className:"w-5 h-5"})})]})}),r.jsx("div",{className:"p-6",children:S?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[S.success>0?r.jsx(Am,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}):r.jsx($r,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload Results"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:S.total}),r.jsx("div",{className:"text-sm text-blue-800",children:"Total Rows"})]}),r.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:S.success}),r.jsx("div",{className:"text-sm text-green-800",children:"Successful"})]}),r.jsxs("div",{className:"bg-red-50 rounded-lg p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:S.errors.length}),r.jsx("div",{className:"text-sm text-red-800",children:"Errors"})]})]}),S.errors.length>0&&r.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[r.jsx("h5",{className:"font-medium text-red-900 mb-2",children:"Errors:"}),r.jsx("div",{className:"max-h-40 overflow-y-auto",children:S.errors.map((L,K)=>r.jsxs("div",{className:"text-sm text-red-800 mb-1",children:["• ",L]},K))})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("button",{onClick:Y,className:"px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition duration-200",children:"Close"})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(Wc,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload Staff Members via CSV"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Download the template, fill in your staff data, and upload the CSV file to add multiple staff members at once."})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[r.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:"Instructions:"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[r.jsx("li",{children:"1. Download the CSV template below"}),r.jsx("li",{children:"2. Fill in your staff member information"}),r.jsx("li",{children:"3. Save the file and upload it using the upload button"}),r.jsx("li",{children:"4. Required fields: First Name, Last Name, Location, Email, Mobile, Phone, Extension"}),r.jsx("li",{children:"5. Location names must match existing locations exactly"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("button",{onClick:V,className:"flex-1 flex items-center justify-center px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg transition duration-200",children:[r.jsx(Mm,{className:"w-5 h-5 mr-2"}),"Download Template"]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{ref:j,type:"file",accept:".csv",onChange:A,className:"hidden"}),r.jsxs("button",{onClick:()=>{var L;return(L=j.current)==null?void 0:L.click()},className:"w-full flex items-center justify-center px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition duration-200",children:[r.jsx(Gn,{className:"w-5 h-5 mr-2"}),"Upload CSV File"]})]})]}),r.jsx("div",{className:"bg-yellow-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx($r,{className:"w-5 h-5 text-yellow-600 mr-2 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h6",{className:"font-medium text-yellow-900",children:"Available Locations:"}),r.jsx("p",{className:"text-sm text-yellow-800 mt-1",children:c.map(L=>L.name).join(", ")})]})]})})]})})]})}),o&&r.jsxs("div",{className:"border-b border-gray-200 p-8 bg-gray-50",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:x?"Edit Staff Member":"Add New Staff Member"}),r.jsxs("form",{onSubmit:R,className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:y?r.jsx("img",{src:y,alt:"Staff photo",className:"w-full h-full object-cover"}):r.jsx(Cn,{className:"w-12 h-12 text-gray-400"})})}),r.jsxs("div",{children:[r.jsxs("button",{type:"button",onClick:()=>{var L;return(L=w.current)==null?void 0:L.click()},className:"flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition duration-200",children:[r.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Upload Photo"]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Optional - JPG, PNG up to 5MB"}),r.jsx("input",{ref:w,type:"file",accept:"image/*",onChange:B,className:"hidden"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),r.jsx("input",{type:"text",name:"firstName",value:N.firstName,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter first name",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),r.jsx("input",{type:"text",name:"lastName",value:N.lastName,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter last name",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),r.jsxs("select",{name:"locationId",value:N.locationId,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:"Select location"}),c.map(L=>r.jsx("option",{value:L.id,children:L.name},L.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),r.jsxs("select",{name:"role",value:N.role,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"staff",children:"Staff"}),r.jsx("option",{value:"reception",children:"Receptionist"}),r.jsx("option",{value:"admin",children:"Admin"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designation"}),r.jsx("input",{type:"text",name:"designation",value:N.designation,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"e.g., Senior Engineer, Manager"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),r.jsx("input",{type:"email",name:"email",value:N.email,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"email@company.com",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile Number *"}),r.jsx("input",{type:"tel",name:"mobileNumber",value:N.mobileNumber,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+1 (555) 200-0000",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),r.jsx("input",{type:"tel",name:"phoneNumber",value:N.phoneNumber,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+91 98765 43210",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Extension *"}),r.jsx("input",{type:"text",name:"extension",value:N.extension,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"1001",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),r.jsx("input",{type:"password",name:"password",value:N.password,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter login password",required:!0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Password for staff member to login to the system"})]}),r.jsxs("div",{className:"flex items-center h-fit pt-6",children:[r.jsx("input",{type:"checkbox",id:"canLogin",name:"canLogin",checked:N.canLogin,onChange:H,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"canLogin",className:"ml-2 text-sm text-gray-700",children:"Allow system login"})]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"isActive",name:"isActive",checked:N.isActive,onChange:H,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm text-gray-700",children:"Active staff member"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition duration-200",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),x?"Update Staff Member":"Add Staff Member"]}),r.jsxs("button",{type:"button",onClick:O,className:"flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition duration-200",children:[r.jsx(bt,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]}),r.jsxs("div",{className:"p-8",children:[a&&r.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx($r,{className:"w-5 h-5 mr-2"}),r.jsx("span",{children:a})]})}),l?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-green-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading staff members..."}),r.jsx("p",{className:"text-gray-500",children:"Please wait while we fetch the data."})]}):e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Be,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No staff members yet"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Add your first staff member to get started."}),r.jsx("button",{onClick:()=>d(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition duration-200",children:"Add First Staff Member"})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:e.map(L=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition duration-200",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:L.photoUrl?r.jsx("img",{src:L.photoUrl,alt:`${L.firstName} ${L.lastName}`,className:"w-full h-full object-cover"}):r.jsx(Cn,{className:"w-6 h-6 text-gray-400"})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[L.firstName," ",L.lastName]}),L.designation&&r.jsx("p",{className:"text-sm text-gray-600",children:L.designation})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>J(L.id,L.isActive),className:`p-1 rounded-full transition duration-200 ${L.isActive?"text-green-600 hover:bg-green-100":"text-gray-400 hover:bg-gray-100"}`,title:L.isActive?"Active - Click to deactivate":"Inactive - Click to activate",children:L.isActive?r.jsx(en,{className:"w-4 h-4"}):r.jsx(Kl,{className:"w-4 h-4"})}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:L.isActive?"Active":"Inactive"})]})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(ft,{className:"w-4 h-4 mr-2 text-gray-400"}),T(L.locationId)]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(hr,{className:"w-4 h-4 mr-2 text-gray-400"}),L.email]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(d0,{className:"w-4 h-4 mr-2 text-gray-400"}),L.mobileNumber]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(an,{className:"w-4 h-4 mr-2 text-gray-400"}),L.phoneNumber," ext. ",L.extension]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>M(L),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition duration-200",children:[r.jsx(So,{className:"w-4 h-4 mr-1"}),"Edit"]}),r.jsxs("button",{onClick:()=>D(L),className:"flex-1 flex items-center justify-center px-3 py-2 bg-red-600 hover:bg-red-700 text-white text-sm rounded-lg transition duration-200",children:[r.jsx(Co,{className:"w-4 h-4 mr-1"}),"Delete"]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 text-xs text-gray-500",children:["Added: ",new Date(L.createdAt).toLocaleDateString(),L.updatedAt!==L.createdAt&&r.jsxs("span",{className:"ml-4",children:["Updated: ",new Date(L.updatedAt).toLocaleDateString()]})]})]},L.id))})]})]}),r.jsx(ir,{isOpen:u.isOpen,title:"Delete Staff Member",message:`Are you sure you want to delete "${u.staffName}"? This action cannot be undone and will remove all their access to the system.`,confirmText:"Delete Staff Member",cancelText:"Cancel",type:"danger",onConfirm:ee,onCancel:G,isLoading:u.isLoading})]})},N0=e=>{if(typeof e=="string")switch(e){case"awaiting_approval":return"Awaiting Approval";case"approved":return"Approved";case"rejected":return"Rejected";case"checked_in":return"Checked In";case"checked_out":return"Checked Out";case"rescheduled":return"Rescheduled";default:return e.charAt(0).toUpperCase()+e.slice(1).replace("_"," ")}switch(e){case 1:return"Awaiting Approval";case 2:return"Approved";case 3:return"Rejected";case 4:return"Checked In";case 5:return"Checked Out";case 6:return"Rescheduled";default:return"Unknown"}},Gc=()=>{var je,pr,xr,xs,gs;const{visitors:e,updateVisitorStatus:t,updateVisitorAssignment:n,rescheduleVisitor:s,deleteVisitor:l}=hs(),{locations:a}=ps(),{getActiveStaffMembers:i,getStaffMembersByLocation:c}=ql(),[o,d]=h.useState("live"),[x,v]=h.useState("all"),[y,p]=h.useState(null),[g,b]=h.useState(null),[S,m]=h.useState({isOpen:!1,visitorId:null,visitorName:"",currentDate:"",newDate:"",newTime:""}),[u,f]=h.useState({isOpen:!1,visitorId:null,visitorName:"",visitorLocationId:"",currentWhomToMeet:"",newWhomToMeet:""}),[w,j]=h.useState({isOpen:!1,visitorId:null,visitorName:"",isLoading:!1}),[N,P]=h.useState({isOpen:!1,visitorId:null,visitorName:"",isLoading:!1}),[R,z]=h.useState({from:new Date(Date.now()-7*24*60*60*1e3).toISOString().split("T")[0],to:new Date().toISOString().split("T")[0]}),M=()=>{const k=new Date().toDateString();return e.filter(_=>{const Fe=new Date(_.dateTime).toDateString()===k,oe=x==="all"||_.locationId===x;return Fe&&oe})},D=(()=>{const k=new Date(R.from),_=new Date(R.to),q=e.filter(we=>{const Ze=new Date(we.dateTime),Bm=Ze>=k&&Ze<=_,Wm=x==="all"||we.locationId===x;return Bm&&Wm}),Fe=q.length,oe=q.filter(we=>["approved","checked_in","checked_out"].includes(we.status)).length,Fm=q.filter(we=>we.status==="rejected").length,Dm=q.filter(we=>we.status==="awaiting_approval").length,Vm=Fe>0?(oe/Fe*100).toFixed(1):"0",$m=q.reduce((we,Ze)=>(we[Ze.whomToMeet]=(we[Ze.whomToMeet]||0)+1,we),{}),_m=Object.entries($m).sort(([,we],[,Ze])=>Ze-we).slice(0,5),Um=q.reduce((we,Ze)=>(we[Ze.purposeOfVisit]=(we[Ze.purposeOfVisit]||0)+1,we),{}),zm=Object.entries(Um).sort(([,we],[,Ze])=>Ze-we).slice(0,5);return{totalVisitors:Fe,approvedVisitors:oe,rejectedVisitors:Fm,pendingVisitors:Dm,approvalRate:Vm,topStaff:_m,topPurposes:zm,filteredVisitors:q}})(),ee=M(),G=k=>{const _=new Date(k),q=new Date;return q.setHours(0,0,0,0),_.setHours(0,0,0,0),_>=q},B=k=>{const _=G(k.dateTime);switch(k.status){case"awaiting_approval":return{canApprove:_,canReject:!0,canReschedule:!0,canEdit:!0,canDelete:!0};case"approved":return{canApprove:!1,canReject:!1,canReschedule:!1,canEdit:!1,canDelete:!0};case"rejected":return{canApprove:!1,canReject:!1,canReschedule:!1,canEdit:!1,canDelete:!0};case"rescheduled":return{canApprove:_,canReject:!0,canReschedule:!0,canEdit:!0,canDelete:!0};default:return{canApprove:!1,canReject:!1,canReschedule:!1,canEdit:!1,canDelete:!0}}},H=e.filter(_=>{const q=x==="all"||_.locationId===x;return["awaiting_approval","approved","rejected","rescheduled"].includes(_.status)&&q}).sort((_,q)=>{const Fe=["awaiting_approval","rescheduled"].includes(_.status),oe=["awaiting_approval","rescheduled"].includes(q.status);return Fe===oe?new Date(q.dateTime).getTime()-new Date(_.dateTime).getTime():Fe?-1:1}),T=H.filter(k=>!["approved","rejected"].includes(k.status)).length,V=async(k,_)=>{b(k),await new Promise(q=>setTimeout(q,1e3)),await t(k,_),b(null)},A=k=>{const _=new Date(k.dateTime);m({isOpen:!0,visitorId:k.id,visitorName:k.fullName,currentDate:k.dateTime,newDate:_.toISOString().split("T")[0],newTime:_.toTimeString().slice(0,5)})},F=()=>{m({isOpen:!1,visitorId:null,visitorName:"",currentDate:"",newDate:"",newTime:""})},Y=k=>{f({isOpen:!0,visitorId:k.id,visitorName:k.fullName,visitorLocationId:k.locationId,currentWhomToMeet:k.whomToMeet,newWhomToMeet:k.whomToMeet})},L=()=>{f({isOpen:!1,visitorId:null,visitorName:"",visitorLocationId:"",currentWhomToMeet:"",newWhomToMeet:""})},K=k=>{j({isOpen:!0,visitorId:k.id,visitorName:k.fullName,isLoading:!1})},ae=async()=>{if(w.visitorId){j(k=>({...k,isLoading:!0}));try{await l(w.visitorId)?(console.log(`✅ Successfully deleted visitor ${w.visitorId}`),j({isOpen:!1,visitorId:null,visitorName:"",isLoading:!1})):(console.error(`❌ Failed to delete visitor ${w.visitorId}`),alert("Failed to delete visitor. Please try again."),j(_=>({..._,isLoading:!1})))}catch(k){console.error("Error deleting visitor:",k),alert("An error occurred while deleting the visitor. Please try again."),j(_=>({..._,isLoading:!1}))}}},re=()=>{w.isLoading||j({isOpen:!1,visitorId:null,visitorName:"",isLoading:!1})},E=k=>{P({isOpen:!0,visitorId:k.id,visitorName:k.fullName,isLoading:!1})},C=async()=>{if(N.visitorId){P(k=>({...k,isLoading:!0}));try{await t(N.visitorId,"rejected")?(console.log(`✅ Successfully rejected visitor ${N.visitorId}`),P({isOpen:!1,visitorId:null,visitorName:"",isLoading:!1})):(console.error(`❌ Failed to reject visitor ${N.visitorId}`),alert("Failed to reject visitor. Please try again."),P(_=>({..._,isLoading:!1})))}catch(k){console.error("Error rejecting visitor:",k),alert("An error occurred while rejecting the visitor. Please try again."),P(_=>({..._,isLoading:!1}))}}},$=()=>{N.isLoading||P({isOpen:!1,visitorId:null,visitorName:"",isLoading:!1})},W=async()=>{if(!(!S.visitorId||!S.newDate||!S.newTime)){b(S.visitorId);try{const _=new Date(`${S.newDate}T${S.newTime}`).toISOString();console.log(`🔄 Rescheduling visitor ${S.visitorId} to ${_}`),await s(S.visitorId,_)?(console.log(`✅ Successfully rescheduled visitor ${S.visitorId}`),F()):(console.error(`❌ Failed to reschedule visitor ${S.visitorId}`),alert("Failed to reschedule visitor. Please try again."))}catch(k){console.error("Error rescheduling visitor:",k),alert("An error occurred while rescheduling. Please try again.")}finally{b(null)}}},Z=async()=>{if(!(!u.visitorId||!u.newWhomToMeet)){b(u.visitorId);try{await n(u.visitorId,u.newWhomToMeet)?(L(),alert(`Visitor assignment updated successfully!
Old: ${u.currentWhomToMeet}
New: ${u.newWhomToMeet}`)):alert("Failed to update visitor assignment. Please try again.")}catch(k){console.error("Error updating visitor assignment:",k),alert("An error occurred while updating the assignment. Please try again.")}finally{b(null)}}},se={total:ee.length,awaiting:ee.filter(k=>k.status==="awaiting_approval").length,approved:ee.filter(k=>k.status==="approved").length,checkedIn:ee.filter(k=>k.status==="checked_in").length,checkedOut:ee.filter(k=>k.status==="checked_out").length,rejected:ee.filter(k=>k.status==="rejected").length};ou.useEffect(()=>{if(o==="live"){const k=setInterval(()=>{v(_=>_)},1e4);return p(k),()=>{k&&clearInterval(k)}}else y&&(clearInterval(y),p(null))},[o]);const on=k=>{const _={awaiting_approval:{color:"bg-yellow-100 text-yellow-800",text:"Awaiting Approval"},approved:{color:"bg-green-100 text-green-800",text:"Approved"},rejected:{color:"bg-red-100 text-red-800",text:"Rejected"},rescheduled:{color:"bg-blue-100 text-blue-800",text:"Rescheduled"},checked_in:{color:"bg-purple-100 text-purple-800",text:"Checked In"},checked_out:{color:"bg-gray-100 text-gray-800",text:"Checked Out"}},q=_[k]||_.awaiting_approval;return r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${q.color}`,children:q.text})},ne=()=>{const k=[["Name","Phone","Email","Company","Purpose","Meeting With","Status","Date/Time","Check In","Check Out"],...D.filteredVisitors.map(oe=>[oe.fullName,oe.phoneNumber,oe.email||"",oe.companyName||"",oe.purposeOfVisit,oe.whomToMeet,oe.status,new Date(oe.dateTime).toLocaleString(),oe.checkInTime?new Date(oe.checkInTime).toLocaleString():"",oe.checkOutTime?new Date(oe.checkOutTime).toLocaleString():""])].map(oe=>oe.join(",")).join(`
`),_=new Blob([k],{type:"text/csv"}),q=URL.createObjectURL(_),Fe=document.createElement("a");Fe.href=q,Fe.download=`visitor-report-${R.from}-to-${R.to}.csv`,Fe.click(),URL.revokeObjectURL(q)};return r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden mb-8",children:[r.jsx("div",{className:"bg-gradient-to-r from-[#2d4170] to-[#3a4f7a] px-8 py-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(as,{className:"w-8 h-8 text-white mr-3"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Admin Dashboard"}),r.jsx("p",{className:"text-blue-100 opacity-80",children:"Comprehensive visitor analytics and management"})]})]}),o==="analytics"&&r.jsxs("button",{onClick:ne,className:"flex items-center px-4 py-2 bg-[#EB6E38] hover:bg-[#d85a2a] text-white rounded-lg transition duration-200",children:[r.jsx(Mm,{className:"w-4 h-4 mr-2"}),"Export Data"]})]})}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("nav",{className:"flex space-x-8 px-8",children:[r.jsxs("button",{onClick:()=>d("live"),className:`py-4 px-1 border-b-2 font-medium text-sm transition duration-200 ${o==="live"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(en,{className:"inline w-4 h-4 mr-2"}),"Live View ",x!=="all"&&`(${(je=a.find(k=>k.id===x))==null?void 0:je.name})`]}),r.jsxs("button",{onClick:()=>d("analytics"),className:`py-4 px-1 border-b-2 font-medium text-sm transition duration-200 ${o==="analytics"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(Vs,{className:"inline w-4 h-4 mr-2"}),"Analytics"]}),r.jsxs("button",{onClick:()=>d("approvals"),className:`py-4 px-1 border-b-2 font-medium text-sm transition duration-200 ${o==="approvals"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(Pe,{className:"inline w-4 h-4 mr-2"}),"Approvals (",T,")"]}),r.jsxs("button",{onClick:()=>d("locations"),className:`py-4 px-1 border-b-2 font-medium text-sm transition duration-200 ${o==="locations"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(ft,{className:"inline w-4 h-4 mr-2"}),"Locations"]}),r.jsxs("button",{onClick:()=>d("staff"),className:`py-4 px-1 border-b-2 font-medium text-sm transition duration-200 ${o==="staff"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(Be,{className:"inline w-4 h-4 mr-2"}),"Staff"]})]})}),(o==="analytics"||o==="live")&&r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-4 sm:space-y-0 sm:space-x-6 bg-gray-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-3 bg-white rounded-lg px-4 py-2 shadow-sm",children:[r.jsx(wi,{className:"w-5 h-5 text-gray-500"}),r.jsx("label",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:o==="live"?"Live Location:":"Location:"}),r.jsxs("select",{value:x,onChange:k=>v(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent min-w-[200px]",children:[r.jsx("option",{value:"all",children:"All Locations"}),a.map(k=>r.jsxs("option",{value:k.id,children:[k.name," ",!k.isActive&&"(Inactive)"]},k.id))]})]}),o==="analytics"&&r.jsxs(r.Fragment,{children:[r.jsx(sr,{className:"w-5 h-5 text-gray-500"}),r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"From:"}),r.jsx("input",{type:"date",value:R.from,onChange:k=>z(_=>({..._,from:k.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"To:"}),r.jsx("input",{type:"date",value:R.to,onChange:k=>z(_=>({..._,to:k.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]})})]}),o==="locations"?r.jsx(v0,{}):o==="staff"?r.jsx(w0,{}):o==="approvals"?r.jsx(r.Fragment,{children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Visitor Management"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Review and manage visitor requests"})]}),r.jsxs("div",{className:"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium",children:[T," Requiring Action"]})]})}),r.jsx("div",{className:"p-6",children:T===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Pe,{className:"w-12 h-12 text-green-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"All Caught Up!"}),r.jsx("p",{className:"text-gray-500",children:"No visitors requiring action at the moment."}),H.filter(k=>["approved","rejected"].includes(k.status)).length>0&&r.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[H.filter(k=>k.status==="approved").length," approved and ",H.filter(k=>k.status==="rejected").length," rejected visitor(s) shown below for reference."]})]}):r.jsx("div",{className:"space-y-6",children:H.map(k=>{var _;return r.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition duration-200",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Cn,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:k.fullName}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(an,{className:"w-4 h-4 mr-1"}),k.phoneNumber]}),k.companyName&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ln,{className:"w-4 h-4 mr-1"}),k.companyName]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(sr,{className:"w-4 h-4 mr-1"}),new Date(k.dateTime).toLocaleString()]})]})]})]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Location:"}),r.jsx("p",{className:"text-sm text-gray-900 mt-1",children:((_=a.find(q=>q.id===k.locationId))==null?void 0:_.name)||"Unknown Location"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Meeting With:"}),r.jsx("p",{className:"text-sm text-gray-900 mt-1",children:k.whomToMeet})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Purpose:"}),r.jsx("p",{className:"text-sm text-gray-900 mt-1",children:k.purposeOfVisit})]})]})}),r.jsx("div",{className:"flex space-x-3",children:(()=>{const q=B(k);return r.jsxs(r.Fragment,{children:[k.status==="approved"&&r.jsx("div",{className:"flex items-center mb-3",children:r.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-green-100 text-green-800 border border-green-200 rounded-full text-sm font-medium",children:[r.jsx(Pe,{className:"w-4 h-4 mr-1"}),"Approved - No further actions available"]})}),k.status==="rejected"&&r.jsx("div",{className:"flex items-center mb-3",children:r.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-red-100 text-red-800 border border-red-200 rounded-full text-sm font-medium",children:[r.jsx(bt,{className:"w-4 h-4 mr-1"}),"Rejected - No further actions available"]})}),!G(k.dateTime)&&k.status==="awaiting_approval"&&r.jsx("div",{className:"flex items-center mb-3",children:r.jsx("span",{className:"text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded border border-amber-200",children:"Past date - limited actions available"})}),(q.canApprove||q.canReject||q.canReschedule||q.canEdit||q.canDelete)&&r.jsxs("div",{className:"flex space-x-3",children:[q.canApprove&&r.jsxs("button",{onClick:()=>V(k.id,"approved"),disabled:g===k.id,className:"flex items-center px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white text-sm font-medium rounded-lg transition duration-200 disabled:opacity-50",children:[g===k.id?r.jsx(yn,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(Pe,{className:"w-4 h-4 mr-2"}),"Approve"]}),q.canReject&&r.jsxs("button",{onClick:()=>E(k),disabled:g===k.id,className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-lg transition duration-200 disabled:opacity-50",children:[r.jsx(bt,{className:"w-4 h-4 mr-2"}),"Reject"]}),q.canReschedule&&r.jsxs("button",{onClick:()=>A(k),disabled:g===k.id,className:"flex items-center px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white text-sm font-medium rounded-lg transition duration-200 disabled:opacity-50",children:[r.jsx(kn,{className:"w-4 h-4 mr-2"}),"Reschedule"]}),q.canEdit&&r.jsxs("button",{onClick:()=>Y(k),disabled:g===k.id,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition duration-200 disabled:opacity-50",children:[r.jsx(So,{className:"w-4 h-4 mr-2"}),"Edit Assignment"]}),q.canDelete&&r.jsxs("button",{onClick:()=>K(k),disabled:g===k.id,className:"flex items-center px-4 py-2 bg-red-700 hover:bg-red-800 text-white text-sm font-medium rounded-lg transition duration-200 disabled:opacity-50",children:[r.jsx(Co,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})()})]})})},k.id)})})})]})}):o==="live"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Be,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today's Total"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:se.total})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(zc,{className:"w-6 h-6 text-yellow-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Awaiting"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:se.awaiting})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(Hc,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:se.approved})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(en,{className:"w-6 h-6 text-purple-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Checked In"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:se.checkedIn})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsx(Be,{className:"w-6 h-6 text-gray-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Checked Out"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:se.checkedOut})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(Vs,{className:"w-6 h-6 text-red-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:se.rejected})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Live Visitor Activity - ",new Date().toLocaleDateString()]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x==="all"?"Showing activity across all locations":`Showing activity for ${((pr=a.find(k=>k.id===x))==null?void 0:pr.name)||"selected location"}`})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Live Updates"}),r.jsxs("span",{className:"text-xs text-gray-500",children:["(",ee.length," visitors)"]})]})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Visitor"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Meeting With"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Purpose"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:r.jsxs("div",{className:"text-gray-500",children:[r.jsx(en,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-lg font-medium",children:"No visitors today"}),r.jsx("p",{className:"text-sm",children:x==="all"?"No visitor activity across all locations today":`No visitor activity at ${((xr=a.find(k=>k.id===x))==null?void 0:xr.name)||"selected location"} today`})]})})}):ee.map(k=>{const _=a.find(q=>q.id===k.locationId);return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-medium text-gray-600",children:k.fullName.split(" ").map(q=>q[0]).join("")})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.fullName}),r.jsx("div",{className:"text-sm text-gray-500",children:k.phoneNumber})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ft,{className:"w-4 h-4 text-gray-400 mr-2"}),r.jsx("span",{className:"text-sm text-gray-900",children:(_==null?void 0:_.name)||"Unknown"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.whomToMeet}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:k.purposeOfVisit}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:on(k.status)}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[r.jsx("div",{children:new Date(k.dateTime).toLocaleTimeString()}),k.checkInTime&&r.jsxs("div",{className:"text-xs text-green-600",children:["In: ",new Date(k.checkInTime).toLocaleTimeString()]}),k.checkOutTime&&r.jsxs("div",{className:"text-xs text-red-600",children:["Out: ",new Date(k.checkOutTime).toLocaleTimeString()]})]})]},k.id)})})]})})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Be,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Visitors"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.totalVisitors})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(Hc,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approval Rate"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[D.approvalRate,"%"]})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(zc,{className:"w-6 h-6 text-yellow-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.pendingVisitors})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(Vs,{className:"w-6 h-6 text-red-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.rejectedVisitors})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx(i0,{className:"w-6 h-6 text-purple-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Most Visited Staff"})]}),r.jsx("div",{className:"space-y-4",children:D.topStaff.length===0?r.jsx("p",{className:"text-gray-500 text-center py-4",children:"No data available"}):D.topStaff.map(([k,_],q)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mr-3",children:r.jsxs("span",{className:"text-xs font-medium text-purple-600",children:["#",q+1]})}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:k})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2 mr-3",children:r.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${_/D.totalVisitors*100}%`}})}),r.jsx("span",{className:"text-sm font-bold text-gray-700",children:_})]})]},k))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx(Vs,{className:"w-6 h-6 text-blue-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Visit Purposes"})]}),r.jsx("div",{className:"space-y-4",children:D.topPurposes.length===0?r.jsx("p",{className:"text-gray-500 text-center py-4",children:"No data available"}):D.topPurposes.map(([k,_],q)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:r.jsxs("span",{className:"text-xs font-medium text-blue-600",children:["#",q+1]})}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:k})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2 mr-3",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${_/D.totalVisitors*100}%`}})}),r.jsx("span",{className:"text-sm font-bold text-gray-700",children:_})]})]},k))})]})]}),r.jsxs("div",{className:"mt-8 bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Visitor Activity"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Visitor"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Meeting With"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Purpose"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.filteredVisitors.slice(0,10).map(k=>{var _;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-medium text-gray-600",children:k.fullName.split(" ").map(q=>q[0]).join("")})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.fullName}),r.jsx("div",{className:"text-sm text-gray-500",children:k.phoneNumber})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ft,{className:"w-4 h-4 text-gray-400 mr-2"}),r.jsx("span",{className:"text-sm text-gray-900",children:((_=a.find(q=>q.id===k.locationId))==null?void 0:_.name)||"Unknown"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.whomToMeet}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:k.purposeOfVisit}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k.status==="approved"?"bg-green-100 text-green-800":k.status==="rejected"?"bg-red-100 text-red-800":k.status==="checked_in"?"bg-purple-100 text-purple-800":k.status==="checked_out"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:N0(k.status)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(k.dateTime).toLocaleDateString()})]},k.id)})})]})})]})]}),S.isOpen&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Reschedule Visitor"}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[r.jsx("strong",{children:"Visitor:"})," ",S.visitorName]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:[r.jsx("p",{className:"text-sm font-medium text-blue-800 mb-1",children:"Current Scheduled Date & Time:"}),r.jsx("p",{className:"text-lg font-semibold text-blue-900",children:new Date(S.currentDate).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),r.jsx("p",{className:"text-md font-medium text-blue-900",children:new Date(S.currentDate).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Date"}),r.jsx("input",{type:"date",value:S.newDate,onChange:k=>m(_=>({..._,newDate:k.target.value})),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Time"}),r.jsx("input",{type:"time",value:S.newTime,onChange:k=>m(_=>({..._,newTime:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex space-x-3 mt-6",children:[r.jsx("button",{onClick:F,className:"flex-1 px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-700 font-medium rounded-md transition duration-200",children:"Cancel"}),r.jsx("button",{onClick:W,disabled:!S.newDate||!S.newTime||g===S.visitorId,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium rounded-md transition duration-200",children:g===S.visitorId?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2 inline-block"}),"Rescheduling..."]}):"Reschedule"})]})]})}),u.isOpen&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Edit Visitor Assignment"}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[r.jsx("strong",{children:"Visitor:"})," ",u.visitorName]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[r.jsx("strong",{children:"Location:"})," ",u.visitorLocationId?((xs=a.find(k=>k.id===u.visitorLocationId))==null?void 0:xs.name)||"Unknown Location":"No Location"]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[r.jsx("strong",{children:"Current Assignment:"})," ",u.currentWhomToMeet]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Assign to Staff Member",u.visitorLocationId&&r.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(showing staff from ",((gs=a.find(k=>k.id===u.visitorLocationId))==null?void 0:gs.name)||"this location",")"]})]}),r.jsxs("select",{value:u.newWhomToMeet,onChange:k=>f(_=>({..._,newWhomToMeet:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select staff member"}),u.visitorLocationId?c(u.visitorLocationId).map(k=>r.jsxs("option",{value:`${k.firstName} ${k.lastName}`,children:[k.firstName," ",k.lastName," - ",k.designation||"Staff"]},k.id)):i().map(k=>r.jsxs("option",{value:`${k.firstName} ${k.lastName}`,children:[k.firstName," ",k.lastName," - ",k.designation||"Staff"]},k.id))]})]}),u.newWhomToMeet&&u.newWhomToMeet!==u.currentWhomToMeet&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[r.jsx("strong",{children:"⚠️ Assignment Change:"}),r.jsx("br",{}),"From: ",r.jsx("span",{className:"font-medium",children:u.currentWhomToMeet}),r.jsx("br",{}),"To: ",r.jsx("span",{className:"font-medium",children:u.newWhomToMeet})]})})]}),r.jsxs("div",{className:"flex space-x-3 mt-6",children:[r.jsx("button",{onClick:L,className:"flex-1 px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-700 font-medium rounded-md transition duration-200",children:"Cancel"}),r.jsx("button",{onClick:Z,disabled:!u.newWhomToMeet||u.newWhomToMeet===u.currentWhomToMeet||g===u.visitorId,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium rounded-md transition duration-200",children:g===u.visitorId?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2 inline-block"}),"Updating..."]}):"Update Assignment"})]})]})}),r.jsx(ir,{isOpen:w.isOpen,title:"Delete Visitor",message:`Are you sure you want to delete "${w.visitorName}"? This action cannot be undone and will permanently remove all visitor data including visit history.`,confirmText:"Delete Visitor",cancelText:"Cancel",type:"danger",onConfirm:ae,onCancel:re,isLoading:w.isLoading}),r.jsx(ir,{isOpen:N.isOpen,title:"Reject Visitor",message:`Are you sure you want to reject "${N.visitorName}"? This action will deny their visit request and send them a rejection notification.`,confirmText:"Reject Visitor",cancelText:"Cancel",type:"warning",onConfirm:C,onCancel:$,isLoading:N.isLoading})]})},Jc=[{key:"email",label:"Email Address",description:"Visitor email address for notifications",icon:r.jsx(hr,{className:"w-5 h-5 text-blue-600"})},{key:"companyName",label:"Company Name",description:"Visitor's company or organization",icon:r.jsx(Ln,{className:"w-5 h-5 text-blue-600"})},{key:"idProof",label:"ID Proof",description:"ID type and number verification",icon:r.jsx(Ql,{className:"w-5 h-5 text-blue-600"})},{key:"photo",label:"Photo Capture",description:"Visitor photo for identification",icon:r.jsx(Lt,{className:"w-5 h-5 text-blue-600"})}],j0=[{label:"Full Name",icon:r.jsx(Cn,{className:"w-5 h-5 text-blue-600"}),description:"Always required for identification"},{label:"Phone Number",icon:r.jsx(an,{className:"w-5 h-5 text-blue-600"}),description:"Always required for contact"},{label:"Purpose of Visit",icon:r.jsx(ft,{className:"w-5 h-5 text-blue-600"}),description:"Always required for tracking"},{label:"Whom to Meet",icon:r.jsx(Cn,{className:"w-5 h-5 text-blue-600"}),description:"Always required for notifications"},{label:"Date & Time",icon:r.jsx(kn,{className:"w-5 h-5 text-blue-600"}),description:"Always required for scheduling"}],b0=({locationId:e,onSave:t})=>{const[n,s]=h.useState(null),[l,a]=h.useState(!0),[i,c]=h.useState(!1);h.useEffect(()=>{o()},[e]);const o=async()=>{a(!0);try{const p=await me.getLocationSettings(e);s(p||{id:0,locationId:e,locationName:void 0,purposeOfVisitOptions:["Business Meeting","Interview","Consultation","Other"],idTypeOptions:["Driver's License","Passport","National ID"],isPhotoMandatory:!1,customFields:[],enabledFields:{email:!1,companyName:!1,idProof:!1,photo:!1},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}catch{s({id:0,locationId:e,locationName:void 0,purposeOfVisitOptions:["Business Meeting","Interview","Consultation","Other"],idTypeOptions:["Driver's License","Passport","National ID"],isPhotoMandatory:!1,customFields:[],enabledFields:{email:!1,companyName:!1,idProof:!1,photo:!1},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}finally{a(!1)}},d=p=>{if(!n)return;const g={...n.enabledFields,[p]:!n.enabledFields[p]};s({...n,enabledFields:g})},x=()=>{n&&s({...n,isPhotoMandatory:!n.isPhotoMandatory})},v=async()=>{if(n){c(!0);try{const p=await me.updateLocationSettings(e,{purposeOfVisitOptions:n.purposeOfVisitOptions,idTypeOptions:n.idTypeOptions,isPhotoMandatory:n.isPhotoMandatory,enabledFields:n.enabledFields,customFields:[]});p?(s(p),t==null||t(p),window.dispatchEvent(new CustomEvent("formBuilderSettingsUpdated",{detail:{locationId:e,settings:p,enabledFields:p.enabledFields,isPhotoMandatory:p.isPhotoMandatory,purposeOfVisitOptions:p.purposeOfVisitOptions,idTypeOptions:p.idTypeOptions}})),alert("Settings saved successfully!")):alert("Failed to save settings. Please try again.")}catch{alert("Failed to save settings. Please try again.")}finally{c(!1)}}},y=()=>{confirm("Are you sure you want to reset to default form settings? This will enable all optional fields and reset dropdown options.")&&s(p=>p?{...p,enabledFields:{email:!0,companyName:!0,idProof:!0,photo:!0},isPhotoMandatory:!1,purposeOfVisitOptions:["Business Meeting","Interview","Consultation","Other"],idTypeOptions:["Driver's License","Passport","National ID"]}:null)};return l?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2",children:"Loading form settings..."})]}):n?r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Form Configuration"}),r.jsx("p",{className:"text-gray-600",children:"Configure visitor registration form fields and options"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:y,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(c0,{className:"w-4 h-4"}),"Reset"]}),r.jsxs("button",{onClick:v,disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[r.jsx(_r,{className:"w-4 h-4"}),i?"Saving...":"Save All Settings"]})]})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Optional Fields"}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Configure which optional fields to show in the registration form."}),r.jsx("div",{className:"space-y-4",children:Jc.map(p=>r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[p.icon,r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:p.label}),r.jsx("p",{className:"text-sm text-gray-600",children:p.description})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Enabled:"}),r.jsx("button",{onClick:()=>d(p.key),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.enabledFields[p.key]?"bg-blue-600":"bg-gray-200"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.enabledFields[p.key]?"translate-x-6":"translate-x-1"}`})})]}),p.key==="photo"&&n.enabledFields.photo&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Mandatory:"}),r.jsx("button",{onClick:x,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.isPhotoMandatory?"bg-red-600":"bg-gray-200"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.isPhotoMandatory?"translate-x-6":"translate-x-1"}`})})]}),r.jsx("div",{className:"flex items-center gap-1",children:n.enabledFields[p.key]?r.jsx(en,{className:"w-4 h-4 text-green-600"}):r.jsx(Kl,{className:"w-4 h-4 text-gray-400"})})]})]})},p.key))})]}),r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-4",children:"Current Configuration"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Always Required Fields:"}),r.jsx("ul",{className:"text-sm text-green-700 space-y-1",children:j0.map((p,g)=>r.jsxs("li",{children:["• ",p.label]},g))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Optional Fields:"}),r.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[Object.entries(n.enabledFields).filter(([p,g])=>g).map(([p,g])=>{const b=Jc.find(m=>m.key===p),S=p==="photo"&&n.isPhotoMandatory;return r.jsxs("li",{children:["• ",b==null?void 0:b.label," ",S?"(Mandatory)":"(Optional)"]},p)}),Object.values(n.enabledFields).every(p=>!p)&&r.jsx("li",{children:"• No optional fields enabled"})]})]})]})]})]})]}):r.jsx("div",{className:"text-center p-8",children:r.jsx("p",{className:"text-gray-500",children:"No location settings found. Please select a location first."})})},k0=()=>{const{settings:e,saveAllSettings:t}=Hl(),{user:n}=kt(),{locations:s}=ps(),[l,a]=h.useState(""),[i,c]=h.useState("form"),[o,d]=h.useState({autoApprovalEnabled:!1,maxVisitDuration:8,reminderTimeBeforeVisit:30,allowWalkIns:!0,requireApprovalForAllVisits:!0,enableSMSNotifications:!0,enableEmailNotifications:!0,enableCheckInReminders:!0,dataRetentionDays:90,enableAuditLogs:!0});h.useEffect(()=>{(async()=>{})()},[l]);const x=async()=>{const p={enableEmailNotifications:o.enableEmailNotifications,enableSMSNotifications:o.enableSMSNotifications,enableCheckInReminders:o.enableCheckInReminders,reminderTimeBeforeVisit:o.reminderTimeBeforeVisit},g=await t(p,l);alert(g?"Notification settings saved successfully!":"Failed to save notification settings. Please try again.")},v=async()=>{const p={requireApprovalForAllVisits:o.requireApprovalForAllVisits,autoApprovalEnabled:o.autoApprovalEnabled,allowWalkIns:o.allowWalkIns,dataRetentionDays:o.dataRetentionDays,enableAuditLogs:o.enableAuditLogs},g=await t(p,l);alert(g?"Security settings saved successfully!":"Failed to save security settings. Please try again.")},y=async()=>{const p={maxVisitDuration:o.maxVisitDuration},g=await t(p,l);alert(g?"System settings saved successfully!":"Failed to save system settings. Please try again.")};return r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-[#2d4170] to-[#3a4f7a] px-8 py-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Cl,{className:"w-8 h-8 text-white mr-3"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"System Settings"}),r.jsxs("div",{className:"flex items-center space-x-4 text-blue-100 opacity-80",children:[r.jsx("span",{children:"Configure visitor management system settings"}),e.locationName&&(n==null?void 0:n.role)!=="admin"&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(ft,{className:"w-4 h-4 mr-1"}),r.jsx("span",{children:e.locationName})]}),(n==null?void 0:n.role)==="admin"&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(Cl,{className:"w-4 h-4 mr-1"}),r.jsx("span",{children:"Global Settings"})]})]})]})]}),r.jsx("div",{className:"flex items-center space-x-4",children:(n==null?void 0:n.role)==="admin"&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ft,{className:"w-4 h-4 text-blue-100"}),r.jsxs("select",{value:l,onChange:p=>a(p.target.value),className:"px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:ring-2 focus:ring-white/30 focus:border-transparent",children:[r.jsx("option",{value:"",className:"text-gray-900",children:"All Locations (Global)"}),s.map(p=>r.jsx("option",{value:p.id,className:"text-gray-900",children:p.name},p.id))]})]})})]})}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("nav",{className:"flex space-x-8 px-8",children:[r.jsxs("button",{onClick:()=>c("form"),className:`py-4 px-1 border-b-2 font-medium text-sm transition duration-200 ${i==="form"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(qc,{className:"inline w-4 h-4 mr-2"}),"Form Configuration"]}),r.jsxs("button",{onClick:()=>c("notifications"),className:`py-4 px-1 border-b-2 font-medium text-sm transition duration-200 ${i==="notifications"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(ka,{className:"inline w-4 h-4 mr-2"}),"Notifications"]}),r.jsxs("button",{onClick:()=>c("security"),className:`py-4 px-1 border-b-2 font-medium text-sm transition duration-200 ${i==="security"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(as,{className:"inline w-4 h-4 mr-2"}),"Security & Access"]}),r.jsxs("button",{onClick:()=>c("system"),className:`py-4 px-1 border-b-2 font-medium text-sm transition duration-200 ${i==="system"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(Bc,{className:"inline w-4 h-4 mr-2"}),"System Settings"]})]})}),r.jsxs("div",{className:"p-8",children:[i==="form"&&r.jsx("div",{className:"space-y-8",children:r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[r.jsx(qc,{className:"w-6 h-6 mr-3 text-indigo-600"}),"Form Configuration"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Configure visitor registration form fields and dropdown options. All settings are saved together."})]})}),r.jsx(b0,{locationId:l?parseInt(l):void 0,onSave:()=>{}})]})}),i==="notifications"&&r.jsx("div",{className:"space-y-8",children:r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[r.jsx(ka,{className:"w-6 h-6 mr-3 text-indigo-600"}),"Notification Settings"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Configure how and when notifications are sent to staff and visitors."})]}),r.jsxs("button",{onClick:x,className:"flex items-center px-4 py-2 bg-[#EB6E38] hover:bg-[#d85a2a] text-white rounded-lg transition duration-200",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Save Settings"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[r.jsx(hr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Email Notifications"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"checkbox",checked:o.enableEmailNotifications,onChange:p=>d(g=>({...g,enableEmailNotifications:p.target.checked})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Enable email notifications"})]}),r.jsxs("label",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"checkbox",checked:o.enableCheckInReminders,onChange:p=>d(g=>({...g,enableCheckInReminders:p.target.checked})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Send check-in reminders"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[r.jsx(ka,{className:"w-5 h-5 mr-2 text-green-600"}),"SMS Notifications"]}),r.jsx("div",{className:"space-y-3",children:r.jsxs("label",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"checkbox",checked:o.enableSMSNotifications,onChange:p=>d(g=>({...g,enableSMSNotifications:p.target.checked})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Enable SMS notifications"})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[r.jsx(kn,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Reminder Settings"]}),r.jsx("div",{className:"space-y-3",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("label",{className:"text-sm text-gray-700 min-w-fit",children:"Reminder time before visit:"}),r.jsxs("select",{value:o.reminderTimeBeforeVisit,onChange:p=>d(g=>({...g,reminderTimeBeforeVisit:parseInt(p.target.value)})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[r.jsx("option",{value:"15",children:"15 minutes"}),r.jsx("option",{value:"30",children:"30 minutes"}),r.jsx("option",{value:"60",children:"1 hour"}),r.jsx("option",{value:"120",children:"2 hours"})]})]})})]})]})]})}),i==="security"&&r.jsx("div",{className:"space-y-8",children:r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[r.jsx(as,{className:"w-6 h-6 mr-3 text-indigo-600"}),"Security & Access Control"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Configure security settings and access control policies."})]}),r.jsxs("button",{onClick:v,className:"flex items-center px-4 py-2 bg-[#EB6E38] hover:bg-[#d85a2a] text-white rounded-lg transition duration-200",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Save Settings"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[r.jsx(Pe,{className:"w-5 h-5 mr-2 text-blue-600"}),"Approval Settings"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"checkbox",checked:o.requireApprovalForAllVisits,onChange:p=>d(g=>({...g,requireApprovalForAllVisits:p.target.checked})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Require approval for all visits"})]}),r.jsxs("label",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"checkbox",checked:o.autoApprovalEnabled,onChange:p=>d(g=>({...g,autoApprovalEnabled:p.target.checked})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Enable auto-approval for trusted visitors"})]}),r.jsxs("label",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"checkbox",checked:o.allowWalkIns,onChange:p=>d(g=>({...g,allowWalkIns:p.target.checked})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Allow walk-in visitors"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[r.jsx(en,{className:"w-5 h-5 mr-2 text-green-600"}),"Data Privacy"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("label",{className:"text-sm text-gray-700 min-w-fit",children:"Data retention period:"}),r.jsxs("select",{value:o.dataRetentionDays,onChange:p=>d(g=>({...g,dataRetentionDays:parseInt(p.target.value)})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[r.jsx("option",{value:"30",children:"30 days"}),r.jsx("option",{value:"90",children:"90 days"}),r.jsx("option",{value:"180",children:"6 months"}),r.jsx("option",{value:"365",children:"1 year"})]})]}),r.jsxs("label",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"checkbox",checked:o.enableAuditLogs,onChange:p=>d(g=>({...g,enableAuditLogs:p.target.checked})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Enable audit logs"})]})]})]})]})]})}),i==="system"&&r.jsx("div",{className:"space-y-8",children:r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[r.jsx(Bc,{className:"w-6 h-6 mr-3 text-indigo-600"}),"System Configuration"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Configure system-wide settings and operational parameters."})]}),r.jsxs("button",{onClick:y,className:"flex items-center px-4 py-2 bg-[#EB6E38] hover:bg-[#d85a2a] text-white rounded-lg transition duration-200",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Save Settings"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[r.jsx(kn,{className:"w-5 h-5 mr-2 text-blue-600"}),"Visit Duration"]}),r.jsx("div",{className:"space-y-3",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("label",{className:"text-sm text-gray-700 min-w-fit",children:"Maximum visit duration:"}),r.jsxs("select",{value:o.maxVisitDuration,onChange:p=>d(g=>({...g,maxVisitDuration:parseInt(p.target.value)})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[r.jsx("option",{value:"2",children:"2 hours"}),r.jsx("option",{value:"4",children:"4 hours"}),r.jsx("option",{value:"8",children:"8 hours"}),r.jsx("option",{value:"24",children:"24 hours"})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[r.jsx($r,{className:"w-5 h-5 mr-2 text-green-600"}),"System Status"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[r.jsx("span",{className:"text-sm text-green-800",children:"Database Connection"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm text-green-700",children:"Online"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[r.jsx("span",{className:"text-sm text-green-800",children:"API Service"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm text-green-700",children:"Running"})]})]})]})]})]}),r.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Actions"}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("button",{onClick:()=>alert("Cache cleared successfully!"),className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition duration-200",children:[r.jsx(yn,{className:"w-4 h-4 mr-2"}),"Clear Cache"]}),r.jsxs("button",{onClick:()=>{confirm("Are you sure you want to reset all settings to defaults?")&&alert("Settings reset to defaults!")},className:"flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition duration-200",children:[r.jsx(yn,{className:"w-4 h-4 mr-2"}),"Reset to Defaults"]})]})]})]})})]})]})})};function S0(){const{user:e,isAuthenticated:t}=kt();return console.log("🏗️ App render - isAuthenticated:",t,"user:",e),r.jsxs(ix,{children:[r.jsx(Ae,{path:"/visit/:locationUrl",element:r.jsx(y0,{})}),r.jsx(Ae,{path:"/staff/approval-success/:id",element:r.jsx(Kc,{})}),t?r.jsxs(r.Fragment,{children:[r.jsx(Ae,{path:"/login",element:r.jsx(mn,{to:"/dashboard",replace:!0})}),r.jsx(Ae,{path:"/",element:r.jsx(mn,{to:"/dashboard",replace:!0})}),r.jsx(Ae,{path:"/dashboard",element:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(cn,{}),r.jsx("main",{className:"container mx-auto px-4 py-8",children:(e==null?void 0:e.role)==="reception"?r.jsx(Yc,{}):(e==null?void 0:e.role)==="admin"?r.jsx(Gc,{}):(e==null?void 0:e.role)==="staff"?r.jsx(Qc,{}):r.jsx(mn,{to:"/register",replace:!0})})]})}),r.jsx(Ae,{path:"/register",element:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(cn,{}),r.jsx("main",{className:"container mx-auto px-4 py-8",children:r.jsx(p0,{})})]})}),r.jsx(Ae,{path:"/register/:locationUrl",element:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(cn,{}),r.jsx("main",{className:"container mx-auto px-4 py-8",children:r.jsx(x0,{})})]})}),r.jsx(Ae,{path:"/approval",element:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(cn,{}),r.jsx("main",{className:"container mx-auto px-4 py-8",children:r.jsx(Qc,{})})]})}),r.jsx(Ae,{path:"/reception",element:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(cn,{}),r.jsx("main",{className:"container mx-auto px-4 py-8",children:r.jsx(Yc,{})})]})}),r.jsx(Ae,{path:"/admin",element:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(cn,{}),r.jsx("main",{className:"container mx-auto px-4 py-8",children:r.jsx(Gc,{})})]})}),r.jsx(Ae,{path:"/settings",element:(e==null?void 0:e.role)==="admin"?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(cn,{}),r.jsx("main",{className:"container mx-auto px-4 py-8",children:r.jsx(k0,{})})]}):r.jsx(mn,{to:"/dashboard",replace:!0})}),r.jsx(Ae,{path:"/staff/approval-success/:id",element:r.jsx(Kc,{})}),r.jsx(Ae,{path:"*",element:r.jsx(mn,{to:"/dashboard",replace:!0})})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ae,{path:"/login",element:r.jsx(h0,{})}),r.jsx(Ae,{path:"*",element:r.jsx(mn,{to:"/login",replace:!0})})]})]})}function C0(){return r.jsx(Rx,{children:r.jsx(Ux,{children:r.jsx(Bx,{children:r.jsx(Xx,{children:r.jsx(e0,{children:r.jsx(Jx,{children:r.jsx(Kx,{children:r.jsx(S0,{})})})})})})})})}mm(document.getElementById("root")).render(r.jsx(h.StrictMode,{children:r.jsx(C0,{})}));
